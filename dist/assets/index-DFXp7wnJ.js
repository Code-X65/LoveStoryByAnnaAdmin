(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();var dm={exports:{}},ko={};var Pv;function nS(){if(Pv)return ko;Pv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,l,c){var f=null;if(c!==void 0&&(f=""+c),l.key!==void 0&&(f=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:i,type:r,key:f,ref:l!==void 0?l:null,props:c}}return ko.Fragment=e,ko.jsx=n,ko.jsxs=n,ko}var Lv;function sS(){return Lv||(Lv=1,dm.exports=nS()),dm.exports}var h=sS(),fm={exports:{}},Ne={};var Uv;function iS(){if(Uv)return Ne;Uv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),C=Symbol.iterator;function P(k){return k===null||typeof k!="object"?null:(k=C&&k[C]||k["@@iterator"],typeof k=="function"?k:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,B={};function se(k,W,ae){this.props=k,this.context=W,this.refs=B,this.updater=ae||Q}se.prototype.isReactComponent={},se.prototype.setState=function(k,W){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,W,"setState")},se.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function ie(){}ie.prototype=se.prototype;function G(k,W,ae){this.props=k,this.context=W,this.refs=B,this.updater=ae||Q}var Y=G.prototype=new ie;Y.constructor=G,J(Y,se.prototype),Y.isPureReactComponent=!0;var ue=Array.isArray;function he(){}var w={H:null,A:null,T:null,S:null},E=Object.prototype.hasOwnProperty;function R(k,W,ae){var de=ae.ref;return{$$typeof:i,type:k,key:W,ref:de!==void 0?de:null,props:ae}}function j(k,W){return R(k.type,W,k.props)}function N(k){return typeof k=="object"&&k!==null&&k.$$typeof===i}function D(k){var W={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ae){return W[ae]})}var I=/\/+/g;function pe(k,W){return typeof k=="object"&&k!==null&&k.key!=null?D(""+k.key):W.toString(36)}function Oe(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(he,he):(k.status="pending",k.then(function(W){k.status==="pending"&&(k.status="fulfilled",k.value=W)},function(W){k.status==="pending"&&(k.status="rejected",k.reason=W)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function X(k,W,ae,de,_e){var Ee=typeof k;(Ee==="undefined"||Ee==="boolean")&&(k=null);var Ce=!1;if(k===null)Ce=!0;else switch(Ee){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(k.$$typeof){case i:case e:Ce=!0;break;case b:return Ce=k._init,X(Ce(k._payload),W,ae,de,_e)}}if(Ce)return _e=_e(k),Ce=de===""?"."+pe(k,0):de,ue(_e)?(ae="",Ce!=null&&(ae=Ce.replace(I,"$&/")+"/"),X(_e,W,ae,"",function(qs){return qs})):_e!=null&&(N(_e)&&(_e=j(_e,ae+(_e.key==null||k&&k.key===_e.key?"":(""+_e.key).replace(I,"$&/")+"/")+Ce)),W.push(_e)),1;Ce=0;var Me=de===""?".":de+":";if(ue(k))for(var Ge=0;Ge<k.length;Ge++)de=k[Ge],Ee=Me+pe(de,Ge),Ce+=X(de,W,ae,Ee,_e);else if(Ge=P(k),typeof Ge=="function")for(k=Ge.call(k),Ge=0;!(de=k.next()).done;)de=de.value,Ee=Me+pe(de,Ge++),Ce+=X(de,W,ae,Ee,_e);else if(Ee==="object"){if(typeof k.then=="function")return X(Oe(k),W,ae,de,_e);throw W=String(k),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function le(k,W,ae){if(k==null)return k;var de=[],_e=0;return X(k,de,"","",function(Ee){return W.call(ae,Ee,_e++)}),de}function V(k){if(k._status===-1){var W=k._result;W=W(),W.then(function(ae){(k._status===0||k._status===-1)&&(k._status=1,k._result=ae)},function(ae){(k._status===0||k._status===-1)&&(k._status=2,k._result=ae)}),k._status===-1&&(k._status=0,k._result=W)}if(k._status===1)return k._result.default;throw k._result}var ce=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},ye={map:le,forEach:function(k,W,ae){le(k,function(){W.apply(this,arguments)},ae)},count:function(k){var W=0;return le(k,function(){W++}),W},toArray:function(k){return le(k,function(W){return W})||[]},only:function(k){if(!N(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return Ne.Activity=S,Ne.Children=ye,Ne.Component=se,Ne.Fragment=n,Ne.Profiler=l,Ne.PureComponent=G,Ne.StrictMode=r,Ne.Suspense=p,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(k){return w.H.useMemoCache(k)}},Ne.cache=function(k){return function(){return k.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(k,W,ae){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var de=J({},k.props),_e=k.key;if(W!=null)for(Ee in W.key!==void 0&&(_e=""+W.key),W)!E.call(W,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&W.ref===void 0||(de[Ee]=W[Ee]);var Ee=arguments.length-2;if(Ee===1)de.children=ae;else if(1<Ee){for(var Ce=Array(Ee),Me=0;Me<Ee;Me++)Ce[Me]=arguments[Me+2];de.children=Ce}return R(k.type,_e,de)},Ne.createContext=function(k){return k={$$typeof:f,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:c,_context:k},k},Ne.createElement=function(k,W,ae){var de,_e={},Ee=null;if(W!=null)for(de in W.key!==void 0&&(Ee=""+W.key),W)E.call(W,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(_e[de]=W[de]);var Ce=arguments.length-2;if(Ce===1)_e.children=ae;else if(1<Ce){for(var Me=Array(Ce),Ge=0;Ge<Ce;Ge++)Me[Ge]=arguments[Ge+2];_e.children=Me}if(k&&k.defaultProps)for(de in Ce=k.defaultProps,Ce)_e[de]===void 0&&(_e[de]=Ce[de]);return R(k,Ee,_e)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(k){return{$$typeof:g,render:k}},Ne.isValidElement=N,Ne.lazy=function(k){return{$$typeof:b,_payload:{_status:-1,_result:k},_init:V}},Ne.memo=function(k,W){return{$$typeof:v,type:k,compare:W===void 0?null:W}},Ne.startTransition=function(k){var W=w.T,ae={};w.T=ae;try{var de=k(),_e=w.S;_e!==null&&_e(ae,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(he,ce)}catch(Ee){ce(Ee)}finally{W!==null&&ae.types!==null&&(W.types=ae.types),w.T=W}},Ne.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},Ne.use=function(k){return w.H.use(k)},Ne.useActionState=function(k,W,ae){return w.H.useActionState(k,W,ae)},Ne.useCallback=function(k,W){return w.H.useCallback(k,W)},Ne.useContext=function(k){return w.H.useContext(k)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(k,W){return w.H.useDeferredValue(k,W)},Ne.useEffect=function(k,W){return w.H.useEffect(k,W)},Ne.useEffectEvent=function(k){return w.H.useEffectEvent(k)},Ne.useId=function(){return w.H.useId()},Ne.useImperativeHandle=function(k,W,ae){return w.H.useImperativeHandle(k,W,ae)},Ne.useInsertionEffect=function(k,W){return w.H.useInsertionEffect(k,W)},Ne.useLayoutEffect=function(k,W){return w.H.useLayoutEffect(k,W)},Ne.useMemo=function(k,W){return w.H.useMemo(k,W)},Ne.useOptimistic=function(k,W){return w.H.useOptimistic(k,W)},Ne.useReducer=function(k,W,ae){return w.H.useReducer(k,W,ae)},Ne.useRef=function(k){return w.H.useRef(k)},Ne.useState=function(k){return w.H.useState(k)},Ne.useSyncExternalStore=function(k,W,ae){return w.H.useSyncExternalStore(k,W,ae)},Ne.useTransition=function(){return w.H.useTransition()},Ne.version="19.2.0",Ne}var zv;function up(){return zv||(zv=1,fm.exports=iS()),fm.exports}var U=up(),mm={exports:{}},Mo={},pm={exports:{}},gm={};var Bv;function rS(){return Bv||(Bv=1,(function(i){function e(X,le){var V=X.length;X.push(le);e:for(;0<V;){var ce=V-1>>>1,ye=X[ce];if(0<l(ye,le))X[ce]=le,X[V]=ye,V=ce;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var le=X[0],V=X.pop();if(V!==le){X[0]=V;e:for(var ce=0,ye=X.length,k=ye>>>1;ce<k;){var W=2*(ce+1)-1,ae=X[W],de=W+1,_e=X[de];if(0>l(ae,V))de<ye&&0>l(_e,ae)?(X[ce]=_e,X[de]=V,ce=de):(X[ce]=ae,X[W]=V,ce=W);else if(de<ye&&0>l(_e,V))X[ce]=_e,X[de]=V,ce=de;else break e}}return le}function l(X,le){var V=X.sortIndex-le.sortIndex;return V!==0?V:X.id-le.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var f=Date,g=f.now();i.unstable_now=function(){return f.now()-g}}var p=[],v=[],b=1,S=null,C=3,P=!1,Q=!1,J=!1,B=!1,se=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function Y(X){for(var le=n(v);le!==null;){if(le.callback===null)r(v);else if(le.startTime<=X)r(v),le.sortIndex=le.expirationTime,e(p,le);else break;le=n(v)}}function ue(X){if(J=!1,Y(X),!Q)if(n(p)!==null)Q=!0,he||(he=!0,D());else{var le=n(v);le!==null&&Oe(ue,le.startTime-X)}}var he=!1,w=-1,E=5,R=-1;function j(){return B?!0:!(i.unstable_now()-R<E)}function N(){if(B=!1,he){var X=i.unstable_now();R=X;var le=!0;try{e:{Q=!1,J&&(J=!1,ie(w),w=-1),P=!0;var V=C;try{t:{for(Y(X),S=n(p);S!==null&&!(S.expirationTime>X&&j());){var ce=S.callback;if(typeof ce=="function"){S.callback=null,C=S.priorityLevel;var ye=ce(S.expirationTime<=X);if(X=i.unstable_now(),typeof ye=="function"){S.callback=ye,Y(X),le=!0;break t}S===n(p)&&r(p),Y(X)}else r(p);S=n(p)}if(S!==null)le=!0;else{var k=n(v);k!==null&&Oe(ue,k.startTime-X),le=!1}}break e}finally{S=null,C=V,P=!1}le=void 0}}finally{le?D():he=!1}}}var D;if(typeof G=="function")D=function(){G(N)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,pe=I.port2;I.port1.onmessage=N,D=function(){pe.postMessage(null)}}else D=function(){se(N,0)};function Oe(X,le){w=se(function(){X(i.unstable_now())},le)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(X){X.callback=null},i.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<X?Math.floor(1e3/X):5},i.unstable_getCurrentPriorityLevel=function(){return C},i.unstable_next=function(X){switch(C){case 1:case 2:case 3:var le=3;break;default:le=C}var V=C;C=le;try{return X()}finally{C=V}},i.unstable_requestPaint=function(){B=!0},i.unstable_runWithPriority=function(X,le){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var V=C;C=X;try{return le()}finally{C=V}},i.unstable_scheduleCallback=function(X,le,V){var ce=i.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?ce+V:ce):V=ce,X){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=V+ye,X={id:b++,callback:le,priorityLevel:X,startTime:V,expirationTime:ye,sortIndex:-1},V>ce?(X.sortIndex=V,e(v,X),n(p)===null&&X===n(v)&&(J?(ie(w),w=-1):J=!0,Oe(ue,V-ce))):(X.sortIndex=ye,e(p,X),Q||P||(Q=!0,he||(he=!0,D()))),X},i.unstable_shouldYield=j,i.unstable_wrapCallback=function(X){var le=C;return function(){var V=C;C=le;try{return X.apply(this,arguments)}finally{C=V}}}})(gm)),gm}var qv;function aS(){return qv||(qv=1,pm.exports=rS()),pm.exports}var ym={exports:{}},Xt={};var Hv;function lS(){if(Hv)return Xt;Hv=1;var i=up();function e(p){var v="https://react.dev/errors/"+p;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)v+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,v,b){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:p,containerInfo:v,implementation:b}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,v){if(p==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Xt.createPortal=function(p,v){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return c(p,v,null,b)},Xt.flushSync=function(p){var v=f.T,b=r.p;try{if(f.T=null,r.p=2,p)return p()}finally{f.T=v,r.p=b,r.d.f()}},Xt.preconnect=function(p,v){typeof p=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(p,v))},Xt.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},Xt.preinit=function(p,v){if(typeof p=="string"&&v&&typeof v.as=="string"){var b=v.as,S=g(b,v.crossOrigin),C=typeof v.integrity=="string"?v.integrity:void 0,P=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;b==="style"?r.d.S(p,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:S,integrity:C,fetchPriority:P}):b==="script"&&r.d.X(p,{crossOrigin:S,integrity:C,fetchPriority:P,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Xt.preinitModule=function(p,v){if(typeof p=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var b=g(v.as,v.crossOrigin);r.d.M(p,{crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(p)},Xt.preload=function(p,v){if(typeof p=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var b=v.as,S=g(b,v.crossOrigin);r.d.L(p,b,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Xt.preloadModule=function(p,v){if(typeof p=="string")if(v){var b=g(v.as,v.crossOrigin);r.d.m(p,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(p)},Xt.requestFormReset=function(p){r.d.r(p)},Xt.unstable_batchedUpdates=function(p,v){return p(v)},Xt.useFormState=function(p,v,b){return f.H.useFormState(p,v,b)},Xt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Xt.version="19.2.0",Xt}var Fv;function oS(){if(Fv)return ym.exports;Fv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),ym.exports=lS(),ym.exports}var Gv;function cS(){if(Gv)return Mo;Gv=1;var i=aS(),e=up(),n=oS();function r(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function f(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function g(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function p(t){if(c(t)!==t)throw Error(r(188))}function v(t){var s=t.alternate;if(!s){if(s=c(t),s===null)throw Error(r(188));return s!==t?null:t}for(var a=t,o=s;;){var d=a.return;if(d===null)break;var m=d.alternate;if(m===null){if(o=d.return,o!==null){a=o;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===a)return p(d),t;if(m===o)return p(d),s;m=m.sibling}throw Error(r(188))}if(a.return!==o.return)a=d,o=m;else{for(var _=!1,T=d.child;T;){if(T===a){_=!0,a=d,o=m;break}if(T===o){_=!0,o=d,a=m;break}T=T.sibling}if(!_){for(T=m.child;T;){if(T===a){_=!0,a=m,o=d;break}if(T===o){_=!0,o=m,a=d;break}T=T.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:s}function b(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=b(t),s!==null)return s;t=t.sibling}return null}var S=Object.assign,C=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),Q=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),se=Symbol.for("react.profiler"),ie=Symbol.for("react.consumer"),G=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function D(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function pe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case J:return"Fragment";case se:return"Profiler";case B:return"StrictMode";case ue:return"Suspense";case he:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Q:return"Portal";case G:return t.displayName||"Context";case ie:return(t._context.displayName||"Context")+".Consumer";case Y:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case w:return s=t.displayName||null,s!==null?s:pe(t.type)||"Memo";case E:s=t._payload,t=t._init;try{return pe(t(s))}catch{}}return null}var Oe=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V={pending:!1,data:null,method:null,action:null},ce=[],ye=-1;function k(t){return{current:t}}function W(t){0>ye||(t.current=ce[ye],ce[ye]=null,ye--)}function ae(t,s){ye++,ce[ye]=t.current,t.current=s}var de=k(null),_e=k(null),Ee=k(null),Ce=k(null);function Me(t,s){switch(ae(Ee,s),ae(_e,t),ae(de,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?av(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=av(s),t=lv(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}W(de),ae(de,t)}function Ge(){W(de),W(_e),W(Ee)}function qs(t){t.memoizedState!==null&&ae(Ce,t);var s=de.current,a=lv(s,t.type);s!==a&&(ae(_e,t),ae(de,a))}function ha(t){_e.current===t&&(W(de),W(_e)),Ce.current===t&&(W(Ce),Io._currentValue=V)}var da,fa;function is(t){if(da===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);da=s&&s[1]||"",fa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+da+t+fa}var Cl=!1;function _r(t,s){if(!t||Cl)return"";Cl=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(s){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch($){var F=$}Reflect.construct(t,[],te)}else{try{te.call()}catch($){F=$}t.call(te.prototype)}}else{try{throw Error()}catch($){F=$}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch($){if($&&F&&typeof $.stack=="string")return[$.stack,F.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),_=m[0],T=m[1];if(_&&T){var O=_.split(`
`),H=T.split(`
`);for(d=o=0;o<O.length&&!O[o].includes("DetermineComponentFrameRoot");)o++;for(;d<H.length&&!H[d].includes("DetermineComponentFrameRoot");)d++;if(o===O.length||d===H.length)for(o=O.length-1,d=H.length-1;1<=o&&0<=d&&O[o]!==H[d];)d--;for(;1<=o&&0<=d;o--,d--)if(O[o]!==H[d]){if(o!==1||d!==1)do if(o--,d--,0>d||O[o]!==H[d]){var Z=`
`+O[o].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=o&&0<=d);break}}}finally{Cl=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?is(a):""}function Il(t,s){switch(t.tag){case 26:case 27:case 5:return is(t.type);case 16:return is("Lazy");case 13:return t.child!==s&&s!==null?is("Suspense Fallback"):is("Suspense");case 19:return is("SuspenseList");case 0:case 15:return _r(t.type,!1);case 11:return _r(t.type.render,!1);case 1:return _r(t.type,!0);case 31:return is("Activity");default:return""}}function jl(t){try{var s="",a=null;do s+=Il(t,a),a=t,t=t.return;while(t);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var bt=Object.prototype.hasOwnProperty,Ot=i.unstable_scheduleCallback,xi=i.unstable_cancelCallback,fd=i.unstable_shouldYield,bc=i.unstable_requestPaint,nn=i.unstable_now,xr=i.unstable_getCurrentPriorityLevel,Dl=i.unstable_ImmediatePriority,Ol=i.unstable_UserBlockingPriority,bi=i.unstable_NormalPriority,md=i.unstable_LowPriority,Ec=i.unstable_IdlePriority,Tc=i.log,Sc=i.unstable_setDisableYieldValue,Bn=null,Bt=null;function Nn(t){if(typeof Tc=="function"&&Sc(t),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(Bn,t)}catch{}}var gt=Math.clz32?Math.clz32:Ac,wc=Math.log,ma=Math.LN2;function Ac(t){return t>>>=0,t===0?32:31-(wc(t)/ma|0)|0}var rs=256,br=262144,Et=4194304;function as(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ls(t,s,a){var o=t.pendingLanes;if(o===0)return 0;var d=0,m=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=o&134217727;return T!==0?(o=T&~m,o!==0?d=as(o):(_&=T,_!==0?d=as(_):a||(a=T&~t,a!==0&&(d=as(a))))):(T=o&~m,T!==0?d=as(T):_!==0?d=as(_):a||(a=o&~t,a!==0&&(d=as(a)))),d===0?0:s!==0&&s!==d&&(s&m)===0&&(m=d&-d,a=s&-s,m>=a||m===32&&(a&4194048)!==0)?s:d}function qn(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function pd(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nc(){var t=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),t}function os(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function Er(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function gd(t,s,a,o,d,m){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,O=t.expirationTimes,H=t.hiddenUpdates;for(a=_&~a;0<a;){var Z=31-gt(a),te=1<<Z;T[Z]=0,O[Z]=-1;var F=H[Z];if(F!==null)for(H[Z]=null,Z=0;Z<F.length;Z++){var $=F[Z];$!==null&&($.lane&=-536870913)}a&=~te}o!==0&&Tr(t,o,0),m!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=m&~(_&~s))}function Tr(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var o=31-gt(s);t.entangledLanes|=s,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function kl(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var o=31-gt(a),d=1<<o;d&s|t[o]&s&&(t[o]|=s),a&=~d}}function Ml(t,s){var a=s&-s;return a=(a&42)!==0?1:Sr(a),(a&(t.suspendedLanes|s))!==0?0:a}function Sr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Hs(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Rc(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:Iv(t.type))}function Hn(t,s){var a=le.p;try{return le.p=t,s()}finally{le.p=a}}var Fn=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Fn,Pt="__reactProps$"+Fn,cs="__reactContainer$"+Fn,pa="__reactEvents$"+Fn,yd="__reactListeners$"+Fn,Cc="__reactHandles$"+Fn,Ic="__reactResources$"+Fn,us="__reactMarker$"+Fn;function ga(t){delete t[Tt],delete t[Pt],delete t[pa],delete t[yd],delete t[Cc]}function hs(t){var s=t[Tt];if(s)return s;for(var a=t.parentNode;a;){if(s=a[cs]||a[Tt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=mv(t);t!==null;){if(a=t[Tt])return a;t=mv(t)}return s}t=a,a=t.parentNode}return null}function Rn(t){if(t=t[Tt]||t[cs]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function gn(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(r(33))}function ds(t){var s=t[Ic];return s||(s=t[Ic]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function St(t){t[us]=!0}var Vl=new Set,Pl={};function fs(t,s){ms(t,s),ms(t+"Capture",s)}function ms(t,s){for(Pl[t]=s,t=0;t<s.length;t++)Vl.add(s[t])}var Ll=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ul={},zl={};function jc(t){return bt.call(zl,t)?!0:bt.call(Ul,t)?!1:Ll.test(t)?zl[t]=!0:(Ul[t]=!0,!1)}function ya(t,s,a){if(jc(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var o=s.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function yn(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function wt(t,s,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+o)}}function Lt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ei(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Bl(t,s,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,m=o.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return d.call(this)},set:function(_){a=""+_,m.call(this,_)}}),Object.defineProperty(t,s,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Je(t){if(!t._valueTracker){var s=Ei(t)?"checked":"value";t._valueTracker=Bl(t,s,""+t[s])}}function wr(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),o="";return t&&(o=Ei(t)?t.checked?"true":"false":t.value),t=o,t!==a?(s.setValue(t),!0):!1}function ps(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ar=/[\n"\\]/g;function an(t){return t.replace(Ar,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function va(t,s,a,o,d,m,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),s!=null?_==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+Lt(s)):t.value!==""+Lt(s)&&(t.value=""+Lt(s)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),s!=null?ql(t,_,Lt(s)):a!=null?ql(t,_,Lt(a)):o!=null&&t.removeAttribute("value"),d==null&&m!=null&&(t.defaultChecked=!!m),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Lt(T):t.removeAttribute("name")}function Dc(t,s,a,o,d,m,_,T){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),s!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||s!=null)){Je(t);return}a=a!=null?""+Lt(a):"",s=s!=null?""+Lt(s):a,T||s===t.value||(t.value=s),t.defaultValue=s}o=o??d,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=T?t.checked:!!o,t.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Je(t)}function ql(t,s,a){s==="number"&&ps(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ti(t,s,a,o){if(t=t.options,s){s={};for(var d=0;d<a.length;d++)s["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=s.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Lt(a),s=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,o&&(t[d].defaultSelected=!0);return}s!==null||t[d].disabled||(s=t[d])}s!==null&&(s.selected=!0)}}function Oc(t,s,a){if(s!=null&&(s=""+Lt(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+Lt(a):""}function Si(t,s,a,o){if(s==null){if(o!=null){if(a!=null)throw Error(r(92));if(Oe(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),s=a}a=Lt(s),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),Je(t)}function ln(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var kc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hl(t,s,a){var o=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":o?t.setProperty(s,a):typeof a!="number"||a===0||kc.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function Fl(t,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||s!=null&&s.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var d in s)o=s[d],s.hasOwnProperty(d)&&a[d]!==o&&Hl(t,d,o)}else for(var m in s)s.hasOwnProperty(m)&&Hl(t,m,s[m])}function _a(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xa(t){return wi.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Gn(){}var Gl=null;function Cn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ai=null,gs=null;function Nr(t){var s=Rn(t);if(s&&(t=s.stateNode)){var a=t[Pt]||null;e:switch(t=s.stateNode,s.type){case"input":if(va(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+an(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var o=a[s];if(o!==t&&o.form===t.form){var d=o[Pt]||null;if(!d)throw Error(r(90));va(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<a.length;s++)o=a[s],o.form===t.form&&wr(o)}break e;case"textarea":Oc(t,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&Ti(t,!!a.multiple,s,!1)}}}var ba=!1;function Ni(t,s,a){if(ba)return t(s,a);ba=!0;try{var o=t(s);return o}finally{if(ba=!1,(Ai!==null||gs!==null)&&(Ru(),Ai&&(s=Ai,t=gs,gs=Ai=null,Nr(s),t)))for(s=0;s<t.length;s++)Nr(t[s])}}function Yn(t,s){var a=t.stateNode;if(a===null)return null;var o=a[Pt]||null;if(o===null)return null;a=o[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rr=!1;if(In)try{var et={};Object.defineProperty(et,"passive",{get:function(){Rr=!0}}),window.addEventListener("test",et,et),window.removeEventListener("test",et,et)}catch{Rr=!1}var ys=null,Yl=null,Cr=null;function Ql(){if(Cr)return Cr;var t,s=Yl,a=s.length,o,d="value"in ys?ys.value:ys.textContent,m=d.length;for(t=0;t<a&&s[t]===d[t];t++);var _=a-t;for(o=1;o<=_&&s[a-o]===d[m-o];o++);return Cr=d.slice(t,1<o?1-o:void 0)}function Ir(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Fs(){return!0}function Qn(){return!1}function qt(t){function s(a,o,d,m,_){this._reactName=a,this._targetInst=d,this.type=o,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(m):m[T]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Fs:Qn,this.isPropagationStopped=Qn,this}return S(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Fs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Fs)},persist:function(){},isPersistent:Fs}),s}var Gs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vs=qt(Gs),Ri=S({},Gs,{view:0,detail:0}),Kl=qt(Ri),Ci,Ea,_s,Ta=S({},Ri,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ii,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_s&&(_s&&t.type==="mousemove"?(Ci=t.screenX-_s.screenX,Ea=t.screenY-_s.screenY):Ea=Ci=0,_s=t),Ci)},movementY:function(t){return"movementY"in t?t.movementY:Ea}}),$l=qt(Ta),jr=S({},Ta,{dataTransfer:0}),Vc=qt(jr),Pc=S({},Ri,{relatedTarget:0}),Dr=qt(Pc),Xl=S({},Gs,{animationName:0,elapsedTime:0,pseudoElement:0}),Lc=qt(Xl),Sa=S({},Gs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Uc=qt(Sa),zc=S({},Gs,{data:0}),xs=qt(zc),Bc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fc(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=Hc[t])?!!s[t]:!1}function Ii(){return Fc}var sn=S({},Ri,{key:function(t){if(t.key){var s=Bc[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Ir(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?qc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ii,charCode:function(t){return t.type==="keypress"?Ir(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ir(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Gc=qt(sn),Yc=S({},Ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ys=qt(Yc),u=S({},Ri,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ii}),y=qt(u),x=S({},Gs,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=qt(x),z=S({},Ta,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),K=qt(z),oe=S({},Gs,{newState:0,oldState:0}),Ie=qt(oe),yt=[9,13,27,32],Ke=In&&"CompositionEvent"in window,ct=null;In&&"documentMode"in document&&(ct=document.documentMode);var jn=In&&"TextEvent"in window&&!ct,bs=In&&(!Ke||ct&&8<ct&&11>=ct),Kn=" ",$n=!1;function Or(t,s){switch(t){case"keyup":return yt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Aa=!1;function AE(t,s){switch(t){case"compositionend":return wa(s);case"keypress":return s.which!==32?null:($n=!0,Kn);case"textInput":return t=s.data,t===Kn&&$n?null:t;default:return null}}function NE(t,s){if(Aa)return t==="compositionend"||!Ke&&Or(t,s)?(t=Ql(),Cr=Yl=ys=null,Aa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return bs&&s.locale!=="ko"?null:s.data;default:return null}}var RE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yg(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!RE[t.type]:s==="textarea"}function vg(t,s,a,o){Ai?gs?gs.push(o):gs=[o]:Ai=o,s=Mu(s,"onChange"),0<s.length&&(a=new vs("onChange","change",null,a,o),t.push({event:a,listeners:s}))}var Jl=null,Zl=null;function CE(t){ev(t,0)}function Qc(t){var s=gn(t);if(wr(s))return t}function _g(t,s){if(t==="change")return s}var xg=!1;if(In){var vd;if(In){var _d="oninput"in document;if(!_d){var bg=document.createElement("div");bg.setAttribute("oninput","return;"),_d=typeof bg.oninput=="function"}vd=_d}else vd=!1;xg=vd&&(!document.documentMode||9<document.documentMode)}function Eg(){Jl&&(Jl.detachEvent("onpropertychange",Tg),Zl=Jl=null)}function Tg(t){if(t.propertyName==="value"&&Qc(Zl)){var s=[];vg(s,Zl,t,Cn(t)),Ni(CE,s)}}function IE(t,s,a){t==="focusin"?(Eg(),Jl=s,Zl=a,Jl.attachEvent("onpropertychange",Tg)):t==="focusout"&&Eg()}function jE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Qc(Zl)}function DE(t,s){if(t==="click")return Qc(s)}function OE(t,s){if(t==="input"||t==="change")return Qc(s)}function kE(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var vn=typeof Object.is=="function"?Object.is:kE;function Wl(t,s){if(vn(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),o=Object.keys(s);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var d=a[o];if(!bt.call(s,d)||!vn(t[d],s[d]))return!1}return!0}function Sg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wg(t,s){var a=Sg(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=s&&o>=s)return{node:a,offset:s-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Sg(a)}}function Ag(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Ag(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Ng(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=ps(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=ps(t.document)}return s}function xd(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var ME=In&&"documentMode"in document&&11>=document.documentMode,Na=null,bd=null,eo=null,Ed=!1;function Rg(t,s,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ed||Na==null||Na!==ps(o)||(o=Na,"selectionStart"in o&&xd(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),eo&&Wl(eo,o)||(eo=o,o=Mu(bd,"onSelect"),0<o.length&&(s=new vs("onSelect","select",null,s,a),t.push({event:s,listeners:o}),s.target=Na)))}function kr(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var Ra={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionrun:kr("Transition","TransitionRun"),transitionstart:kr("Transition","TransitionStart"),transitioncancel:kr("Transition","TransitionCancel"),transitionend:kr("Transition","TransitionEnd")},Td={},Cg={};In&&(Cg=document.createElement("div").style,"AnimationEvent"in window||(delete Ra.animationend.animation,delete Ra.animationiteration.animation,delete Ra.animationstart.animation),"TransitionEvent"in window||delete Ra.transitionend.transition);function Mr(t){if(Td[t])return Td[t];if(!Ra[t])return t;var s=Ra[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in Cg)return Td[t]=s[a];return t}var Ig=Mr("animationend"),jg=Mr("animationiteration"),Dg=Mr("animationstart"),VE=Mr("transitionrun"),PE=Mr("transitionstart"),LE=Mr("transitioncancel"),Og=Mr("transitionend"),kg=new Map,Sd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Sd.push("scrollEnd");function Xn(t,s){kg.set(t,s),fs(s,[t])}var Kc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Dn=[],Ca=0,wd=0;function $c(){for(var t=Ca,s=wd=Ca=0;s<t;){var a=Dn[s];Dn[s++]=null;var o=Dn[s];Dn[s++]=null;var d=Dn[s];Dn[s++]=null;var m=Dn[s];if(Dn[s++]=null,o!==null&&d!==null){var _=o.pending;_===null?d.next=d:(d.next=_.next,_.next=d),o.pending=d}m!==0&&Mg(a,d,m)}}function Xc(t,s,a,o){Dn[Ca++]=t,Dn[Ca++]=s,Dn[Ca++]=a,Dn[Ca++]=o,wd|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Ad(t,s,a,o){return Xc(t,s,a,o),Jc(t)}function Vr(t,s){return Xc(t,null,null,s),Jc(t)}function Mg(t,s,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var d=!1,m=t.return;m!==null;)m.childLanes|=a,o=m.alternate,o!==null&&(o.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(d=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,d&&s!==null&&(d=31-gt(a),t=m.hiddenUpdates,o=t[d],o===null?t[d]=[s]:o.push(s),s.lane=a|536870912),m):null}function Jc(t){if(50<To)throw To=0,Vf=null,Error(r(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var Ia={};function UE(t,s,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(t,s,a,o){return new UE(t,s,a,o)}function Nd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Qs(t,s){var a=t.alternate;return a===null?(a=_n(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Vg(t,s){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function Zc(t,s,a,o,d,m){var _=0;if(o=t,typeof t=="function")Nd(t)&&(_=1);else if(typeof t=="string")_=FT(t,a,de.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=_n(31,a,s,d),t.elementType=R,t.lanes=m,t;case J:return Pr(a.children,d,m,s);case B:_=8,d|=24;break;case se:return t=_n(12,a,s,d|2),t.elementType=se,t.lanes=m,t;case ue:return t=_n(13,a,s,d),t.elementType=ue,t.lanes=m,t;case he:return t=_n(19,a,s,d),t.elementType=he,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case G:_=10;break e;case ie:_=9;break e;case Y:_=11;break e;case w:_=14;break e;case E:_=16,o=null;break e}_=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return s=_n(_,a,s,d),s.elementType=t,s.type=o,s.lanes=m,s}function Pr(t,s,a,o){return t=_n(7,t,o,s),t.lanes=a,t}function Rd(t,s,a){return t=_n(6,t,null,s),t.lanes=a,t}function Pg(t){var s=_n(18,null,null,0);return s.stateNode=t,s}function Cd(t,s,a){return s=_n(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var Lg=new WeakMap;function On(t,s){if(typeof t=="object"&&t!==null){var a=Lg.get(t);return a!==void 0?a:(s={value:t,source:s,stack:jl(s)},Lg.set(t,s),s)}return{value:t,source:s,stack:jl(s)}}var ja=[],Da=0,Wc=null,to=0,kn=[],Mn=0,ji=null,Es=1,Ts="";function Ks(t,s){ja[Da++]=to,ja[Da++]=Wc,Wc=t,to=s}function Ug(t,s,a){kn[Mn++]=Es,kn[Mn++]=Ts,kn[Mn++]=ji,ji=t;var o=Es;t=Ts;var d=32-gt(o)-1;o&=~(1<<d),a+=1;var m=32-gt(s)+d;if(30<m){var _=d-d%5;m=(o&(1<<_)-1).toString(32),o>>=_,d-=_,Es=1<<32-gt(s)+d|a<<d|o,Ts=m+t}else Es=1<<m|a<<d|o,Ts=t}function Id(t){t.return!==null&&(Ks(t,1),Ug(t,1,0))}function jd(t){for(;t===Wc;)Wc=ja[--Da],ja[Da]=null,to=ja[--Da],ja[Da]=null;for(;t===ji;)ji=kn[--Mn],kn[Mn]=null,Ts=kn[--Mn],kn[Mn]=null,Es=kn[--Mn],kn[Mn]=null}function zg(t,s){kn[Mn++]=Es,kn[Mn++]=Ts,kn[Mn++]=ji,Es=s.id,Ts=s.overflow,ji=t}var Ht=null,at=null,He=!1,Di=null,Vn=!1,Dd=Error(r(519));function Oi(t){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw no(On(s,t)),Dd}function Bg(t){var s=t.stateNode,a=t.type,o=t.memoizedProps;switch(s[Tt]=t,s[Pt]=o,a){case"dialog":Pe("cancel",s),Pe("close",s);break;case"iframe":case"object":case"embed":Pe("load",s);break;case"video":case"audio":for(a=0;a<wo.length;a++)Pe(wo[a],s);break;case"source":Pe("error",s);break;case"img":case"image":case"link":Pe("error",s),Pe("load",s);break;case"details":Pe("toggle",s);break;case"input":Pe("invalid",s),Dc(s,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Pe("invalid",s);break;case"textarea":Pe("invalid",s),Si(s,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||o.suppressHydrationWarning===!0||iv(s.textContent,a)?(o.popover!=null&&(Pe("beforetoggle",s),Pe("toggle",s)),o.onScroll!=null&&Pe("scroll",s),o.onScrollEnd!=null&&Pe("scrollend",s),o.onClick!=null&&(s.onclick=Gn),s=!0):s=!1,s||Oi(t,!0)}function qg(t){for(Ht=t.return;Ht;)switch(Ht.tag){case 5:case 31:case 13:Vn=!1;return;case 27:case 3:Vn=!0;return;default:Ht=Ht.return}}function Oa(t){if(t!==Ht)return!1;if(!He)return qg(t),He=!0,!1;var s=t.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Jf(t.type,t.memoizedProps)),a=!a),a&&at&&Oi(t),qg(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));at=fv(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));at=fv(t)}else s===27?(s=at,Qi(t.type)?(t=nm,nm=null,at=t):at=s):at=Ht?Ln(t.stateNode.nextSibling):null;return!0}function Lr(){at=Ht=null,He=!1}function Od(){var t=Di;return t!==null&&(hn===null?hn=t:hn.push.apply(hn,t),Di=null),t}function no(t){Di===null?Di=[t]:Di.push(t)}var kd=k(null),Ur=null,$s=null;function ki(t,s,a){ae(kd,s._currentValue),s._currentValue=a}function Xs(t){t._currentValue=kd.current,W(kd)}function Md(t,s,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,o!==null&&(o.childLanes|=s)):o!==null&&(o.childLanes&s)!==s&&(o.childLanes|=s),t===a)break;t=t.return}}function Vd(t,s,a,o){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var m=d.dependencies;if(m!==null){var _=d.child;m=m.firstContext;e:for(;m!==null;){var T=m;m=d;for(var O=0;O<s.length;O++)if(T.context===s[O]){m.lanes|=a,T=m.alternate,T!==null&&(T.lanes|=a),Md(m.return,a,t),o||(_=null);break e}m=T.next}}else if(d.tag===18){if(_=d.return,_===null)throw Error(r(341));_.lanes|=a,m=_.alternate,m!==null&&(m.lanes|=a),Md(_,a,t),_=null}else _=d.child;if(_!==null)_.return=d;else for(_=d;_!==null;){if(_===t){_=null;break}if(d=_.sibling,d!==null){d.return=_.return,_=d;break}_=_.return}d=_}}function ka(t,s,a,o){t=null;for(var d=s,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var _=d.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var T=d.type;vn(d.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(d===Ce.current){if(_=d.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Io):t=[Io])}d=d.return}t!==null&&Vd(s,t,a,o),s.flags|=262144}function eu(t){for(t=t.firstContext;t!==null;){if(!vn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function zr(t){Ur=t,$s=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ft(t){return Hg(Ur,t)}function tu(t,s){return Ur===null&&zr(t),Hg(t,s)}function Hg(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},$s===null){if(t===null)throw Error(r(308));$s=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else $s=$s.next=s;return a}var zE=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},BE=i.unstable_scheduleCallback,qE=i.unstable_NormalPriority,At={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pd(){return{controller:new zE,data:new Map,refCount:0}}function so(t){t.refCount--,t.refCount===0&&BE(qE,function(){t.controller.abort()})}var io=null,Ld=0,Ma=0,Va=null;function HE(t,s){if(io===null){var a=io=[];Ld=0,Ma=qf(),Va={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Ld++,s.then(Fg,Fg),s}function Fg(){if(--Ld===0&&io!==null){Va!==null&&(Va.status="fulfilled");var t=io;io=null,Ma=0,Va=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function FE(t,s){var a=[],o={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return t.then(function(){o.status="fulfilled",o.value=s;for(var d=0;d<a.length;d++)(0,a[d])(s)},function(d){for(o.status="rejected",o.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),o}var Gg=X.S;X.S=function(t,s){R0=nn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&HE(t,s),Gg!==null&&Gg(t,s)};var Br=k(null);function Ud(){var t=Br.current;return t!==null?t:it.pooledCache}function nu(t,s){s===null?ae(Br,Br.current):ae(Br,s.pool)}function Yg(){var t=Ud();return t===null?null:{parent:At._currentValue,pool:t}}var Pa=Error(r(460)),zd=Error(r(474)),su=Error(r(542)),iu={then:function(){}};function Qg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Kg(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then(Gn,Gn),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Xg(t),t;default:if(typeof s.status=="string")s.then(Gn,Gn);else{if(t=it,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=s,t.status="pending",t.then(function(o){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=o}},function(o){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=o}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Xg(t),t}throw Hr=s,Pa}}function qr(t){try{var s=t._init;return s(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Hr=a,Pa):a}}var Hr=null;function $g(){if(Hr===null)throw Error(r(459));var t=Hr;return Hr=null,t}function Xg(t){if(t===Pa||t===su)throw Error(r(483))}var La=null,ro=0;function ru(t){var s=ro;return ro+=1,La===null&&(La=[]),Kg(La,t,s)}function ao(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function au(t,s){throw s.$$typeof===C?Error(r(525)):(t=Object.prototype.toString.call(s),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function Jg(t){function s(L,M){if(t){var q=L.deletions;q===null?(L.deletions=[M],L.flags|=16):q.push(M)}}function a(L,M){if(!t)return null;for(;M!==null;)s(L,M),M=M.sibling;return null}function o(L){for(var M=new Map;L!==null;)L.key!==null?M.set(L.key,L):M.set(L.index,L),L=L.sibling;return M}function d(L,M){return L=Qs(L,M),L.index=0,L.sibling=null,L}function m(L,M,q){return L.index=q,t?(q=L.alternate,q!==null?(q=q.index,q<M?(L.flags|=67108866,M):q):(L.flags|=67108866,M)):(L.flags|=1048576,M)}function _(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function T(L,M,q,ee){return M===null||M.tag!==6?(M=Rd(q,L.mode,ee),M.return=L,M):(M=d(M,q),M.return=L,M)}function O(L,M,q,ee){var xe=q.type;return xe===J?Z(L,M,q.props.children,ee,q.key):M!==null&&(M.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===E&&qr(xe)===M.type)?(M=d(M,q.props),ao(M,q),M.return=L,M):(M=Zc(q.type,q.key,q.props,null,L.mode,ee),ao(M,q),M.return=L,M)}function H(L,M,q,ee){return M===null||M.tag!==4||M.stateNode.containerInfo!==q.containerInfo||M.stateNode.implementation!==q.implementation?(M=Cd(q,L.mode,ee),M.return=L,M):(M=d(M,q.children||[]),M.return=L,M)}function Z(L,M,q,ee,xe){return M===null||M.tag!==7?(M=Pr(q,L.mode,ee,xe),M.return=L,M):(M=d(M,q),M.return=L,M)}function te(L,M,q){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Rd(""+M,L.mode,q),M.return=L,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case P:return q=Zc(M.type,M.key,M.props,null,L.mode,q),ao(q,M),q.return=L,q;case Q:return M=Cd(M,L.mode,q),M.return=L,M;case E:return M=qr(M),te(L,M,q)}if(Oe(M)||D(M))return M=Pr(M,L.mode,q,null),M.return=L,M;if(typeof M.then=="function")return te(L,ru(M),q);if(M.$$typeof===G)return te(L,tu(L,M),q);au(L,M)}return null}function F(L,M,q,ee){var xe=M!==null?M.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return xe!==null?null:T(L,M,""+q,ee);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case P:return q.key===xe?O(L,M,q,ee):null;case Q:return q.key===xe?H(L,M,q,ee):null;case E:return q=qr(q),F(L,M,q,ee)}if(Oe(q)||D(q))return xe!==null?null:Z(L,M,q,ee,null);if(typeof q.then=="function")return F(L,M,ru(q),ee);if(q.$$typeof===G)return F(L,M,tu(L,q),ee);au(L,q)}return null}function $(L,M,q,ee,xe){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return L=L.get(q)||null,T(M,L,""+ee,xe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case P:return L=L.get(ee.key===null?q:ee.key)||null,O(M,L,ee,xe);case Q:return L=L.get(ee.key===null?q:ee.key)||null,H(M,L,ee,xe);case E:return ee=qr(ee),$(L,M,q,ee,xe)}if(Oe(ee)||D(ee))return L=L.get(q)||null,Z(M,L,ee,xe,null);if(typeof ee.then=="function")return $(L,M,q,ru(ee),xe);if(ee.$$typeof===G)return $(L,M,q,tu(M,ee),xe);au(M,ee)}return null}function ge(L,M,q,ee){for(var xe=null,Ye=null,ve=M,ke=M=0,Ue=null;ve!==null&&ke<q.length;ke++){ve.index>ke?(Ue=ve,ve=null):Ue=ve.sibling;var Qe=F(L,ve,q[ke],ee);if(Qe===null){ve===null&&(ve=Ue);break}t&&ve&&Qe.alternate===null&&s(L,ve),M=m(Qe,M,ke),Ye===null?xe=Qe:Ye.sibling=Qe,Ye=Qe,ve=Ue}if(ke===q.length)return a(L,ve),He&&Ks(L,ke),xe;if(ve===null){for(;ke<q.length;ke++)ve=te(L,q[ke],ee),ve!==null&&(M=m(ve,M,ke),Ye===null?xe=ve:Ye.sibling=ve,Ye=ve);return He&&Ks(L,ke),xe}for(ve=o(ve);ke<q.length;ke++)Ue=$(ve,L,ke,q[ke],ee),Ue!==null&&(t&&Ue.alternate!==null&&ve.delete(Ue.key===null?ke:Ue.key),M=m(Ue,M,ke),Ye===null?xe=Ue:Ye.sibling=Ue,Ye=Ue);return t&&ve.forEach(function(Zi){return s(L,Zi)}),He&&Ks(L,ke),xe}function Te(L,M,q,ee){if(q==null)throw Error(r(151));for(var xe=null,Ye=null,ve=M,ke=M=0,Ue=null,Qe=q.next();ve!==null&&!Qe.done;ke++,Qe=q.next()){ve.index>ke?(Ue=ve,ve=null):Ue=ve.sibling;var Zi=F(L,ve,Qe.value,ee);if(Zi===null){ve===null&&(ve=Ue);break}t&&ve&&Zi.alternate===null&&s(L,ve),M=m(Zi,M,ke),Ye===null?xe=Zi:Ye.sibling=Zi,Ye=Zi,ve=Ue}if(Qe.done)return a(L,ve),He&&Ks(L,ke),xe;if(ve===null){for(;!Qe.done;ke++,Qe=q.next())Qe=te(L,Qe.value,ee),Qe!==null&&(M=m(Qe,M,ke),Ye===null?xe=Qe:Ye.sibling=Qe,Ye=Qe);return He&&Ks(L,ke),xe}for(ve=o(ve);!Qe.done;ke++,Qe=q.next())Qe=$(ve,L,ke,Qe.value,ee),Qe!==null&&(t&&Qe.alternate!==null&&ve.delete(Qe.key===null?ke:Qe.key),M=m(Qe,M,ke),Ye===null?xe=Qe:Ye.sibling=Qe,Ye=Qe);return t&&ve.forEach(function(tS){return s(L,tS)}),He&&Ks(L,ke),xe}function st(L,M,q,ee){if(typeof q=="object"&&q!==null&&q.type===J&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case P:e:{for(var xe=q.key;M!==null;){if(M.key===xe){if(xe=q.type,xe===J){if(M.tag===7){a(L,M.sibling),ee=d(M,q.props.children),ee.return=L,L=ee;break e}}else if(M.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===E&&qr(xe)===M.type){a(L,M.sibling),ee=d(M,q.props),ao(ee,q),ee.return=L,L=ee;break e}a(L,M);break}else s(L,M);M=M.sibling}q.type===J?(ee=Pr(q.props.children,L.mode,ee,q.key),ee.return=L,L=ee):(ee=Zc(q.type,q.key,q.props,null,L.mode,ee),ao(ee,q),ee.return=L,L=ee)}return _(L);case Q:e:{for(xe=q.key;M!==null;){if(M.key===xe)if(M.tag===4&&M.stateNode.containerInfo===q.containerInfo&&M.stateNode.implementation===q.implementation){a(L,M.sibling),ee=d(M,q.children||[]),ee.return=L,L=ee;break e}else{a(L,M);break}else s(L,M);M=M.sibling}ee=Cd(q,L.mode,ee),ee.return=L,L=ee}return _(L);case E:return q=qr(q),st(L,M,q,ee)}if(Oe(q))return ge(L,M,q,ee);if(D(q)){if(xe=D(q),typeof xe!="function")throw Error(r(150));return q=xe.call(q),Te(L,M,q,ee)}if(typeof q.then=="function")return st(L,M,ru(q),ee);if(q.$$typeof===G)return st(L,M,tu(L,q),ee);au(L,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,M!==null&&M.tag===6?(a(L,M.sibling),ee=d(M,q),ee.return=L,L=ee):(a(L,M),ee=Rd(q,L.mode,ee),ee.return=L,L=ee),_(L)):a(L,M)}return function(L,M,q,ee){try{ro=0;var xe=st(L,M,q,ee);return La=null,xe}catch(ve){if(ve===Pa||ve===su)throw ve;var Ye=_n(29,ve,null,L.mode);return Ye.lanes=ee,Ye.return=L,Ye}finally{}}}var Fr=Jg(!0),Zg=Jg(!1),Mi=!1;function Bd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qd(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Vi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Pi(t,s,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,($e&2)!==0){var d=o.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),o.pending=s,s=Jc(t),Mg(t,null,a),s}return Xc(t,o,s,a),Jc(t)}function lo(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var o=s.lanes;o&=t.pendingLanes,a|=o,s.lanes=a,kl(t,a)}}function Hd(t,s){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var d=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?d=m=_:m=m.next=_,a=a.next}while(a!==null);m===null?d=m=s:m=m.next=s}else d=m=s;a={baseState:o.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var Fd=!1;function oo(){if(Fd){var t=Va;if(t!==null)throw t}}function co(t,s,a,o){Fd=!1;var d=t.updateQueue;Mi=!1;var m=d.firstBaseUpdate,_=d.lastBaseUpdate,T=d.shared.pending;if(T!==null){d.shared.pending=null;var O=T,H=O.next;O.next=null,_===null?m=H:_.next=H,_=O;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,T=Z.lastBaseUpdate,T!==_&&(T===null?Z.firstBaseUpdate=H:T.next=H,Z.lastBaseUpdate=O))}if(m!==null){var te=d.baseState;_=0,Z=H=O=null,T=m;do{var F=T.lane&-536870913,$=F!==T.lane;if($?(Le&F)===F:(o&F)===F){F!==0&&F===Ma&&(Fd=!0),Z!==null&&(Z=Z.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ge=t,Te=T;F=s;var st=a;switch(Te.tag){case 1:if(ge=Te.payload,typeof ge=="function"){te=ge.call(st,te,F);break e}te=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=Te.payload,F=typeof ge=="function"?ge.call(st,te,F):ge,F==null)break e;te=S({},te,F);break e;case 2:Mi=!0}}F=T.callback,F!==null&&(t.flags|=64,$&&(t.flags|=8192),$=d.callbacks,$===null?d.callbacks=[F]:$.push(F))}else $={lane:F,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Z===null?(H=Z=$,O=te):Z=Z.next=$,_|=F;if(T=T.next,T===null){if(T=d.shared.pending,T===null)break;$=T,T=$.next,$.next=null,d.lastBaseUpdate=$,d.shared.pending=null}}while(!0);Z===null&&(O=te),d.baseState=O,d.firstBaseUpdate=H,d.lastBaseUpdate=Z,m===null&&(d.shared.lanes=0),qi|=_,t.lanes=_,t.memoizedState=te}}function Wg(t,s){if(typeof t!="function")throw Error(r(191,t));t.call(s)}function ey(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Wg(a[t],s)}var Ua=k(null),lu=k(0);function ty(t,s){t=ri,ae(lu,t),ae(Ua,s),ri=t|s.baseLanes}function Gd(){ae(lu,ri),ae(Ua,Ua.current)}function Yd(){ri=lu.current,W(Ua),W(lu)}var xn=k(null),Pn=null;function Li(t){var s=t.alternate;ae(vt,vt.current&1),ae(xn,t),Pn===null&&(s===null||Ua.current!==null||s.memoizedState!==null)&&(Pn=t)}function Qd(t){ae(vt,vt.current),ae(xn,t),Pn===null&&(Pn=t)}function ny(t){t.tag===22?(ae(vt,vt.current),ae(xn,t),Pn===null&&(Pn=t)):Ui()}function Ui(){ae(vt,vt.current),ae(xn,xn.current)}function bn(t){W(xn),Pn===t&&(Pn=null),W(vt)}var vt=k(0);function ou(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||em(a)||tm(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Js=0,je=null,tt=null,Nt=null,cu=!1,za=!1,Gr=!1,uu=0,uo=0,Ba=null,GE=0;function mt(){throw Error(r(321))}function Kd(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!vn(t[a],s[a]))return!1;return!0}function $d(t,s,a,o,d,m){return Js=m,je=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,X.H=t===null||t.memoizedState===null?Uy:hf,Gr=!1,m=a(o,d),Gr=!1,za&&(m=iy(s,a,o,d)),sy(t),m}function sy(t){X.H=mo;var s=tt!==null&&tt.next!==null;if(Js=0,Nt=tt=je=null,cu=!1,uo=0,Ba=null,s)throw Error(r(300));t===null||Rt||(t=t.dependencies,t!==null&&eu(t)&&(Rt=!0))}function iy(t,s,a,o){je=t;var d=0;do{if(za&&(Ba=null),uo=0,za=!1,25<=d)throw Error(r(301));if(d+=1,Nt=tt=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}X.H=zy,m=s(a,o)}while(za);return m}function YE(){var t=X.H,s=t.useState()[0];return s=typeof s.then=="function"?ho(s):s,t=t.useState()[0],(tt!==null?tt.memoizedState:null)!==t&&(je.flags|=1024),s}function Xd(){var t=uu!==0;return uu=0,t}function Jd(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function Zd(t){if(cu){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}cu=!1}Js=0,Nt=tt=je=null,za=!1,uo=uu=0,Ba=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?je.memoizedState=Nt=t:Nt=Nt.next=t,Nt}function _t(){if(tt===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=tt.next;var s=Nt===null?je.memoizedState:Nt.next;if(s!==null)Nt=s,tt=t;else{if(t===null)throw je.alternate===null?Error(r(467)):Error(r(310));tt=t,t={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},Nt===null?je.memoizedState=Nt=t:Nt=Nt.next=t}return Nt}function hu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ho(t){var s=uo;return uo+=1,Ba===null&&(Ba=[]),t=Kg(Ba,t,s),s=je,(Nt===null?s.memoizedState:Nt.next)===null&&(s=s.alternate,X.H=s===null||s.memoizedState===null?Uy:hf),t}function du(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ho(t);if(t.$$typeof===G)return Ft(t)}throw Error(r(438,String(t)))}function Wd(t){var s=null,a=je.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var o=je.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(s={data:o.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=hu(),je.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),o=0;o<t;o++)a[o]=j;return s.index++,a}function Zs(t,s){return typeof s=="function"?s(t):s}function fu(t){var s=_t();return ef(s,tt,t)}function ef(t,s,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var d=t.baseQueue,m=o.pending;if(m!==null){if(d!==null){var _=d.next;d.next=m.next,m.next=_}s.baseQueue=d=m,o.pending=null}if(m=t.baseState,d===null)t.memoizedState=m;else{s=d.next;var T=_=null,O=null,H=s,Z=!1;do{var te=H.lane&-536870913;if(te!==H.lane?(Le&te)===te:(Js&te)===te){var F=H.revertLane;if(F===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),te===Ma&&(Z=!0);else if((Js&F)===F){H=H.next,F===Ma&&(Z=!0);continue}else te={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},O===null?(T=O=te,_=m):O=O.next=te,je.lanes|=F,qi|=F;te=H.action,Gr&&a(m,te),m=H.hasEagerState?H.eagerState:a(m,te)}else F={lane:te,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},O===null?(T=O=F,_=m):O=O.next=F,je.lanes|=te,qi|=te;H=H.next}while(H!==null&&H!==s);if(O===null?_=m:O.next=T,!vn(m,t.memoizedState)&&(Rt=!0,Z&&(a=Va,a!==null)))throw a;t.memoizedState=m,t.baseState=_,t.baseQueue=O,o.lastRenderedState=m}return d===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function tf(t){var s=_t(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,d=a.pending,m=s.memoizedState;if(d!==null){a.pending=null;var _=d=d.next;do m=t(m,_.action),_=_.next;while(_!==d);vn(m,s.memoizedState)||(Rt=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,o]}function ry(t,s,a){var o=je,d=_t(),m=He;if(m){if(a===void 0)throw Error(r(407));a=a()}else a=s();var _=!vn((tt||d).memoizedState,a);if(_&&(d.memoizedState=a,Rt=!0),d=d.queue,rf(oy.bind(null,o,d,t),[t]),d.getSnapshot!==s||_||Nt!==null&&Nt.memoizedState.tag&1){if(o.flags|=2048,qa(9,{destroy:void 0},ly.bind(null,o,d,a,s),null),it===null)throw Error(r(349));m||(Js&127)!==0||ay(o,s,a)}return a}function ay(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=je.updateQueue,s===null?(s=hu(),je.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function ly(t,s,a,o){s.value=a,s.getSnapshot=o,cy(s)&&uy(t)}function oy(t,s,a){return a(function(){cy(s)&&uy(t)})}function cy(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!vn(t,a)}catch{return!0}}function uy(t){var s=Vr(t,2);s!==null&&dn(s,t,2)}function nf(t){var s=rn();if(typeof t=="function"){var a=t;if(t=a(),Gr){Nn(!0);try{a()}finally{Nn(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zs,lastRenderedState:t},s}function hy(t,s,a,o){return t.baseState=a,ef(t,tt,typeof o=="function"?o:Zs)}function QE(t,s,a,o,d){if(gu(t))throw Error(r(485));if(t=s.action,t!==null){var m={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){m.listeners.push(_)}};X.T!==null?a(!0):m.isTransition=!1,o(m),a=s.pending,a===null?(m.next=s.pending=m,dy(s,m)):(m.next=a.next,s.pending=a.next=m)}}function dy(t,s){var a=s.action,o=s.payload,d=t.state;if(s.isTransition){var m=X.T,_={};X.T=_;try{var T=a(d,o),O=X.S;O!==null&&O(_,T),fy(t,s,T)}catch(H){sf(t,s,H)}finally{m!==null&&_.types!==null&&(m.types=_.types),X.T=m}}else try{m=a(d,o),fy(t,s,m)}catch(H){sf(t,s,H)}}function fy(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){my(t,s,o)},function(o){return sf(t,s,o)}):my(t,s,a)}function my(t,s,a){s.status="fulfilled",s.value=a,py(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,dy(t,a)))}function sf(t,s,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do s.status="rejected",s.reason=a,py(s),s=s.next;while(s!==o)}t.action=null}function py(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function gy(t,s){return s}function yy(t,s){if(He){var a=it.formState;if(a!==null){e:{var o=je;if(He){if(at){t:{for(var d=at,m=Vn;d.nodeType!==8;){if(!m){d=null;break t}if(d=Ln(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){at=Ln(d.nextSibling),o=d.data==="F!";break e}}Oi(o)}o=!1}o&&(s=a[0])}}return a=rn(),a.memoizedState=a.baseState=s,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gy,lastRenderedState:s},a.queue=o,a=Vy.bind(null,je,o),o.dispatch=a,o=nf(!1),m=uf.bind(null,je,!1,o.queue),o=rn(),d={state:s,dispatch:null,action:t,pending:null},o.queue=d,a=QE.bind(null,je,d,m,a),d.dispatch=a,o.memoizedState=t,[s,a,!1]}function vy(t){var s=_t();return _y(s,tt,t)}function _y(t,s,a){if(s=ef(t,s,gy)[0],t=fu(Zs)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var o=ho(s)}catch(_){throw _===Pa?su:_}else o=s;s=_t();var d=s.queue,m=d.dispatch;return a!==s.memoizedState&&(je.flags|=2048,qa(9,{destroy:void 0},KE.bind(null,d,a),null)),[o,m,t]}function KE(t,s){t.action=s}function xy(t){var s=_t(),a=tt;if(a!==null)return _y(s,a,t);_t(),s=s.memoizedState,a=_t();var o=a.queue.dispatch;return a.memoizedState=t,[s,o,!1]}function qa(t,s,a,o){return t={tag:t,create:a,deps:o,inst:s,next:null},s=je.updateQueue,s===null&&(s=hu(),je.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,s.lastEffect=t),t}function by(){return _t().memoizedState}function mu(t,s,a,o){var d=rn();je.flags|=t,d.memoizedState=qa(1|s,{destroy:void 0},a,o===void 0?null:o)}function pu(t,s,a,o){var d=_t();o=o===void 0?null:o;var m=d.memoizedState.inst;tt!==null&&o!==null&&Kd(o,tt.memoizedState.deps)?d.memoizedState=qa(s,m,a,o):(je.flags|=t,d.memoizedState=qa(1|s,m,a,o))}function Ey(t,s){mu(8390656,8,t,s)}function rf(t,s){pu(2048,8,t,s)}function $E(t){je.flags|=4;var s=je.updateQueue;if(s===null)s=hu(),je.updateQueue=s,s.events=[t];else{var a=s.events;a===null?s.events=[t]:a.push(t)}}function Ty(t){var s=_t().memoizedState;return $E({ref:s,nextImpl:t}),function(){if(($e&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function Sy(t,s){return pu(4,2,t,s)}function wy(t,s){return pu(4,4,t,s)}function Ay(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Ny(t,s,a){a=a!=null?a.concat([t]):null,pu(4,4,Ay.bind(null,s,t),a)}function af(){}function Ry(t,s){var a=_t();s=s===void 0?null:s;var o=a.memoizedState;return s!==null&&Kd(s,o[1])?o[0]:(a.memoizedState=[t,s],t)}function Cy(t,s){var a=_t();s=s===void 0?null:s;var o=a.memoizedState;if(s!==null&&Kd(s,o[1]))return o[0];if(o=t(),Gr){Nn(!0);try{t()}finally{Nn(!1)}}return a.memoizedState=[o,s],o}function lf(t,s,a){return a===void 0||(Js&1073741824)!==0&&(Le&261930)===0?t.memoizedState=s:(t.memoizedState=a,t=I0(),je.lanes|=t,qi|=t,a)}function Iy(t,s,a,o){return vn(a,s)?a:Ua.current!==null?(t=lf(t,a,o),vn(t,s)||(Rt=!0),t):(Js&42)===0||(Js&1073741824)!==0&&(Le&261930)===0?(Rt=!0,t.memoizedState=a):(t=I0(),je.lanes|=t,qi|=t,s)}function jy(t,s,a,o,d){var m=le.p;le.p=m!==0&&8>m?m:8;var _=X.T,T={};X.T=T,uf(t,!1,s,a);try{var O=d(),H=X.S;if(H!==null&&H(T,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var Z=FE(O,o);fo(t,s,Z,Sn(t))}else fo(t,s,o,Sn(t))}catch(te){fo(t,s,{then:function(){},status:"rejected",reason:te},Sn())}finally{le.p=m,_!==null&&T.types!==null&&(_.types=T.types),X.T=_}}function XE(){}function of(t,s,a,o){if(t.tag!==5)throw Error(r(476));var d=Dy(t).queue;jy(t,d,s,V,a===null?XE:function(){return Oy(t),a(o)})}function Dy(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:V,baseState:V,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zs,lastRenderedState:V},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zs,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function Oy(t){var s=Dy(t);s.next===null&&(s=t.alternate.memoizedState),fo(t,s.next.queue,{},Sn())}function cf(){return Ft(Io)}function ky(){return _t().memoizedState}function My(){return _t().memoizedState}function JE(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=Sn();t=Vi(a);var o=Pi(s,t,a);o!==null&&(dn(o,s,a),lo(o,s,a)),s={cache:Pd()},t.payload=s;return}s=s.return}}function ZE(t,s,a){var o=Sn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},gu(t)?Py(s,a):(a=Ad(t,s,a,o),a!==null&&(dn(a,t,o),Ly(a,s,o)))}function Vy(t,s,a){var o=Sn();fo(t,s,a,o)}function fo(t,s,a,o){var d={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(gu(t))Py(s,d);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var _=s.lastRenderedState,T=m(_,a);if(d.hasEagerState=!0,d.eagerState=T,vn(T,_))return Xc(t,s,d,0),it===null&&$c(),!1}catch{}finally{}if(a=Ad(t,s,d,o),a!==null)return dn(a,t,o),Ly(a,s,o),!0}return!1}function uf(t,s,a,o){if(o={lane:2,revertLane:qf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},gu(t)){if(s)throw Error(r(479))}else s=Ad(t,a,o,2),s!==null&&dn(s,t,2)}function gu(t){var s=t.alternate;return t===je||s!==null&&s===je}function Py(t,s){za=cu=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function Ly(t,s,a){if((a&4194048)!==0){var o=s.lanes;o&=t.pendingLanes,a|=o,s.lanes=a,kl(t,a)}}var mo={readContext:Ft,use:du,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt};mo.useEffectEvent=mt;var Uy={readContext:Ft,use:du,useCallback:function(t,s){return rn().memoizedState=[t,s===void 0?null:s],t},useContext:Ft,useEffect:Ey,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,mu(4194308,4,Ay.bind(null,s,t),a)},useLayoutEffect:function(t,s){return mu(4194308,4,t,s)},useInsertionEffect:function(t,s){mu(4,2,t,s)},useMemo:function(t,s){var a=rn();s=s===void 0?null:s;var o=t();if(Gr){Nn(!0);try{t()}finally{Nn(!1)}}return a.memoizedState=[o,s],o},useReducer:function(t,s,a){var o=rn();if(a!==void 0){var d=a(s);if(Gr){Nn(!0);try{a(s)}finally{Nn(!1)}}}else d=s;return o.memoizedState=o.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},o.queue=t,t=t.dispatch=ZE.bind(null,je,t),[o.memoizedState,t]},useRef:function(t){var s=rn();return t={current:t},s.memoizedState=t},useState:function(t){t=nf(t);var s=t.queue,a=Vy.bind(null,je,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:af,useDeferredValue:function(t,s){var a=rn();return lf(a,t,s)},useTransition:function(){var t=nf(!1);return t=jy.bind(null,je,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var o=je,d=rn();if(He){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),it===null)throw Error(r(349));(Le&127)!==0||ay(o,s,a)}d.memoizedState=a;var m={value:a,getSnapshot:s};return d.queue=m,Ey(oy.bind(null,o,m,t),[t]),o.flags|=2048,qa(9,{destroy:void 0},ly.bind(null,o,m,a,s),null),a},useId:function(){var t=rn(),s=it.identifierPrefix;if(He){var a=Ts,o=Es;a=(o&~(1<<32-gt(o)-1)).toString(32)+a,s="_"+s+"R_"+a,a=uu++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=GE++,s="_"+s+"r_"+a.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:cf,useFormState:yy,useActionState:yy,useOptimistic:function(t){var s=rn();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=uf.bind(null,je,!0,a),a.dispatch=s,[t,s]},useMemoCache:Wd,useCacheRefresh:function(){return rn().memoizedState=JE.bind(null,je)},useEffectEvent:function(t){var s=rn(),a={impl:t};return s.memoizedState=a,function(){if(($e&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},hf={readContext:Ft,use:du,useCallback:Ry,useContext:Ft,useEffect:rf,useImperativeHandle:Ny,useInsertionEffect:Sy,useLayoutEffect:wy,useMemo:Cy,useReducer:fu,useRef:by,useState:function(){return fu(Zs)},useDebugValue:af,useDeferredValue:function(t,s){var a=_t();return Iy(a,tt.memoizedState,t,s)},useTransition:function(){var t=fu(Zs)[0],s=_t().memoizedState;return[typeof t=="boolean"?t:ho(t),s]},useSyncExternalStore:ry,useId:ky,useHostTransitionStatus:cf,useFormState:vy,useActionState:vy,useOptimistic:function(t,s){var a=_t();return hy(a,tt,t,s)},useMemoCache:Wd,useCacheRefresh:My};hf.useEffectEvent=Ty;var zy={readContext:Ft,use:du,useCallback:Ry,useContext:Ft,useEffect:rf,useImperativeHandle:Ny,useInsertionEffect:Sy,useLayoutEffect:wy,useMemo:Cy,useReducer:tf,useRef:by,useState:function(){return tf(Zs)},useDebugValue:af,useDeferredValue:function(t,s){var a=_t();return tt===null?lf(a,t,s):Iy(a,tt.memoizedState,t,s)},useTransition:function(){var t=tf(Zs)[0],s=_t().memoizedState;return[typeof t=="boolean"?t:ho(t),s]},useSyncExternalStore:ry,useId:ky,useHostTransitionStatus:cf,useFormState:xy,useActionState:xy,useOptimistic:function(t,s){var a=_t();return tt!==null?hy(a,tt,t,s):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Wd,useCacheRefresh:My};zy.useEffectEvent=Ty;function df(t,s,a,o){s=t.memoizedState,a=a(o,s),a=a==null?s:S({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var ff={enqueueSetState:function(t,s,a){t=t._reactInternals;var o=Sn(),d=Vi(o);d.payload=s,a!=null&&(d.callback=a),s=Pi(t,d,o),s!==null&&(dn(s,t,o),lo(s,t,o))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var o=Sn(),d=Vi(o);d.tag=1,d.payload=s,a!=null&&(d.callback=a),s=Pi(t,d,o),s!==null&&(dn(s,t,o),lo(s,t,o))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=Sn(),o=Vi(a);o.tag=2,s!=null&&(o.callback=s),s=Pi(t,o,a),s!==null&&(dn(s,t,a),lo(s,t,a))}};function By(t,s,a,o,d,m,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,m,_):s.prototype&&s.prototype.isPureReactComponent?!Wl(a,o)||!Wl(d,m):!0}function qy(t,s,a,o){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,o),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,o),s.state!==t&&ff.enqueueReplaceState(s,s.state,null)}function Yr(t,s){var a=s;if("ref"in s){a={};for(var o in s)o!=="ref"&&(a[o]=s[o])}if(t=t.defaultProps){a===s&&(a=S({},a));for(var d in t)a[d]===void 0&&(a[d]=t[d])}return a}function Hy(t){Kc(t)}function Fy(t){console.error(t)}function Gy(t){Kc(t)}function yu(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(o){setTimeout(function(){throw o})}}function Yy(t,s,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function mf(t,s,a){return a=Vi(a),a.tag=3,a.payload={element:null},a.callback=function(){yu(t,s)},a}function Qy(t){return t=Vi(t),t.tag=3,t}function Ky(t,s,a,o){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var m=o.value;t.payload=function(){return d(m)},t.callback=function(){Yy(s,a,o)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Yy(s,a,o),typeof d!="function"&&(Hi===null?Hi=new Set([this]):Hi.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function WE(t,s,a,o,d){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(s=a.alternate,s!==null&&ka(s,a,d,!0),a=xn.current,a!==null){switch(a.tag){case 31:case 13:return Pn===null?Cu():a.alternate===null&&pt===0&&(pt=3),a.flags&=-257,a.flags|=65536,a.lanes=d,o===iu?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([o]):s.add(o),Uf(t,o,d)),!1;case 22:return a.flags|=65536,o===iu?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([o]):a.add(o)),Uf(t,o,d)),!1}throw Error(r(435,a.tag))}return Uf(t,o,d),Cu(),!1}if(He)return s=xn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,o!==Dd&&(t=Error(r(422),{cause:o}),no(On(t,a)))):(o!==Dd&&(s=Error(r(423),{cause:o}),no(On(s,a))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,o=On(o,a),d=mf(t.stateNode,o,d),Hd(t,d),pt!==4&&(pt=2)),!1;var m=Error(r(520),{cause:o});if(m=On(m,a),Eo===null?Eo=[m]:Eo.push(m),pt!==4&&(pt=2),s===null)return!0;o=On(o,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=d&-d,a.lanes|=t,t=mf(a.stateNode,o,t),Hd(a,t),!1;case 1:if(s=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Hi===null||!Hi.has(m))))return a.flags|=65536,d&=-d,a.lanes|=d,d=Qy(d),Ky(d,t,a,o),Hd(a,d),!1}a=a.return}while(a!==null);return!1}var pf=Error(r(461)),Rt=!1;function Gt(t,s,a,o){s.child=t===null?Zg(s,null,a,o):Fr(s,t.child,a,o)}function $y(t,s,a,o,d){a=a.render;var m=s.ref;if("ref"in o){var _={};for(var T in o)T!=="ref"&&(_[T]=o[T])}else _=o;return zr(s),o=$d(t,s,a,_,m,d),T=Xd(),t!==null&&!Rt?(Jd(t,s,d),Ws(t,s,d)):(He&&T&&Id(s),s.flags|=1,Gt(t,s,o,d),s.child)}function Xy(t,s,a,o,d){if(t===null){var m=a.type;return typeof m=="function"&&!Nd(m)&&m.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=m,Jy(t,s,m,o,d)):(t=Zc(a.type,null,o,s,s.mode,d),t.ref=s.ref,t.return=s,s.child=t)}if(m=t.child,!Tf(t,d)){var _=m.memoizedProps;if(a=a.compare,a=a!==null?a:Wl,a(_,o)&&t.ref===s.ref)return Ws(t,s,d)}return s.flags|=1,t=Qs(m,o),t.ref=s.ref,t.return=s,s.child=t}function Jy(t,s,a,o,d){if(t!==null){var m=t.memoizedProps;if(Wl(m,o)&&t.ref===s.ref)if(Rt=!1,s.pendingProps=o=m,Tf(t,d))(t.flags&131072)!==0&&(Rt=!0);else return s.lanes=t.lanes,Ws(t,s,d)}return gf(t,s,a,o,d)}function Zy(t,s,a,o){var d=o.children,m=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((s.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,t!==null){for(o=s.child=t.child,d=0;o!==null;)d=d|o.lanes|o.childLanes,o=o.sibling;o=d&~m}else o=0,s.child=null;return Wy(t,s,m,a,o)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&nu(s,m!==null?m.cachePool:null),m!==null?ty(s,m):Gd(),ny(s);else return o=s.lanes=536870912,Wy(t,s,m!==null?m.baseLanes|a:a,a,o)}else m!==null?(nu(s,m.cachePool),ty(s,m),Ui(),s.memoizedState=null):(t!==null&&nu(s,null),Gd(),Ui());return Gt(t,s,d,a),s.child}function po(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Wy(t,s,a,o,d){var m=Ud();return m=m===null?null:{parent:At._currentValue,pool:m},s.memoizedState={baseLanes:a,cachePool:m},t!==null&&nu(s,null),Gd(),ny(s),t!==null&&ka(t,s,o,!0),s.childLanes=d,null}function vu(t,s){return s=xu({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function e0(t,s,a){return Fr(s,t.child,null,a),t=vu(s,s.pendingProps),t.flags|=2,bn(s),s.memoizedState=null,t}function eT(t,s,a){var o=s.pendingProps,d=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(He){if(o.mode==="hidden")return t=vu(s,o),s.lanes=536870912,po(null,t);if(Qd(s),(t=at)?(t=dv(t,Vn),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:ji!==null?{id:Es,overflow:Ts}:null,retryLane:536870912,hydrationErrors:null},a=Pg(t),a.return=s,s.child=a,Ht=s,at=null)):t=null,t===null)throw Oi(s);return s.lanes=536870912,null}return vu(s,o)}var m=t.memoizedState;if(m!==null){var _=m.dehydrated;if(Qd(s),d)if(s.flags&256)s.flags&=-257,s=e0(t,s,a);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(r(558));else if(Rt||ka(t,s,a,!1),d=(a&t.childLanes)!==0,Rt||d){if(o=it,o!==null&&(_=Ml(o,a),_!==0&&_!==m.retryLane))throw m.retryLane=_,Vr(t,_),dn(o,t,_),pf;Cu(),s=e0(t,s,a)}else t=m.treeContext,at=Ln(_.nextSibling),Ht=s,He=!0,Di=null,Vn=!1,t!==null&&zg(s,t),s=vu(s,o),s.flags|=4096;return s}return t=Qs(t.child,{mode:o.mode,children:o.children}),t.ref=s.ref,s.child=t,t.return=s,t}function _u(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(s.flags|=4194816)}}function gf(t,s,a,o,d){return zr(s),a=$d(t,s,a,o,void 0,d),o=Xd(),t!==null&&!Rt?(Jd(t,s,d),Ws(t,s,d)):(He&&o&&Id(s),s.flags|=1,Gt(t,s,a,d),s.child)}function t0(t,s,a,o,d,m){return zr(s),s.updateQueue=null,a=iy(s,o,a,d),sy(t),o=Xd(),t!==null&&!Rt?(Jd(t,s,m),Ws(t,s,m)):(He&&o&&Id(s),s.flags|=1,Gt(t,s,a,m),s.child)}function n0(t,s,a,o,d){if(zr(s),s.stateNode===null){var m=Ia,_=a.contextType;typeof _=="object"&&_!==null&&(m=Ft(_)),m=new a(o,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=ff,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=o,m.state=s.memoizedState,m.refs={},Bd(s),_=a.contextType,m.context=typeof _=="object"&&_!==null?Ft(_):Ia,m.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(df(s,a,_,o),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(_=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),_!==m.state&&ff.enqueueReplaceState(m,m.state,null),co(s,o,m,d),oo(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),o=!0}else if(t===null){m=s.stateNode;var T=s.memoizedProps,O=Yr(a,T);m.props=O;var H=m.context,Z=a.contextType;_=Ia,typeof Z=="object"&&Z!==null&&(_=Ft(Z));var te=a.getDerivedStateFromProps;Z=typeof te=="function"||typeof m.getSnapshotBeforeUpdate=="function",T=s.pendingProps!==T,Z||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T||H!==_)&&qy(s,m,o,_),Mi=!1;var F=s.memoizedState;m.state=F,co(s,o,m,d),oo(),H=s.memoizedState,T||F!==H||Mi?(typeof te=="function"&&(df(s,a,te,o),H=s.memoizedState),(O=Mi||By(s,a,O,o,F,H,_))?(Z||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=o,s.memoizedState=H),m.props=o,m.state=H,m.context=_,o=O):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),o=!1)}else{m=s.stateNode,qd(t,s),_=s.memoizedProps,Z=Yr(a,_),m.props=Z,te=s.pendingProps,F=m.context,H=a.contextType,O=Ia,typeof H=="object"&&H!==null&&(O=Ft(H)),T=a.getDerivedStateFromProps,(H=typeof T=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==te||F!==O)&&qy(s,m,o,O),Mi=!1,F=s.memoizedState,m.state=F,co(s,o,m,d),oo();var $=s.memoizedState;_!==te||F!==$||Mi||t!==null&&t.dependencies!==null&&eu(t.dependencies)?(typeof T=="function"&&(df(s,a,T,o),$=s.memoizedState),(Z=Mi||By(s,a,Z,o,F,$,O)||t!==null&&t.dependencies!==null&&eu(t.dependencies))?(H||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,$,O),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,$,O)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(s.flags|=1024),s.memoizedProps=o,s.memoizedState=$),m.props=o,m.state=$,m.context=O,o=Z):(typeof m.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(s.flags|=1024),o=!1)}return m=o,_u(t,s),o=(s.flags&128)!==0,m||o?(m=s.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,t!==null&&o?(s.child=Fr(s,t.child,null,d),s.child=Fr(s,null,a,d)):Gt(t,s,a,d),s.memoizedState=m.state,t=s.child):t=Ws(t,s,d),t}function s0(t,s,a,o){return Lr(),s.flags|=256,Gt(t,s,a,o),s.child}var yf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vf(t){return{baseLanes:t,cachePool:Yg()}}function _f(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=Tn),t}function i0(t,s,a){var o=s.pendingProps,d=!1,m=(s.flags&128)!==0,_;if((_=m)||(_=t!==null&&t.memoizedState===null?!1:(vt.current&2)!==0),_&&(d=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,t===null){if(He){if(d?Li(s):Ui(),(t=at)?(t=dv(t,Vn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:ji!==null?{id:Es,overflow:Ts}:null,retryLane:536870912,hydrationErrors:null},a=Pg(t),a.return=s,s.child=a,Ht=s,at=null)):t=null,t===null)throw Oi(s);return tm(t)?s.lanes=32:s.lanes=536870912,null}var T=o.children;return o=o.fallback,d?(Ui(),d=s.mode,T=xu({mode:"hidden",children:T},d),o=Pr(o,d,a,null),T.return=s,o.return=s,T.sibling=o,s.child=T,o=s.child,o.memoizedState=vf(a),o.childLanes=_f(t,_,a),s.memoizedState=yf,po(null,o)):(Li(s),xf(s,T))}var O=t.memoizedState;if(O!==null&&(T=O.dehydrated,T!==null)){if(m)s.flags&256?(Li(s),s.flags&=-257,s=bf(t,s,a)):s.memoizedState!==null?(Ui(),s.child=t.child,s.flags|=128,s=null):(Ui(),T=o.fallback,d=s.mode,o=xu({mode:"visible",children:o.children},d),T=Pr(T,d,a,null),T.flags|=2,o.return=s,T.return=s,o.sibling=T,s.child=o,Fr(s,t.child,null,a),o=s.child,o.memoizedState=vf(a),o.childLanes=_f(t,_,a),s.memoizedState=yf,s=po(null,o));else if(Li(s),tm(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var H=_.dgst;_=H,o=Error(r(419)),o.stack="",o.digest=_,no({value:o,source:null,stack:null}),s=bf(t,s,a)}else if(Rt||ka(t,s,a,!1),_=(a&t.childLanes)!==0,Rt||_){if(_=it,_!==null&&(o=Ml(_,a),o!==0&&o!==O.retryLane))throw O.retryLane=o,Vr(t,o),dn(_,t,o),pf;em(T)||Cu(),s=bf(t,s,a)}else em(T)?(s.flags|=192,s.child=t.child,s=null):(t=O.treeContext,at=Ln(T.nextSibling),Ht=s,He=!0,Di=null,Vn=!1,t!==null&&zg(s,t),s=xf(s,o.children),s.flags|=4096);return s}return d?(Ui(),T=o.fallback,d=s.mode,O=t.child,H=O.sibling,o=Qs(O,{mode:"hidden",children:o.children}),o.subtreeFlags=O.subtreeFlags&65011712,H!==null?T=Qs(H,T):(T=Pr(T,d,a,null),T.flags|=2),T.return=s,o.return=s,o.sibling=T,s.child=o,po(null,o),o=s.child,T=t.child.memoizedState,T===null?T=vf(a):(d=T.cachePool,d!==null?(O=At._currentValue,d=d.parent!==O?{parent:O,pool:O}:d):d=Yg(),T={baseLanes:T.baseLanes|a,cachePool:d}),o.memoizedState=T,o.childLanes=_f(t,_,a),s.memoizedState=yf,po(t.child,o)):(Li(s),a=t.child,t=a.sibling,a=Qs(a,{mode:"visible",children:o.children}),a.return=s,a.sibling=null,t!==null&&(_=s.deletions,_===null?(s.deletions=[t],s.flags|=16):_.push(t)),s.child=a,s.memoizedState=null,a)}function xf(t,s){return s=xu({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function xu(t,s){return t=_n(22,t,null,s),t.lanes=0,t}function bf(t,s,a){return Fr(s,t.child,null,a),t=xf(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function r0(t,s,a){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s),Md(t.return,s,a)}function Ef(t,s,a,o,d,m){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:d,treeForkCount:m}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=o,_.tail=a,_.tailMode=d,_.treeForkCount=m)}function a0(t,s,a){var o=s.pendingProps,d=o.revealOrder,m=o.tail;o=o.children;var _=vt.current,T=(_&2)!==0;if(T?(_=_&1|2,s.flags|=128):_&=1,ae(vt,_),Gt(t,s,o,a),o=He?to:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&r0(t,a,s);else if(t.tag===19)r0(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(d){case"forwards":for(a=s.child,d=null;a!==null;)t=a.alternate,t!==null&&ou(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=s.child,s.child=null):(d=a.sibling,a.sibling=null),Ef(s,!1,d,a,m,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,d=s.child,s.child=null;d!==null;){if(t=d.alternate,t!==null&&ou(t)===null){s.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}Ef(s,!0,a,null,m,o);break;case"together":Ef(s,!1,null,null,void 0,o);break;default:s.memoizedState=null}return s.child}function Ws(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),qi|=s.lanes,(a&s.childLanes)===0)if(t!==null){if(ka(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(r(153));if(s.child!==null){for(t=s.child,a=Qs(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=Qs(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function Tf(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&eu(t)))}function tT(t,s,a){switch(s.tag){case 3:Me(s,s.stateNode.containerInfo),ki(s,At,t.memoizedState.cache),Lr();break;case 27:case 5:qs(s);break;case 4:Me(s,s.stateNode.containerInfo);break;case 10:ki(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Qd(s),null;break;case 13:var o=s.memoizedState;if(o!==null)return o.dehydrated!==null?(Li(s),s.flags|=128,null):(a&s.child.childLanes)!==0?i0(t,s,a):(Li(s),t=Ws(t,s,a),t!==null?t.sibling:null);Li(s);break;case 19:var d=(t.flags&128)!==0;if(o=(a&s.childLanes)!==0,o||(ka(t,s,a,!1),o=(a&s.childLanes)!==0),d){if(o)return a0(t,s,a);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ae(vt,vt.current),o)break;return null;case 22:return s.lanes=0,Zy(t,s,a,s.pendingProps);case 24:ki(s,At,t.memoizedState.cache)}return Ws(t,s,a)}function l0(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)Rt=!0;else{if(!Tf(t,a)&&(s.flags&128)===0)return Rt=!1,tT(t,s,a);Rt=(t.flags&131072)!==0}else Rt=!1,He&&(s.flags&1048576)!==0&&Ug(s,to,s.index);switch(s.lanes=0,s.tag){case 16:e:{var o=s.pendingProps;if(t=qr(s.elementType),s.type=t,typeof t=="function")Nd(t)?(o=Yr(t,o),s.tag=1,s=n0(null,s,t,o,a)):(s.tag=0,s=gf(null,s,t,o,a));else{if(t!=null){var d=t.$$typeof;if(d===Y){s.tag=11,s=$y(null,s,t,o,a);break e}else if(d===w){s.tag=14,s=Xy(null,s,t,o,a);break e}}throw s=pe(t)||t,Error(r(306,s,""))}}return s;case 0:return gf(t,s,s.type,s.pendingProps,a);case 1:return o=s.type,d=Yr(o,s.pendingProps),n0(t,s,o,d,a);case 3:e:{if(Me(s,s.stateNode.containerInfo),t===null)throw Error(r(387));o=s.pendingProps;var m=s.memoizedState;d=m.element,qd(t,s),co(s,o,null,a);var _=s.memoizedState;if(o=_.cache,ki(s,At,o),o!==m.cache&&Vd(s,[At],a,!0),oo(),o=_.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=s0(t,s,o,a);break e}else if(o!==d){d=On(Error(r(424)),s),no(d),s=s0(t,s,o,a);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(at=Ln(t.firstChild),Ht=s,He=!0,Di=null,Vn=!0,a=Zg(s,null,o,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Lr(),o===d){s=Ws(t,s,a);break e}Gt(t,s,o,a)}s=s.child}return s;case 26:return _u(t,s),t===null?(a=vv(s.type,null,s.pendingProps,null))?s.memoizedState=a:He||(a=s.type,t=s.pendingProps,o=Vu(Ee.current).createElement(a),o[Tt]=s,o[Pt]=t,Yt(o,a,t),St(o),s.stateNode=o):s.memoizedState=vv(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return qs(s),t===null&&He&&(o=s.stateNode=pv(s.type,s.pendingProps,Ee.current),Ht=s,Vn=!0,d=at,Qi(s.type)?(nm=d,at=Ln(o.firstChild)):at=d),Gt(t,s,s.pendingProps.children,a),_u(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&He&&((d=o=at)&&(o=jT(o,s.type,s.pendingProps,Vn),o!==null?(s.stateNode=o,Ht=s,at=Ln(o.firstChild),Vn=!1,d=!0):d=!1),d||Oi(s)),qs(s),d=s.type,m=s.pendingProps,_=t!==null?t.memoizedProps:null,o=m.children,Jf(d,m)?o=null:_!==null&&Jf(d,_)&&(s.flags|=32),s.memoizedState!==null&&(d=$d(t,s,YE,null,null,a),Io._currentValue=d),_u(t,s),Gt(t,s,o,a),s.child;case 6:return t===null&&He&&((t=a=at)&&(a=DT(a,s.pendingProps,Vn),a!==null?(s.stateNode=a,Ht=s,at=null,t=!0):t=!1),t||Oi(s)),null;case 13:return i0(t,s,a);case 4:return Me(s,s.stateNode.containerInfo),o=s.pendingProps,t===null?s.child=Fr(s,null,o,a):Gt(t,s,o,a),s.child;case 11:return $y(t,s,s.type,s.pendingProps,a);case 7:return Gt(t,s,s.pendingProps,a),s.child;case 8:return Gt(t,s,s.pendingProps.children,a),s.child;case 12:return Gt(t,s,s.pendingProps.children,a),s.child;case 10:return o=s.pendingProps,ki(s,s.type,o.value),Gt(t,s,o.children,a),s.child;case 9:return d=s.type._context,o=s.pendingProps.children,zr(s),d=Ft(d),o=o(d),s.flags|=1,Gt(t,s,o,a),s.child;case 14:return Xy(t,s,s.type,s.pendingProps,a);case 15:return Jy(t,s,s.type,s.pendingProps,a);case 19:return a0(t,s,a);case 31:return eT(t,s,a);case 22:return Zy(t,s,a,s.pendingProps);case 24:return zr(s),o=Ft(At),t===null?(d=Ud(),d===null&&(d=it,m=Pd(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=a),d=m),s.memoizedState={parent:o,cache:d},Bd(s),ki(s,At,d)):((t.lanes&a)!==0&&(qd(t,s),co(s,null,null,a),oo()),d=t.memoizedState,m=s.memoizedState,d.parent!==o?(d={parent:o,cache:o},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),ki(s,At,o)):(o=m.cache,ki(s,At,o),o!==d.cache&&Vd(s,[At],a,!0))),Gt(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ei(t){t.flags|=4}function Sf(t,s,a,o,d){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(d&335544128)===d)if(t.stateNode.complete)t.flags|=8192;else if(k0())t.flags|=8192;else throw Hr=iu,zd}else t.flags&=-16777217}function o0(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Tv(s))if(k0())t.flags|=8192;else throw Hr=iu,zd}function bu(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?Nc():536870912,t.lanes|=s,Ya|=s)}function go(t,s){if(!He)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function lt(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(s)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,o|=d.subtreeFlags&65011712,o|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,o|=d.subtreeFlags,o|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=o,t.childLanes=a,s}function nT(t,s,a){var o=s.pendingProps;switch(jd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(s),null;case 1:return lt(s),null;case 3:return a=s.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Xs(At),Ge(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Oa(s)?ei(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Od())),lt(s),null;case 26:var d=s.type,m=s.memoizedState;return t===null?(ei(s),m!==null?(lt(s),o0(s,m)):(lt(s),Sf(s,d,null,o,a))):m?m!==t.memoizedState?(ei(s),lt(s),o0(s,m)):(lt(s),s.flags&=-16777217):(t=t.memoizedProps,t!==o&&ei(s),lt(s),Sf(s,d,t,o,a)),null;case 27:if(ha(s),a=Ee.current,d=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==o&&ei(s);else{if(!o){if(s.stateNode===null)throw Error(r(166));return lt(s),null}t=de.current,Oa(s)?Bg(s):(t=pv(d,o,a),s.stateNode=t,ei(s))}return lt(s),null;case 5:if(ha(s),d=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==o&&ei(s);else{if(!o){if(s.stateNode===null)throw Error(r(166));return lt(s),null}if(m=de.current,Oa(s))Bg(s);else{var _=Vu(Ee.current);switch(m){case 1:m=_.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:m=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":m=_.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":m=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":m=_.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof o.is=="string"?_.createElement("select",{is:o.is}):_.createElement("select"),o.multiple?m.multiple=!0:o.size&&(m.size=o.size);break;default:m=typeof o.is=="string"?_.createElement(d,{is:o.is}):_.createElement(d)}}m[Tt]=s,m[Pt]=o;e:for(_=s.child;_!==null;){if(_.tag===5||_.tag===6)m.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===s)break e;for(;_.sibling===null;){if(_.return===null||_.return===s)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}s.stateNode=m;e:switch(Yt(m,d,o),d){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ei(s)}}return lt(s),Sf(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,a),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==o&&ei(s);else{if(typeof o!="string"&&s.stateNode===null)throw Error(r(166));if(t=Ee.current,Oa(s)){if(t=s.stateNode,a=s.memoizedProps,o=null,d=Ht,d!==null)switch(d.tag){case 27:case 5:o=d.memoizedProps}t[Tt]=s,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||iv(t.nodeValue,a)),t||Oi(s,!0)}else t=Vu(t).createTextNode(o),t[Tt]=s,s.stateNode=t}return lt(s),null;case 31:if(a=s.memoizedState,t===null||t.memoizedState!==null){if(o=Oa(s),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Tt]=s}else Lr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;lt(s),t=!1}else a=Od(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return s.flags&256?(bn(s),s):(bn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return lt(s),null;case 13:if(o=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=Oa(s),o!==null&&o.dehydrated!==null){if(t===null){if(!d)throw Error(r(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[Tt]=s}else Lr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;lt(s),d=!1}else d=Od(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(bn(s),s):(bn(s),null)}return bn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=s.child,d=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(d=o.alternate.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==d&&(o.flags|=2048)),a!==t&&a&&(s.child.flags|=8192),bu(s,s.updateQueue),lt(s),null);case 4:return Ge(),t===null&&Yf(s.stateNode.containerInfo),lt(s),null;case 10:return Xs(s.type),lt(s),null;case 19:if(W(vt),o=s.memoizedState,o===null)return lt(s),null;if(d=(s.flags&128)!==0,m=o.rendering,m===null)if(d)go(o,!1);else{if(pt!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(m=ou(t),m!==null){for(s.flags|=128,go(o,!1),t=m.updateQueue,s.updateQueue=t,bu(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)Vg(a,t),a=a.sibling;return ae(vt,vt.current&1|2),He&&Ks(s,o.treeForkCount),s.child}t=t.sibling}o.tail!==null&&nn()>Au&&(s.flags|=128,d=!0,go(o,!1),s.lanes=4194304)}else{if(!d)if(t=ou(m),t!==null){if(s.flags|=128,d=!0,t=t.updateQueue,s.updateQueue=t,bu(s,t),go(o,!0),o.tail===null&&o.tailMode==="hidden"&&!m.alternate&&!He)return lt(s),null}else 2*nn()-o.renderingStartTime>Au&&a!==536870912&&(s.flags|=128,d=!0,go(o,!1),s.lanes=4194304);o.isBackwards?(m.sibling=s.child,s.child=m):(t=o.last,t!==null?t.sibling=m:s.child=m,o.last=m)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=nn(),t.sibling=null,a=vt.current,ae(vt,d?a&1|2:a&1),He&&Ks(s,o.treeForkCount),t):(lt(s),null);case 22:case 23:return bn(s),Yd(),o=s.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(s.flags|=8192):o&&(s.flags|=8192),o?(a&536870912)!==0&&(s.flags&128)===0&&(lt(s),s.subtreeFlags&6&&(s.flags|=8192)):lt(s),a=s.updateQueue,a!==null&&bu(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),o!==a&&(s.flags|=2048),t!==null&&W(Br),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Xs(At),lt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function sT(t,s){switch(jd(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return Xs(At),Ge(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return ha(s),null;case 31:if(s.memoizedState!==null){if(bn(s),s.alternate===null)throw Error(r(340));Lr()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(bn(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Lr()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return W(vt),null;case 4:return Ge(),null;case 10:return Xs(s.type),null;case 22:case 23:return bn(s),Yd(),t!==null&&W(Br),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return Xs(At),null;case 25:return null;default:return null}}function c0(t,s){switch(jd(s),s.tag){case 3:Xs(At),Ge();break;case 26:case 27:case 5:ha(s);break;case 4:Ge();break;case 31:s.memoizedState!==null&&bn(s);break;case 13:bn(s);break;case 19:W(vt);break;case 10:Xs(s.type);break;case 22:case 23:bn(s),Yd(),t!==null&&W(Br);break;case 24:Xs(At)}}function yo(t,s){try{var a=s.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var d=o.next;a=d;do{if((a.tag&t)===t){o=void 0;var m=a.create,_=a.inst;o=m(),_.destroy=o}a=a.next}while(a!==d)}}catch(T){We(s,s.return,T)}}function zi(t,s,a){try{var o=s.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var m=d.next;o=m;do{if((o.tag&t)===t){var _=o.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,d=s;var O=a,H=T;try{H()}catch(Z){We(d,O,Z)}}}o=o.next}while(o!==m)}}catch(Z){We(s,s.return,Z)}}function u0(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{ey(s,a)}catch(o){We(t,t.return,o)}}}function h0(t,s,a){a.props=Yr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){We(t,s,o)}}function vo(t,s){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(d){We(t,s,d)}}function Ss(t,s){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(d){We(t,s,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){We(t,s,d)}else a.current=null}function d0(t){var s=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(d){We(t,t.return,d)}}function wf(t,s,a){try{var o=t.stateNode;wT(o,t.type,a,s),o[Pt]=s}catch(d){We(t,t.return,d)}}function f0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Qi(t.type)||t.tag===4}function Af(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||f0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Qi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nf(t,s,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(t),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Gn));else if(o!==4&&(o===27&&Qi(t.type)&&(a=t.stateNode,s=null),t=t.child,t!==null))for(Nf(t,s,a),t=t.sibling;t!==null;)Nf(t,s,a),t=t.sibling}function Eu(t,s,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(o!==4&&(o===27&&Qi(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Eu(t,s,a),t=t.sibling;t!==null;)Eu(t,s,a),t=t.sibling}function m0(t){var s=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);Yt(s,o,a),s[Tt]=t,s[Pt]=a}catch(m){We(t,t.return,m)}}var ti=!1,Ct=!1,Rf=!1,p0=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function iT(t,s){if(t=t.containerInfo,$f=Hu,t=Ng(t),xd(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var d=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var _=0,T=-1,O=-1,H=0,Z=0,te=t,F=null;t:for(;;){for(var $;te!==a||d!==0&&te.nodeType!==3||(T=_+d),te!==m||o!==0&&te.nodeType!==3||(O=_+o),te.nodeType===3&&(_+=te.nodeValue.length),($=te.firstChild)!==null;)F=te,te=$;for(;;){if(te===t)break t;if(F===a&&++H===d&&(T=_),F===m&&++Z===o&&(O=_),($=te.nextSibling)!==null)break;te=F,F=te.parentNode}te=$}a=T===-1||O===-1?null:{start:T,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(Xf={focusedElem:t,selectionRange:a},Hu=!1,Ut=s;Ut!==null;)if(s=Ut,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,Ut=t;else for(;Ut!==null;){switch(s=Ut,m=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)d=t[a],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=s,d=m.memoizedProps,m=m.memoizedState,o=a.stateNode;try{var ge=Yr(a.type,d);t=o.getSnapshotBeforeUpdate(ge,m),o.__reactInternalSnapshotBeforeUpdate=t}catch(Te){We(a,a.return,Te)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)Wf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Wf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=s.sibling,t!==null){t.return=s.return,Ut=t;break}Ut=s.return}}function g0(t,s,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:si(t,a),o&4&&yo(5,a);break;case 1:if(si(t,a),o&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(_){We(a,a.return,_)}else{var d=Yr(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(d,s,t.__reactInternalSnapshotBeforeUpdate)}catch(_){We(a,a.return,_)}}o&64&&u0(a),o&512&&vo(a,a.return);break;case 3:if(si(t,a),o&64&&(t=a.updateQueue,t!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{ey(t,s)}catch(_){We(a,a.return,_)}}break;case 27:s===null&&o&4&&m0(a);case 26:case 5:si(t,a),s===null&&o&4&&d0(a),o&512&&vo(a,a.return);break;case 12:si(t,a);break;case 31:si(t,a),o&4&&_0(t,a);break;case 13:si(t,a),o&4&&x0(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=fT.bind(null,a),OT(t,a))));break;case 22:if(o=a.memoizedState!==null||ti,!o){s=s!==null&&s.memoizedState!==null||Ct,d=ti;var m=Ct;ti=o,(Ct=s)&&!m?ii(t,a,(a.subtreeFlags&8772)!==0):si(t,a),ti=d,Ct=m}break;case 30:break;default:si(t,a)}}function y0(t){var s=t.alternate;s!==null&&(t.alternate=null,y0(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&ga(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ut=null,on=!1;function ni(t,s,a){for(a=a.child;a!==null;)v0(t,s,a),a=a.sibling}function v0(t,s,a){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Bn,a)}catch{}switch(a.tag){case 26:Ct||Ss(a,s),ni(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ct||Ss(a,s);var o=ut,d=on;Qi(a.type)&&(ut=a.stateNode,on=!1),ni(t,s,a),No(a.stateNode),ut=o,on=d;break;case 5:Ct||Ss(a,s);case 6:if(o=ut,d=on,ut=null,ni(t,s,a),ut=o,on=d,ut!==null)if(on)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(a.stateNode)}catch(m){We(a,s,m)}else try{ut.removeChild(a.stateNode)}catch(m){We(a,s,m)}break;case 18:ut!==null&&(on?(t=ut,uv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),el(t)):uv(ut,a.stateNode));break;case 4:o=ut,d=on,ut=a.stateNode.containerInfo,on=!0,ni(t,s,a),ut=o,on=d;break;case 0:case 11:case 14:case 15:zi(2,a,s),Ct||zi(4,a,s),ni(t,s,a);break;case 1:Ct||(Ss(a,s),o=a.stateNode,typeof o.componentWillUnmount=="function"&&h0(a,s,o)),ni(t,s,a);break;case 21:ni(t,s,a);break;case 22:Ct=(o=Ct)||a.memoizedState!==null,ni(t,s,a),Ct=o;break;default:ni(t,s,a)}}function _0(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{el(t)}catch(a){We(s,s.return,a)}}}function x0(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{el(t)}catch(a){We(s,s.return,a)}}function rT(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new p0),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new p0),s;default:throw Error(r(435,t.tag))}}function Tu(t,s){var a=rT(t);s.forEach(function(o){if(!a.has(o)){a.add(o);var d=mT.bind(null,t,o);o.then(d,d)}})}function cn(t,s){var a=s.deletions;if(a!==null)for(var o=0;o<a.length;o++){var d=a[o],m=t,_=s,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(Qi(T.type)){ut=T.stateNode,on=!1;break e}break;case 5:ut=T.stateNode,on=!1;break e;case 3:case 4:ut=T.stateNode.containerInfo,on=!0;break e}T=T.return}if(ut===null)throw Error(r(160));v0(m,_,d),ut=null,on=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)b0(s,t),s=s.sibling}var Jn=null;function b0(t,s){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:cn(s,t),un(t),o&4&&(zi(3,t,t.return),yo(3,t),zi(5,t,t.return));break;case 1:cn(s,t),un(t),o&512&&(Ct||a===null||Ss(a,a.return)),o&64&&ti&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var d=Jn;if(cn(s,t),un(t),o&512&&(Ct||a===null||Ss(a,a.return)),o&4){var m=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,d=d.ownerDocument||d;t:switch(o){case"title":m=d.getElementsByTagName("title")[0],(!m||m[us]||m[Tt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(o),d.head.insertBefore(m,d.querySelector("head > title"))),Yt(m,o,a),m[Tt]=t,St(m),o=m;break e;case"link":var _=bv("link","href",d).get(o+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(m=_[T],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}m=d.createElement(o),Yt(m,o,a),d.head.appendChild(m);break;case"meta":if(_=bv("meta","content",d).get(o+(a.content||""))){for(T=0;T<_.length;T++)if(m=_[T],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}m=d.createElement(o),Yt(m,o,a),d.head.appendChild(m);break;default:throw Error(r(468,o))}m[Tt]=t,St(m),o=m}t.stateNode=o}else Ev(d,t.type,t.stateNode);else t.stateNode=xv(d,o,t.memoizedProps);else m!==o?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,o===null?Ev(d,t.type,t.stateNode):xv(d,o,t.memoizedProps)):o===null&&t.stateNode!==null&&wf(t,t.memoizedProps,a.memoizedProps)}break;case 27:cn(s,t),un(t),o&512&&(Ct||a===null||Ss(a,a.return)),a!==null&&o&4&&wf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(cn(s,t),un(t),o&512&&(Ct||a===null||Ss(a,a.return)),t.flags&32){d=t.stateNode;try{ln(d,"")}catch(ge){We(t,t.return,ge)}}o&4&&t.stateNode!=null&&(d=t.memoizedProps,wf(t,d,a!==null?a.memoizedProps:d)),o&1024&&(Rf=!0);break;case 6:if(cn(s,t),un(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(ge){We(t,t.return,ge)}}break;case 3:if(Uu=null,d=Jn,Jn=Pu(s.containerInfo),cn(s,t),Jn=d,un(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{el(s.containerInfo)}catch(ge){We(t,t.return,ge)}Rf&&(Rf=!1,E0(t));break;case 4:o=Jn,Jn=Pu(t.stateNode.containerInfo),cn(s,t),un(t),Jn=o;break;case 12:cn(s,t),un(t);break;case 31:cn(s,t),un(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Tu(t,o)));break;case 13:cn(s,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(wu=nn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Tu(t,o)));break;case 22:d=t.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,H=ti,Z=Ct;if(ti=H||d,Ct=Z||O,cn(s,t),Ct=Z,ti=H,un(t),o&8192)e:for(s=t.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(a===null||O||ti||Ct||Qr(t)),a=null,s=t;;){if(s.tag===5||s.tag===26){if(a===null){O=a=s;try{if(m=O.stateNode,d)_=m.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=O.stateNode;var te=O.memoizedProps.style,F=te!=null&&te.hasOwnProperty("display")?te.display:null;T.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(ge){We(O,O.return,ge)}}}else if(s.tag===6){if(a===null){O=s;try{O.stateNode.nodeValue=d?"":O.memoizedProps}catch(ge){We(O,O.return,ge)}}}else if(s.tag===18){if(a===null){O=s;try{var $=O.stateNode;d?hv($,!0):hv(O.stateNode,!1)}catch(ge){We(O,O.return,ge)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Tu(t,a))));break;case 19:cn(s,t),un(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Tu(t,o)));break;case 30:break;case 21:break;default:cn(s,t),un(t)}}function un(t){var s=t.flags;if(s&2){try{for(var a,o=t.return;o!==null;){if(f0(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var d=a.stateNode,m=Af(t);Eu(t,m,d);break;case 5:var _=a.stateNode;a.flags&32&&(ln(_,""),a.flags&=-33);var T=Af(t);Eu(t,T,_);break;case 3:case 4:var O=a.stateNode.containerInfo,H=Af(t);Nf(t,H,O);break;default:throw Error(r(161))}}catch(Z){We(t,t.return,Z)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function E0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;E0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function si(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)g0(t,s.alternate,s),s=s.sibling}function Qr(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:zi(4,s,s.return),Qr(s);break;case 1:Ss(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&h0(s,s.return,a),Qr(s);break;case 27:No(s.stateNode);case 26:case 5:Ss(s,s.return),Qr(s);break;case 22:s.memoizedState===null&&Qr(s);break;case 30:Qr(s);break;default:Qr(s)}t=t.sibling}}function ii(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var o=s.alternate,d=t,m=s,_=m.flags;switch(m.tag){case 0:case 11:case 15:ii(d,m,a),yo(4,m);break;case 1:if(ii(d,m,a),o=m,d=o.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(H){We(o,o.return,H)}if(o=m,d=o.updateQueue,d!==null){var T=o.stateNode;try{var O=d.shared.hiddenCallbacks;if(O!==null)for(d.shared.hiddenCallbacks=null,d=0;d<O.length;d++)Wg(O[d],T)}catch(H){We(o,o.return,H)}}a&&_&64&&u0(m),vo(m,m.return);break;case 27:m0(m);case 26:case 5:ii(d,m,a),a&&o===null&&_&4&&d0(m),vo(m,m.return);break;case 12:ii(d,m,a);break;case 31:ii(d,m,a),a&&_&4&&_0(d,m);break;case 13:ii(d,m,a),a&&_&4&&x0(d,m);break;case 22:m.memoizedState===null&&ii(d,m,a),vo(m,m.return);break;case 30:break;default:ii(d,m,a)}s=s.sibling}}function Cf(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&so(a))}function If(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&so(t))}function Zn(t,s,a,o){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)T0(t,s,a,o),s=s.sibling}function T0(t,s,a,o){var d=s.flags;switch(s.tag){case 0:case 11:case 15:Zn(t,s,a,o),d&2048&&yo(9,s);break;case 1:Zn(t,s,a,o);break;case 3:Zn(t,s,a,o),d&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&so(t)));break;case 12:if(d&2048){Zn(t,s,a,o),t=s.stateNode;try{var m=s.memoizedProps,_=m.id,T=m.onPostCommit;typeof T=="function"&&T(_,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){We(s,s.return,O)}}else Zn(t,s,a,o);break;case 31:Zn(t,s,a,o);break;case 13:Zn(t,s,a,o);break;case 23:break;case 22:m=s.stateNode,_=s.alternate,s.memoizedState!==null?m._visibility&2?Zn(t,s,a,o):_o(t,s):m._visibility&2?Zn(t,s,a,o):(m._visibility|=2,Ha(t,s,a,o,(s.subtreeFlags&10256)!==0||!1)),d&2048&&Cf(_,s);break;case 24:Zn(t,s,a,o),d&2048&&If(s.alternate,s);break;default:Zn(t,s,a,o)}}function Ha(t,s,a,o,d){for(d=d&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var m=t,_=s,T=a,O=o,H=_.flags;switch(_.tag){case 0:case 11:case 15:Ha(m,_,T,O,d),yo(8,_);break;case 23:break;case 22:var Z=_.stateNode;_.memoizedState!==null?Z._visibility&2?Ha(m,_,T,O,d):_o(m,_):(Z._visibility|=2,Ha(m,_,T,O,d)),d&&H&2048&&Cf(_.alternate,_);break;case 24:Ha(m,_,T,O,d),d&&H&2048&&If(_.alternate,_);break;default:Ha(m,_,T,O,d)}s=s.sibling}}function _o(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,o=s,d=o.flags;switch(o.tag){case 22:_o(a,o),d&2048&&Cf(o.alternate,o);break;case 24:_o(a,o),d&2048&&If(o.alternate,o);break;default:_o(a,o)}s=s.sibling}}var xo=8192;function Fa(t,s,a){if(t.subtreeFlags&xo)for(t=t.child;t!==null;)S0(t,s,a),t=t.sibling}function S0(t,s,a){switch(t.tag){case 26:Fa(t,s,a),t.flags&xo&&t.memoizedState!==null&&GT(a,Jn,t.memoizedState,t.memoizedProps);break;case 5:Fa(t,s,a);break;case 3:case 4:var o=Jn;Jn=Pu(t.stateNode.containerInfo),Fa(t,s,a),Jn=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=xo,xo=16777216,Fa(t,s,a),xo=o):Fa(t,s,a));break;default:Fa(t,s,a)}}function w0(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function bo(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var o=s[a];Ut=o,N0(o,t)}w0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)A0(t),t=t.sibling}function A0(t){switch(t.tag){case 0:case 11:case 15:bo(t),t.flags&2048&&zi(9,t,t.return);break;case 3:bo(t);break;case 12:bo(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,Su(t)):bo(t);break;default:bo(t)}}function Su(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var o=s[a];Ut=o,N0(o,t)}w0(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:zi(8,s,s.return),Su(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Su(s));break;default:Su(s)}t=t.sibling}}function N0(t,s){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:zi(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:so(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Ut=o;else e:for(a=t;Ut!==null;){o=Ut;var d=o.sibling,m=o.return;if(y0(o),o===a){Ut=null;break e}if(d!==null){d.return=m,Ut=d;break e}Ut=m}}}var aT={getCacheForType:function(t){var s=Ft(At),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a},cacheSignal:function(){return Ft(At).controller.signal}},lT=typeof WeakMap=="function"?WeakMap:Map,$e=0,it=null,Ve=null,Le=0,Ze=0,En=null,Bi=!1,Ga=!1,jf=!1,ri=0,pt=0,qi=0,Kr=0,Df=0,Tn=0,Ya=0,Eo=null,hn=null,Of=!1,wu=0,R0=0,Au=1/0,Nu=null,Hi=null,kt=0,Fi=null,Qa=null,ai=0,kf=0,Mf=null,C0=null,To=0,Vf=null;function Sn(){return($e&2)!==0&&Le!==0?Le&-Le:X.T!==null?qf():Rc()}function I0(){if(Tn===0)if((Le&536870912)===0||He){var t=br;br<<=1,(br&3932160)===0&&(br=262144),Tn=t}else Tn=536870912;return t=xn.current,t!==null&&(t.flags|=32),Tn}function dn(t,s,a){(t===it&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)&&(Ka(t,0),Gi(t,Le,Tn,!1)),Er(t,a),(($e&2)===0||t!==it)&&(t===it&&(($e&2)===0&&(Kr|=a),pt===4&&Gi(t,Le,Tn,!1)),ws(t))}function j0(t,s,a){if(($e&6)!==0)throw Error(r(327));var o=!a&&(s&127)===0&&(s&t.expiredLanes)===0||qn(t,s),d=o?uT(t,s):Lf(t,s,!0),m=o;do{if(d===0){Ga&&!o&&Gi(t,s,0,!1);break}else{if(a=t.current.alternate,m&&!oT(a)){d=Lf(t,s,!1),m=!1;continue}if(d===2){if(m=s,t.errorRecoveryDisabledLanes&m)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;e:{var T=t;d=Eo;var O=T.current.memoizedState.isDehydrated;if(O&&(Ka(T,_).flags|=256),_=Lf(T,_,!1),_!==2){if(jf&&!O){T.errorRecoveryDisabledLanes|=m,Kr|=m,d=4;break e}m=hn,hn=d,m!==null&&(hn===null?hn=m:hn.push.apply(hn,m))}d=_}if(m=!1,d!==2)continue}}if(d===1){Ka(t,0),Gi(t,s,0,!0);break}e:{switch(o=t,m=d,m){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Gi(o,s,Tn,!Bi);break e;case 2:hn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(d=wu+300-nn(),10<d)){if(Gi(o,s,Tn,!Bi),ls(o,0,!0)!==0)break e;ai=s,o.timeoutHandle=ov(D0.bind(null,o,a,hn,Nu,Of,s,Tn,Kr,Ya,Bi,m,"Throttled",-0,0),d);break e}D0(o,a,hn,Nu,Of,s,Tn,Kr,Ya,Bi,m,null,-0,0)}}break}while(!0);ws(t)}function D0(t,s,a,o,d,m,_,T,O,H,Z,te,F,$){if(t.timeoutHandle=-1,te=s.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gn},S0(s,m,te);var ge=(m&62914560)===m?wu-nn():(m&4194048)===m?R0-nn():0;if(ge=YT(te,ge),ge!==null){ai=m,t.cancelPendingCommit=ge(z0.bind(null,t,s,m,a,o,d,_,T,O,Z,te,null,F,$)),Gi(t,m,_,!H);return}}z0(t,s,m,a,o,d,_,T,O)}function oT(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var d=a[o],m=d.getSnapshot;d=d.value;try{if(!vn(m(),d))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Gi(t,s,a,o){s&=~Df,s&=~Kr,t.suspendedLanes|=s,t.pingedLanes&=~s,o&&(t.warmLanes|=s),o=t.expirationTimes;for(var d=s;0<d;){var m=31-gt(d),_=1<<m;o[m]=-1,d&=~_}a!==0&&Tr(t,a,s)}function Ru(){return($e&6)===0?(So(0),!1):!0}function Pf(){if(Ve!==null){if(Ze===0)var t=Ve.return;else t=Ve,$s=Ur=null,Zd(t),La=null,ro=0,t=Ve;for(;t!==null;)c0(t.alternate,t),t=t.return;Ve=null}}function Ka(t,s){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,RT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ai=0,Pf(),it=t,Ve=a=Qs(t.current,null),Le=s,Ze=0,En=null,Bi=!1,Ga=qn(t,s),jf=!1,Ya=Tn=Df=Kr=qi=pt=0,hn=Eo=null,Of=!1,(s&8)!==0&&(s|=s&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=s;0<o;){var d=31-gt(o),m=1<<d;s|=t[d],o&=~m}return ri=s,$c(),a}function O0(t,s){je=null,X.H=mo,s===Pa||s===su?(s=$g(),Ze=3):s===zd?(s=$g(),Ze=4):Ze=s===pf?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,En=s,Ve===null&&(pt=1,yu(t,On(s,t.current)))}function k0(){var t=xn.current;return t===null?!0:(Le&4194048)===Le?Pn===null:(Le&62914560)===Le||(Le&536870912)!==0?t===Pn:!1}function M0(){var t=X.H;return X.H=mo,t===null?mo:t}function V0(){var t=X.A;return X.A=aT,t}function Cu(){pt=4,Bi||(Le&4194048)!==Le&&xn.current!==null||(Ga=!0),(qi&134217727)===0&&(Kr&134217727)===0||it===null||Gi(it,Le,Tn,!1)}function Lf(t,s,a){var o=$e;$e|=2;var d=M0(),m=V0();(it!==t||Le!==s)&&(Nu=null,Ka(t,s)),s=!1;var _=pt;e:do try{if(Ze!==0&&Ve!==null){var T=Ve,O=En;switch(Ze){case 8:Pf(),_=6;break e;case 3:case 2:case 9:case 6:xn.current===null&&(s=!0);var H=Ze;if(Ze=0,En=null,$a(t,T,O,H),a&&Ga){_=0;break e}break;default:H=Ze,Ze=0,En=null,$a(t,T,O,H)}}cT(),_=pt;break}catch(Z){O0(t,Z)}while(!0);return s&&t.shellSuspendCounter++,$s=Ur=null,$e=o,X.H=d,X.A=m,Ve===null&&(it=null,Le=0,$c()),_}function cT(){for(;Ve!==null;)P0(Ve)}function uT(t,s){var a=$e;$e|=2;var o=M0(),d=V0();it!==t||Le!==s?(Nu=null,Au=nn()+500,Ka(t,s)):Ga=qn(t,s);e:do try{if(Ze!==0&&Ve!==null){s=Ve;var m=En;t:switch(Ze){case 1:Ze=0,En=null,$a(t,s,m,1);break;case 2:case 9:if(Qg(m)){Ze=0,En=null,L0(s);break}s=function(){Ze!==2&&Ze!==9||it!==t||(Ze=7),ws(t)},m.then(s,s);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:Qg(m)?(Ze=0,En=null,L0(s)):(Ze=0,En=null,$a(t,s,m,7));break;case 5:var _=null;switch(Ve.tag){case 26:_=Ve.memoizedState;case 5:case 27:var T=Ve;if(_?Tv(_):T.stateNode.complete){Ze=0,En=null;var O=T.sibling;if(O!==null)Ve=O;else{var H=T.return;H!==null?(Ve=H,Iu(H)):Ve=null}break t}}Ze=0,En=null,$a(t,s,m,5);break;case 6:Ze=0,En=null,$a(t,s,m,6);break;case 8:Pf(),pt=6;break e;default:throw Error(r(462))}}hT();break}catch(Z){O0(t,Z)}while(!0);return $s=Ur=null,X.H=o,X.A=d,$e=a,Ve!==null?0:(it=null,Le=0,$c(),pt)}function hT(){for(;Ve!==null&&!fd();)P0(Ve)}function P0(t){var s=l0(t.alternate,t,ri);t.memoizedProps=t.pendingProps,s===null?Iu(t):Ve=s}function L0(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=t0(a,s,s.pendingProps,s.type,void 0,Le);break;case 11:s=t0(a,s,s.pendingProps,s.type.render,s.ref,Le);break;case 5:Zd(s);default:c0(a,s),s=Ve=Vg(s,ri),s=l0(a,s,ri)}t.memoizedProps=t.pendingProps,s===null?Iu(t):Ve=s}function $a(t,s,a,o){$s=Ur=null,Zd(s),La=null,ro=0;var d=s.return;try{if(WE(t,d,s,a,Le)){pt=1,yu(t,On(a,t.current)),Ve=null;return}}catch(m){if(d!==null)throw Ve=d,m;pt=1,yu(t,On(a,t.current)),Ve=null;return}s.flags&32768?(He||o===1?t=!0:Ga||(Le&536870912)!==0?t=!1:(Bi=t=!0,(o===2||o===9||o===3||o===6)&&(o=xn.current,o!==null&&o.tag===13&&(o.flags|=16384))),U0(s,t)):Iu(s)}function Iu(t){var s=t;do{if((s.flags&32768)!==0){U0(s,Bi);return}t=s.return;var a=nT(s.alternate,s,ri);if(a!==null){Ve=a;return}if(s=s.sibling,s!==null){Ve=s;return}Ve=s=t}while(s!==null);pt===0&&(pt=5)}function U0(t,s){do{var a=sT(t.alternate,t);if(a!==null){a.flags&=32767,Ve=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){Ve=t;return}Ve=t=a}while(t!==null);pt=6,Ve=null}function z0(t,s,a,o,d,m,_,T,O){t.cancelPendingCommit=null;do ju();while(kt!==0);if(($e&6)!==0)throw Error(r(327));if(s!==null){if(s===t.current)throw Error(r(177));if(m=s.lanes|s.childLanes,m|=wd,gd(t,a,m,_,T,O),t===it&&(Ve=it=null,Le=0),Qa=s,Fi=t,ai=a,kf=m,Mf=d,C0=o,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,pT(bi,function(){return G0(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||o){o=X.T,X.T=null,d=le.p,le.p=2,_=$e,$e|=4;try{iT(t,s,a)}finally{$e=_,le.p=d,X.T=o}}kt=1,B0(),q0(),H0()}}function B0(){if(kt===1){kt=0;var t=Fi,s=Qa,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var o=le.p;le.p=2;var d=$e;$e|=4;try{b0(s,t);var m=Xf,_=Ng(t.containerInfo),T=m.focusedElem,O=m.selectionRange;if(_!==T&&T&&T.ownerDocument&&Ag(T.ownerDocument.documentElement,T)){if(O!==null&&xd(T)){var H=O.start,Z=O.end;if(Z===void 0&&(Z=H),"selectionStart"in T)T.selectionStart=H,T.selectionEnd=Math.min(Z,T.value.length);else{var te=T.ownerDocument||document,F=te&&te.defaultView||window;if(F.getSelection){var $=F.getSelection(),ge=T.textContent.length,Te=Math.min(O.start,ge),st=O.end===void 0?Te:Math.min(O.end,ge);!$.extend&&Te>st&&(_=st,st=Te,Te=_);var L=wg(T,Te),M=wg(T,st);if(L&&M&&($.rangeCount!==1||$.anchorNode!==L.node||$.anchorOffset!==L.offset||$.focusNode!==M.node||$.focusOffset!==M.offset)){var q=te.createRange();q.setStart(L.node,L.offset),$.removeAllRanges(),Te>st?($.addRange(q),$.extend(M.node,M.offset)):(q.setEnd(M.node,M.offset),$.addRange(q))}}}}for(te=[],$=T;$=$.parentNode;)$.nodeType===1&&te.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<te.length;T++){var ee=te[T];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}Hu=!!$f,Xf=$f=null}finally{$e=d,le.p=o,X.T=a}}t.current=s,kt=2}}function q0(){if(kt===2){kt=0;var t=Fi,s=Qa,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var o=le.p;le.p=2;var d=$e;$e|=4;try{g0(t,s.alternate,s)}finally{$e=d,le.p=o,X.T=a}}kt=3}}function H0(){if(kt===4||kt===3){kt=0,bc();var t=Fi,s=Qa,a=ai,o=C0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?kt=5:(kt=0,Qa=Fi=null,F0(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(Hi=null),Hs(a),s=s.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Bn,s,void 0,(s.current.flags&128)===128)}catch{}if(o!==null){s=X.T,d=le.p,le.p=2,X.T=null;try{for(var m=t.onRecoverableError,_=0;_<o.length;_++){var T=o[_];m(T.value,{componentStack:T.stack})}}finally{X.T=s,le.p=d}}(ai&3)!==0&&ju(),ws(t),d=t.pendingLanes,(a&261930)!==0&&(d&42)!==0?t===Vf?To++:(To=0,Vf=t):To=0,So(0)}}function F0(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,so(s)))}function ju(){return B0(),q0(),H0(),G0()}function G0(){if(kt!==5)return!1;var t=Fi,s=kf;kf=0;var a=Hs(ai),o=X.T,d=le.p;try{le.p=32>a?32:a,X.T=null,a=Mf,Mf=null;var m=Fi,_=ai;if(kt=0,Qa=Fi=null,ai=0,($e&6)!==0)throw Error(r(331));var T=$e;if($e|=4,A0(m.current),T0(m,m.current,_,a),$e=T,So(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Bn,m)}catch{}return!0}finally{le.p=d,X.T=o,F0(t,s)}}function Y0(t,s,a){s=On(a,s),s=mf(t.stateNode,s,2),t=Pi(t,s,2),t!==null&&(Er(t,2),ws(t))}function We(t,s,a){if(t.tag===3)Y0(t,t,a);else for(;s!==null;){if(s.tag===3){Y0(s,t,a);break}else if(s.tag===1){var o=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Hi===null||!Hi.has(o))){t=On(a,t),a=Qy(2),o=Pi(s,a,2),o!==null&&(Ky(a,o,s,t),Er(o,2),ws(o));break}}s=s.return}}function Uf(t,s,a){var o=t.pingCache;if(o===null){o=t.pingCache=new lT;var d=new Set;o.set(s,d)}else d=o.get(s),d===void 0&&(d=new Set,o.set(s,d));d.has(a)||(jf=!0,d.add(a),t=dT.bind(null,t,s,a),s.then(t,t))}function dT(t,s,a){var o=t.pingCache;o!==null&&o.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,it===t&&(Le&a)===a&&(pt===4||pt===3&&(Le&62914560)===Le&&300>nn()-wu?($e&2)===0&&Ka(t,0):Df|=a,Ya===Le&&(Ya=0)),ws(t)}function Q0(t,s){s===0&&(s=Nc()),t=Vr(t,s),t!==null&&(Er(t,s),ws(t))}function fT(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),Q0(t,a)}function mT(t,s){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(s),Q0(t,a)}function pT(t,s){return Ot(t,s)}var Du=null,Xa=null,zf=!1,Ou=!1,Bf=!1,Yi=0;function ws(t){t!==Xa&&t.next===null&&(Xa===null?Du=Xa=t:Xa=Xa.next=t),Ou=!0,zf||(zf=!0,yT())}function So(t,s){if(!Bf&&Ou){Bf=!0;do for(var a=!1,o=Du;o!==null;){if(t!==0){var d=o.pendingLanes;if(d===0)var m=0;else{var _=o.suspendedLanes,T=o.pingedLanes;m=(1<<31-gt(42|t)+1)-1,m&=d&~(_&~T),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,J0(o,m))}else m=Le,m=ls(o,o===it?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(m&3)===0||qn(o,m)||(a=!0,J0(o,m));o=o.next}while(a);Bf=!1}}function gT(){K0()}function K0(){Ou=zf=!1;var t=0;Yi!==0&&NT()&&(t=Yi);for(var s=nn(),a=null,o=Du;o!==null;){var d=o.next,m=$0(o,s);m===0?(o.next=null,a===null?Du=d:a.next=d,d===null&&(Xa=a)):(a=o,(t!==0||(m&3)!==0)&&(Ou=!0)),o=d}kt!==0&&kt!==5||So(t),Yi!==0&&(Yi=0)}function $0(t,s){for(var a=t.suspendedLanes,o=t.pingedLanes,d=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var _=31-gt(m),T=1<<_,O=d[_];O===-1?((T&a)===0||(T&o)!==0)&&(d[_]=pd(T,s)):O<=s&&(t.expiredLanes|=T),m&=~T}if(s=it,a=Le,a=ls(t,t===s?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===s&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&xi(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||qn(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(o!==null&&xi(o),Hs(a)){case 2:case 8:a=Ol;break;case 32:a=bi;break;case 268435456:a=Ec;break;default:a=bi}return o=X0.bind(null,t),a=Ot(a,o),t.callbackPriority=s,t.callbackNode=a,s}return o!==null&&o!==null&&xi(o),t.callbackPriority=2,t.callbackNode=null,2}function X0(t,s){if(kt!==0&&kt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(ju()&&t.callbackNode!==a)return null;var o=Le;return o=ls(t,t===it?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(j0(t,o,s),$0(t,nn()),t.callbackNode!=null&&t.callbackNode===a?X0.bind(null,t):null)}function J0(t,s){if(ju())return null;j0(t,s,!0)}function yT(){CT(function(){($e&6)!==0?Ot(Dl,gT):K0()})}function qf(){if(Yi===0){var t=Ma;t===0&&(t=rs,rs<<=1,(rs&261888)===0&&(rs=256)),Yi=t}return Yi}function Z0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:xa(""+t)}function W0(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function vT(t,s,a,o,d){if(s==="submit"&&a&&a.stateNode===d){var m=Z0((d[Pt]||null).action),_=o.submitter;_&&(s=(s=_[Pt]||null)?Z0(s.formAction):_.getAttribute("formAction"),s!==null&&(m=s,_=null));var T=new vs("action","action",null,o,d);t.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Yi!==0){var O=_?W0(d,_):new FormData(d);of(a,{pending:!0,data:O,method:d.method,action:m},null,O)}}else typeof m=="function"&&(T.preventDefault(),O=_?W0(d,_):new FormData(d),of(a,{pending:!0,data:O,method:d.method,action:m},m,O))},currentTarget:d}]})}}for(var Hf=0;Hf<Sd.length;Hf++){var Ff=Sd[Hf],_T=Ff.toLowerCase(),xT=Ff[0].toUpperCase()+Ff.slice(1);Xn(_T,"on"+xT)}Xn(Ig,"onAnimationEnd"),Xn(jg,"onAnimationIteration"),Xn(Dg,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(VE,"onTransitionRun"),Xn(PE,"onTransitionStart"),Xn(LE,"onTransitionCancel"),Xn(Og,"onTransitionEnd"),ms("onMouseEnter",["mouseout","mouseover"]),ms("onMouseLeave",["mouseout","mouseover"]),ms("onPointerEnter",["pointerout","pointerover"]),ms("onPointerLeave",["pointerout","pointerover"]),fs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fs("onBeforeInput",["compositionend","keypress","textInput","paste"]),fs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wo));function ev(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],d=o.event;o=o.listeners;e:{var m=void 0;if(s)for(var _=o.length-1;0<=_;_--){var T=o[_],O=T.instance,H=T.currentTarget;if(T=T.listener,O!==m&&d.isPropagationStopped())break e;m=T,d.currentTarget=H;try{m(d)}catch(Z){Kc(Z)}d.currentTarget=null,m=O}else for(_=0;_<o.length;_++){if(T=o[_],O=T.instance,H=T.currentTarget,T=T.listener,O!==m&&d.isPropagationStopped())break e;m=T,d.currentTarget=H;try{m(d)}catch(Z){Kc(Z)}d.currentTarget=null,m=O}}}}function Pe(t,s){var a=s[pa];a===void 0&&(a=s[pa]=new Set);var o=t+"__bubble";a.has(o)||(tv(s,t,2,!1),a.add(o))}function Gf(t,s,a){var o=0;s&&(o|=4),tv(a,t,o,s)}var ku="_reactListening"+Math.random().toString(36).slice(2);function Yf(t){if(!t[ku]){t[ku]=!0,Vl.forEach(function(a){a!=="selectionchange"&&(bT.has(a)||Gf(a,!1,t),Gf(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[ku]||(s[ku]=!0,Gf("selectionchange",!1,s))}}function tv(t,s,a,o){switch(Iv(s)){case 2:var d=$T;break;case 8:d=XT;break;default:d=lm}a=d.bind(null,s,a,t),d=void 0,!Rr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),o?d!==void 0?t.addEventListener(s,a,{capture:!0,passive:d}):t.addEventListener(s,a,!0):d!==void 0?t.addEventListener(s,a,{passive:d}):t.addEventListener(s,a,!1)}function Qf(t,s,a,o,d){var m=o;if((s&1)===0&&(s&2)===0&&o!==null)e:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var T=o.stateNode.containerInfo;if(T===d)break;if(_===4)for(_=o.return;_!==null;){var O=_.tag;if((O===3||O===4)&&_.stateNode.containerInfo===d)return;_=_.return}for(;T!==null;){if(_=hs(T),_===null)return;if(O=_.tag,O===5||O===6||O===26||O===27){o=m=_;continue e}T=T.parentNode}}o=o.return}Ni(function(){var H=m,Z=Cn(a),te=[];e:{var F=kg.get(t);if(F!==void 0){var $=vs,ge=t;switch(t){case"keypress":if(Ir(a)===0)break e;case"keydown":case"keyup":$=Gc;break;case"focusin":ge="focus",$=Dr;break;case"focusout":ge="blur",$=Dr;break;case"beforeblur":case"afterblur":$=Dr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=$l;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=Vc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=y;break;case Ig:case jg:case Dg:$=Lc;break;case Og:$=A;break;case"scroll":case"scrollend":$=Kl;break;case"wheel":$=K;break;case"copy":case"cut":case"paste":$=Uc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Ys;break;case"toggle":case"beforetoggle":$=Ie}var Te=(s&4)!==0,st=!Te&&(t==="scroll"||t==="scrollend"),L=Te?F!==null?F+"Capture":null:F;Te=[];for(var M=H,q;M!==null;){var ee=M;if(q=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||q===null||L===null||(ee=Yn(M,L),ee!=null&&Te.push(Ao(M,ee,q))),st)break;M=M.return}0<Te.length&&(F=new $(F,ge,null,a,Z),te.push({event:F,listeners:Te}))}}if((s&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",$=t==="mouseout"||t==="pointerout",F&&a!==Gl&&(ge=a.relatedTarget||a.fromElement)&&(hs(ge)||ge[cs]))break e;if(($||F)&&(F=Z.window===Z?Z:(F=Z.ownerDocument)?F.defaultView||F.parentWindow:window,$?(ge=a.relatedTarget||a.toElement,$=H,ge=ge?hs(ge):null,ge!==null&&(st=c(ge),Te=ge.tag,ge!==st||Te!==5&&Te!==27&&Te!==6)&&(ge=null)):($=null,ge=H),$!==ge)){if(Te=$l,ee="onMouseLeave",L="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(Te=Ys,ee="onPointerLeave",L="onPointerEnter",M="pointer"),st=$==null?F:gn($),q=ge==null?F:gn(ge),F=new Te(ee,M+"leave",$,a,Z),F.target=st,F.relatedTarget=q,ee=null,hs(Z)===H&&(Te=new Te(L,M+"enter",ge,a,Z),Te.target=q,Te.relatedTarget=st,ee=Te),st=ee,$&&ge)t:{for(Te=ET,L=$,M=ge,q=0,ee=L;ee;ee=Te(ee))q++;ee=0;for(var xe=M;xe;xe=Te(xe))ee++;for(;0<q-ee;)L=Te(L),q--;for(;0<ee-q;)M=Te(M),ee--;for(;q--;){if(L===M||M!==null&&L===M.alternate){Te=L;break t}L=Te(L),M=Te(M)}Te=null}else Te=null;$!==null&&nv(te,F,$,Te,!1),ge!==null&&st!==null&&nv(te,st,ge,Te,!0)}}e:{if(F=H?gn(H):window,$=F.nodeName&&F.nodeName.toLowerCase(),$==="select"||$==="input"&&F.type==="file")var Ye=_g;else if(yg(F))if(xg)Ye=OE;else{Ye=jE;var ve=IE}else $=F.nodeName,!$||$.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&_a(H.elementType)&&(Ye=_g):Ye=DE;if(Ye&&(Ye=Ye(t,H))){vg(te,Ye,a,Z);break e}ve&&ve(t,F,H),t==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&ql(F,"number",F.value)}switch(ve=H?gn(H):window,t){case"focusin":(yg(ve)||ve.contentEditable==="true")&&(Na=ve,bd=H,eo=null);break;case"focusout":eo=bd=Na=null;break;case"mousedown":Ed=!0;break;case"contextmenu":case"mouseup":case"dragend":Ed=!1,Rg(te,a,Z);break;case"selectionchange":if(ME)break;case"keydown":case"keyup":Rg(te,a,Z)}var ke;if(Ke)e:{switch(t){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else Aa?Or(t,a)&&(Ue="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ue="onCompositionStart");Ue&&(bs&&a.locale!=="ko"&&(Aa||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&Aa&&(ke=Ql()):(ys=Z,Yl="value"in ys?ys.value:ys.textContent,Aa=!0)),ve=Mu(H,Ue),0<ve.length&&(Ue=new xs(Ue,t,null,a,Z),te.push({event:Ue,listeners:ve}),ke?Ue.data=ke:(ke=wa(a),ke!==null&&(Ue.data=ke)))),(ke=jn?AE(t,a):NE(t,a))&&(Ue=Mu(H,"onBeforeInput"),0<Ue.length&&(ve=new xs("onBeforeInput","beforeinput",null,a,Z),te.push({event:ve,listeners:Ue}),ve.data=ke)),vT(te,t,H,a,Z)}ev(te,s)})}function Ao(t,s,a){return{instance:t,listener:s,currentTarget:a}}function Mu(t,s){for(var a=s+"Capture",o=[];t!==null;){var d=t,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=Yn(t,a),d!=null&&o.unshift(Ao(t,d,m)),d=Yn(t,s),d!=null&&o.push(Ao(t,d,m))),t.tag===3)return o;t=t.return}return[]}function ET(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function nv(t,s,a,o,d){for(var m=s._reactName,_=[];a!==null&&a!==o;){var T=a,O=T.alternate,H=T.stateNode;if(T=T.tag,O!==null&&O===o)break;T!==5&&T!==26&&T!==27||H===null||(O=H,d?(H=Yn(a,m),H!=null&&_.unshift(Ao(a,H,O))):d||(H=Yn(a,m),H!=null&&_.push(Ao(a,H,O)))),a=a.return}_.length!==0&&t.push({event:s,listeners:_})}var TT=/\r\n?/g,ST=/\u0000|\uFFFD/g;function sv(t){return(typeof t=="string"?t:""+t).replace(TT,`
`).replace(ST,"")}function iv(t,s){return s=sv(s),sv(t)===s}function nt(t,s,a,o,d,m){switch(a){case"children":typeof o=="string"?s==="body"||s==="textarea"&&o===""||ln(t,o):(typeof o=="number"||typeof o=="bigint")&&s!=="body"&&ln(t,""+o);break;case"className":yn(t,"class",o);break;case"tabIndex":yn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(t,a,o);break;case"style":Fl(t,o,m);break;case"data":if(s!=="object"){yn(t,"data",o);break}case"src":case"href":if(o===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=xa(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(s!=="input"&&nt(t,s,"name",d.name,d,null),nt(t,s,"formEncType",d.formEncType,d,null),nt(t,s,"formMethod",d.formMethod,d,null),nt(t,s,"formTarget",d.formTarget,d,null)):(nt(t,s,"encType",d.encType,d,null),nt(t,s,"method",d.method,d,null),nt(t,s,"target",d.target,d,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=xa(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=Gn);break;case"onScroll":o!=null&&Pe("scroll",t);break;case"onScrollEnd":o!=null&&Pe("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(d.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=xa(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Pe("beforetoggle",t),Pe("toggle",t),ya(t,"popover",o);break;case"xlinkActuate":wt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":wt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":wt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":wt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":wt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":wt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":wt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":wt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":wt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ya(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Mc.get(a)||a,ya(t,a,o))}}function Kf(t,s,a,o,d,m){switch(a){case"style":Fl(t,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(d.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?ln(t,o):(typeof o=="number"||typeof o=="bigint")&&ln(t,""+o);break;case"onScroll":o!=null&&Pe("scroll",t);break;case"onScrollEnd":o!=null&&Pe("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),s=a.slice(2,d?a.length-7:void 0),m=t[Pt]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(s,m,d),typeof o=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,o,d);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):ya(t,a,o)}}}function Yt(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",t),Pe("load",t);var o=!1,d=!1,m;for(m in a)if(a.hasOwnProperty(m)){var _=a[m];if(_!=null)switch(m){case"src":o=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:nt(t,s,m,_,a,null)}}d&&nt(t,s,"srcSet",a.srcSet,a,null),o&&nt(t,s,"src",a.src,a,null);return;case"input":Pe("invalid",t);var T=m=_=d=null,O=null,H=null;for(o in a)if(a.hasOwnProperty(o)){var Z=a[o];if(Z!=null)switch(o){case"name":d=Z;break;case"type":_=Z;break;case"checked":O=Z;break;case"defaultChecked":H=Z;break;case"value":m=Z;break;case"defaultValue":T=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,s));break;default:nt(t,s,o,Z,a,null)}}Dc(t,m,T,O,H,_,d,!1);return;case"select":Pe("invalid",t),o=_=m=null;for(d in a)if(a.hasOwnProperty(d)&&(T=a[d],T!=null))switch(d){case"value":m=T;break;case"defaultValue":_=T;break;case"multiple":o=T;default:nt(t,s,d,T,a,null)}s=m,a=_,t.multiple=!!o,s!=null?Ti(t,!!o,s,!1):a!=null&&Ti(t,!!o,a,!0);return;case"textarea":Pe("invalid",t),m=d=o=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":o=T;break;case"defaultValue":d=T;break;case"children":m=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:nt(t,s,_,T,a,null)}Si(t,o,d,m);return;case"option":for(O in a)if(a.hasOwnProperty(O)&&(o=a[O],o!=null))switch(O){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:nt(t,s,O,o,a,null)}return;case"dialog":Pe("beforetoggle",t),Pe("toggle",t),Pe("cancel",t),Pe("close",t);break;case"iframe":case"object":Pe("load",t);break;case"video":case"audio":for(o=0;o<wo.length;o++)Pe(wo[o],t);break;case"image":Pe("error",t),Pe("load",t);break;case"details":Pe("toggle",t);break;case"embed":case"source":case"link":Pe("error",t),Pe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(o=a[H],o!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:nt(t,s,H,o,a,null)}return;default:if(_a(s)){for(Z in a)a.hasOwnProperty(Z)&&(o=a[Z],o!==void 0&&Kf(t,s,Z,o,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(o=a[T],o!=null&&nt(t,s,T,o,a,null))}function wT(t,s,a,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,_=null,T=null,O=null,H=null,Z=null;for($ in a){var te=a[$];if(a.hasOwnProperty($)&&te!=null)switch($){case"checked":break;case"value":break;case"defaultValue":O=te;default:o.hasOwnProperty($)||nt(t,s,$,null,o,te)}}for(var F in o){var $=o[F];if(te=a[F],o.hasOwnProperty(F)&&($!=null||te!=null))switch(F){case"type":m=$;break;case"name":d=$;break;case"checked":H=$;break;case"defaultChecked":Z=$;break;case"value":_=$;break;case"defaultValue":T=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,s));break;default:$!==te&&nt(t,s,F,$,o,te)}}va(t,_,T,O,H,Z,m,d);return;case"select":$=_=T=F=null;for(m in a)if(O=a[m],a.hasOwnProperty(m)&&O!=null)switch(m){case"value":break;case"multiple":$=O;default:o.hasOwnProperty(m)||nt(t,s,m,null,o,O)}for(d in o)if(m=o[d],O=a[d],o.hasOwnProperty(d)&&(m!=null||O!=null))switch(d){case"value":F=m;break;case"defaultValue":T=m;break;case"multiple":_=m;default:m!==O&&nt(t,s,d,m,o,O)}s=T,a=_,o=$,F!=null?Ti(t,!!a,F,!1):!!o!=!!a&&(s!=null?Ti(t,!!a,s,!0):Ti(t,!!a,a?[]:"",!1));return;case"textarea":$=F=null;for(T in a)if(d=a[T],a.hasOwnProperty(T)&&d!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:nt(t,s,T,null,o,d)}for(_ in o)if(d=o[_],m=a[_],o.hasOwnProperty(_)&&(d!=null||m!=null))switch(_){case"value":F=d;break;case"defaultValue":$=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:d!==m&&nt(t,s,_,d,o,m)}Oc(t,F,$);return;case"option":for(var ge in a)if(F=a[ge],a.hasOwnProperty(ge)&&F!=null&&!o.hasOwnProperty(ge))switch(ge){case"selected":t.selected=!1;break;default:nt(t,s,ge,null,o,F)}for(O in o)if(F=o[O],$=a[O],o.hasOwnProperty(O)&&F!==$&&(F!=null||$!=null))switch(O){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:nt(t,s,O,F,o,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in a)F=a[Te],a.hasOwnProperty(Te)&&F!=null&&!o.hasOwnProperty(Te)&&nt(t,s,Te,null,o,F);for(H in o)if(F=o[H],$=a[H],o.hasOwnProperty(H)&&F!==$&&(F!=null||$!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,s));break;default:nt(t,s,H,F,o,$)}return;default:if(_a(s)){for(var st in a)F=a[st],a.hasOwnProperty(st)&&F!==void 0&&!o.hasOwnProperty(st)&&Kf(t,s,st,void 0,o,F);for(Z in o)F=o[Z],$=a[Z],!o.hasOwnProperty(Z)||F===$||F===void 0&&$===void 0||Kf(t,s,Z,F,o,$);return}}for(var L in a)F=a[L],a.hasOwnProperty(L)&&F!=null&&!o.hasOwnProperty(L)&&nt(t,s,L,null,o,F);for(te in o)F=o[te],$=a[te],!o.hasOwnProperty(te)||F===$||F==null&&$==null||nt(t,s,te,F,o,$)}function rv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function AT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var d=a[o],m=d.transferSize,_=d.initiatorType,T=d.duration;if(m&&T&&rv(_)){for(_=0,T=d.responseEnd,o+=1;o<a.length;o++){var O=a[o],H=O.startTime;if(H>T)break;var Z=O.transferSize,te=O.initiatorType;Z&&rv(te)&&(O=O.responseEnd,_+=Z*(O<T?1:(T-H)/(O-H)))}if(--o,s+=8*(m+_)/(d.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var $f=null,Xf=null;function Vu(t){return t.nodeType===9?t:t.ownerDocument}function av(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function lv(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function Jf(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Zf=null;function NT(){var t=window.event;return t&&t.type==="popstate"?t===Zf?!1:(Zf=t,!0):(Zf=null,!1)}var ov=typeof setTimeout=="function"?setTimeout:void 0,RT=typeof clearTimeout=="function"?clearTimeout:void 0,cv=typeof Promise=="function"?Promise:void 0,CT=typeof queueMicrotask=="function"?queueMicrotask:typeof cv<"u"?function(t){return cv.resolve(null).then(t).catch(IT)}:ov;function IT(t){setTimeout(function(){throw t})}function Qi(t){return t==="head"}function uv(t,s){var a=s,o=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(d),el(s);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")No(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,No(a);for(var m=a.firstChild;m;){var _=m.nextSibling,T=m.nodeName;m[us]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=_}}else a==="body"&&No(t.ownerDocument.body);a=d}while(a);el(s)}function hv(t,s){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Wf(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Wf(a),ga(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function jT(t,s,a,o){for(;t.nodeType===1;){var d=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[us])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Ln(t.nextSibling),t===null)break}return null}function DT(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Ln(t.nextSibling),t===null))return null;return t}function dv(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Ln(t.nextSibling),t===null))return null;return t}function em(t){return t.data==="$?"||t.data==="$~"}function tm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function OT(t,s){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||a.readyState!=="loading")s();else{var o=function(){s(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Ln(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var nm=null;function fv(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(s===0)return Ln(t.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}t=t.nextSibling}return null}function mv(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return t;s--}else a!=="/$"&&a!=="/&"||s++}t=t.previousSibling}return null}function pv(t,s,a){switch(s=Vu(a),t){case"html":if(t=s.documentElement,!t)throw Error(r(452));return t;case"head":if(t=s.head,!t)throw Error(r(453));return t;case"body":if(t=s.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function No(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);ga(t)}var Un=new Map,gv=new Set;function Pu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var li=le.d;le.d={f:kT,r:MT,D:VT,C:PT,L:LT,m:UT,X:BT,S:zT,M:qT};function kT(){var t=li.f(),s=Ru();return t||s}function MT(t){var s=Rn(t);s!==null&&s.tag===5&&s.type==="form"?Oy(s):li.r(t)}var Ja=typeof document>"u"?null:document;function yv(t,s,a){var o=Ja;if(o&&typeof s=="string"&&s){var d=an(s);d='link[rel="'+t+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),gv.has(d)||(gv.add(d),t={rel:t,crossOrigin:a,href:s},o.querySelector(d)===null&&(s=o.createElement("link"),Yt(s,"link",t),St(s),o.head.appendChild(s)))}}function VT(t){li.D(t),yv("dns-prefetch",t,null)}function PT(t,s){li.C(t,s),yv("preconnect",t,s)}function LT(t,s,a){li.L(t,s,a);var o=Ja;if(o&&t&&s){var d='link[rel="preload"][as="'+an(s)+'"]';s==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+an(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+an(a.imageSizes)+'"]')):d+='[href="'+an(t)+'"]';var m=d;switch(s){case"style":m=Za(t);break;case"script":m=Wa(t)}Un.has(m)||(t=S({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),Un.set(m,t),o.querySelector(d)!==null||s==="style"&&o.querySelector(Ro(m))||s==="script"&&o.querySelector(Co(m))||(s=o.createElement("link"),Yt(s,"link",t),St(s),o.head.appendChild(s)))}}function UT(t,s){li.m(t,s);var a=Ja;if(a&&t){var o=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+an(o)+'"][href="'+an(t)+'"]',m=d;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Wa(t)}if(!Un.has(m)&&(t=S({rel:"modulepreload",href:t},s),Un.set(m,t),a.querySelector(d)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Co(m)))return}o=a.createElement("link"),Yt(o,"link",t),St(o),a.head.appendChild(o)}}}function zT(t,s,a){li.S(t,s,a);var o=Ja;if(o&&t){var d=ds(o).hoistableStyles,m=Za(t);s=s||"default";var _=d.get(m);if(!_){var T={loading:0,preload:null};if(_=o.querySelector(Ro(m)))T.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":s},a),(a=Un.get(m))&&sm(t,a);var O=_=o.createElement("link");St(O),Yt(O,"link",t),O._p=new Promise(function(H,Z){O.onload=H,O.onerror=Z}),O.addEventListener("load",function(){T.loading|=1}),O.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Lu(_,s,o)}_={type:"stylesheet",instance:_,count:1,state:T},d.set(m,_)}}}function BT(t,s){li.X(t,s);var a=Ja;if(a&&t){var o=ds(a).hoistableScripts,d=Wa(t),m=o.get(d);m||(m=a.querySelector(Co(d)),m||(t=S({src:t,async:!0},s),(s=Un.get(d))&&im(t,s),m=a.createElement("script"),St(m),Yt(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(d,m))}}function qT(t,s){li.M(t,s);var a=Ja;if(a&&t){var o=ds(a).hoistableScripts,d=Wa(t),m=o.get(d);m||(m=a.querySelector(Co(d)),m||(t=S({src:t,async:!0,type:"module"},s),(s=Un.get(d))&&im(t,s),m=a.createElement("script"),St(m),Yt(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(d,m))}}function vv(t,s,a,o){var d=(d=Ee.current)?Pu(d):null;if(!d)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Za(a.href),a=ds(d).hoistableStyles,o=a.get(s),o||(o={type:"style",instance:null,count:0,state:null},a.set(s,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Za(a.href);var m=ds(d).hoistableStyles,_=m.get(t);if(_||(d=d.ownerDocument||d,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,_),(m=d.querySelector(Ro(t)))&&!m._p&&(_.instance=m,_.state.loading=5),Un.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Un.set(t,a),m||HT(d,t,a,_.state))),s&&o===null)throw Error(r(528,""));return _}if(s&&o!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Wa(a),a=ds(d).hoistableScripts,o=a.get(s),o||(o={type:"script",instance:null,count:0,state:null},a.set(s,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Za(t){return'href="'+an(t)+'"'}function Ro(t){return'link[rel="stylesheet"]['+t+"]"}function _v(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function HT(t,s,a,o){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?o.loading=1:(s=t.createElement("link"),o.preload=s,s.addEventListener("load",function(){return o.loading|=1}),s.addEventListener("error",function(){return o.loading|=2}),Yt(s,"link",a),St(s),t.head.appendChild(s))}function Wa(t){return'[src="'+an(t)+'"]'}function Co(t){return"script[async]"+t}function xv(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var o=t.querySelector('style[data-href~="'+an(a.href)+'"]');if(o)return s.instance=o,St(o),o;var d=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),St(o),Yt(o,"style",d),Lu(o,a.precedence,t),s.instance=o;case"stylesheet":d=Za(a.href);var m=t.querySelector(Ro(d));if(m)return s.state.loading|=4,s.instance=m,St(m),m;o=_v(a),(d=Un.get(d))&&sm(o,d),m=(t.ownerDocument||t).createElement("link"),St(m);var _=m;return _._p=new Promise(function(T,O){_.onload=T,_.onerror=O}),Yt(m,"link",o),s.state.loading|=4,Lu(m,a.precedence,t),s.instance=m;case"script":return m=Wa(a.src),(d=t.querySelector(Co(m)))?(s.instance=d,St(d),d):(o=a,(d=Un.get(m))&&(o=S({},a),im(o,d)),t=t.ownerDocument||t,d=t.createElement("script"),St(d),Yt(d,"link",o),t.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(o=s.instance,s.state.loading|=4,Lu(o,a.precedence,t));return s.instance}function Lu(t,s,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=o.length?o[o.length-1]:null,m=d,_=0;_<o.length;_++){var T=o[_];if(T.dataset.precedence===s)m=T;else if(m!==d)break}m?m.parentNode.insertBefore(t,m.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function sm(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function im(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var Uu=null;function bv(t,s,a){if(Uu===null){var o=new Map,d=Uu=new Map;d.set(a,o)}else d=Uu,o=d.get(a),o||(o=new Map,d.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),d=0;d<a.length;d++){var m=a[d];if(!(m[us]||m[Tt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var _=m.getAttribute(s)||"";_=t+_;var T=o.get(_);T?T.push(m):o.set(_,[m])}}return o}function Ev(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function FT(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Tv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function GT(t,s,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=Za(o.href),m=s.querySelector(Ro(d));if(m){s=m._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=zu.bind(t),s.then(t,t)),a.state.loading|=4,a.instance=m,St(m);return}m=s.ownerDocument||s,o=_v(o),(d=Un.get(d))&&sm(o,d),m=m.createElement("link"),St(m);var _=m;_._p=new Promise(function(T,O){_.onload=T,_.onerror=O}),Yt(m,"link",o),a.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=zu.bind(t),s.addEventListener("load",a),s.addEventListener("error",a))}}var rm=0;function YT(t,s){return t.stylesheets&&t.count===0&&qu(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&qu(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+s);0<t.imgBytes&&rm===0&&(rm=62500*AT());var d=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&qu(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>rm?50:800)+s);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(d)}}:null}function zu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)qu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Bu=null;function qu(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Bu=new Map,s.forEach(QT,t),Bu=null,zu.call(t))}function QT(t,s){if(!(s.state.loading&4)){var a=Bu.get(t);if(a)var o=a.get(null);else{a=new Map,Bu.set(t,a);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var _=d[m];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),o=_)}o&&a.set(null,o)}d=s.instance,_=d.getAttribute("data-precedence"),m=a.get(_)||o,m===o&&a.set(null,d),a.set(_,d),this.count++,o=zu.bind(this),d.addEventListener("load",o),d.addEventListener("error",o),m?m.parentNode.insertBefore(d,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),s.state.loading|=4}}var Io={$$typeof:G,Provider:null,Consumer:null,_currentValue:V,_currentValue2:V,_threadCount:0};function KT(t,s,a,o,d,m,_,T,O){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=os(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=os(0),this.hiddenUpdates=os(null),this.identifierPrefix=o,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function Sv(t,s,a,o,d,m,_,T,O,H,Z,te){return t=new KT(t,s,a,_,O,H,Z,te,T),s=1,m===!0&&(s|=24),m=_n(3,null,null,s),t.current=m,m.stateNode=t,s=Pd(),s.refCount++,t.pooledCache=s,s.refCount++,m.memoizedState={element:o,isDehydrated:a,cache:s},Bd(m),t}function wv(t){return t?(t=Ia,t):Ia}function Av(t,s,a,o,d,m){d=wv(d),o.context===null?o.context=d:o.pendingContext=d,o=Vi(s),o.payload={element:a},m=m===void 0?null:m,m!==null&&(o.callback=m),a=Pi(t,o,s),a!==null&&(dn(a,t,s),lo(a,t,s))}function Nv(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function am(t,s){Nv(t,s),(t=t.alternate)&&Nv(t,s)}function Rv(t){if(t.tag===13||t.tag===31){var s=Vr(t,67108864);s!==null&&dn(s,t,67108864),am(t,67108864)}}function Cv(t){if(t.tag===13||t.tag===31){var s=Sn();s=Sr(s);var a=Vr(t,s);a!==null&&dn(a,t,s),am(t,s)}}var Hu=!0;function $T(t,s,a,o){var d=X.T;X.T=null;var m=le.p;try{le.p=2,lm(t,s,a,o)}finally{le.p=m,X.T=d}}function XT(t,s,a,o){var d=X.T;X.T=null;var m=le.p;try{le.p=8,lm(t,s,a,o)}finally{le.p=m,X.T=d}}function lm(t,s,a,o){if(Hu){var d=om(o);if(d===null)Qf(t,s,o,Fu,a),jv(t,o);else if(ZT(d,t,s,a,o))o.stopPropagation();else if(jv(t,o),s&4&&-1<JT.indexOf(t)){for(;d!==null;){var m=Rn(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var _=as(m.pendingLanes);if(_!==0){var T=m;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var O=1<<31-gt(_);T.entanglements[1]|=O,_&=~O}ws(m),($e&6)===0&&(Au=nn()+500,So(0))}}break;case 31:case 13:T=Vr(m,2),T!==null&&dn(T,m,2),Ru(),am(m,2)}if(m=om(o),m===null&&Qf(t,s,o,Fu,a),m===d)break;d=m}d!==null&&o.stopPropagation()}else Qf(t,s,o,null,a)}}function om(t){return t=Cn(t),cm(t)}var Fu=null;function cm(t){if(Fu=null,t=hs(t),t!==null){var s=c(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=f(s),t!==null)return t;t=null}else if(a===31){if(t=g(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return Fu=t,null}function Iv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xr()){case Dl:return 2;case Ol:return 8;case bi:case md:return 32;case Ec:return 268435456;default:return 32}default:return 32}}var um=!1,Ki=null,$i=null,Xi=null,jo=new Map,Do=new Map,Ji=[],JT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jv(t,s){switch(t){case"focusin":case"focusout":Ki=null;break;case"dragenter":case"dragleave":$i=null;break;case"mouseover":case"mouseout":Xi=null;break;case"pointerover":case"pointerout":jo.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Do.delete(s.pointerId)}}function Oo(t,s,a,o,d,m){return t===null||t.nativeEvent!==m?(t={blockedOn:s,domEventName:a,eventSystemFlags:o,nativeEvent:m,targetContainers:[d]},s!==null&&(s=Rn(s),s!==null&&Rv(s)),t):(t.eventSystemFlags|=o,s=t.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),t)}function ZT(t,s,a,o,d){switch(s){case"focusin":return Ki=Oo(Ki,t,s,a,o,d),!0;case"dragenter":return $i=Oo($i,t,s,a,o,d),!0;case"mouseover":return Xi=Oo(Xi,t,s,a,o,d),!0;case"pointerover":var m=d.pointerId;return jo.set(m,Oo(jo.get(m)||null,t,s,a,o,d)),!0;case"gotpointercapture":return m=d.pointerId,Do.set(m,Oo(Do.get(m)||null,t,s,a,o,d)),!0}return!1}function Dv(t){var s=hs(t.target);if(s!==null){var a=c(s);if(a!==null){if(s=a.tag,s===13){if(s=f(a),s!==null){t.blockedOn=s,Hn(t.priority,function(){Cv(a)});return}}else if(s===31){if(s=g(a),s!==null){t.blockedOn=s,Hn(t.priority,function(){Cv(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gu(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=om(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Gl=o,a.target.dispatchEvent(o),Gl=null}else return s=Rn(a),s!==null&&Rv(s),t.blockedOn=a,!1;s.shift()}return!0}function Ov(t,s,a){Gu(t)&&a.delete(s)}function WT(){um=!1,Ki!==null&&Gu(Ki)&&(Ki=null),$i!==null&&Gu($i)&&($i=null),Xi!==null&&Gu(Xi)&&(Xi=null),jo.forEach(Ov),Do.forEach(Ov)}function Yu(t,s){t.blockedOn===s&&(t.blockedOn=null,um||(um=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,WT)))}var Qu=null;function kv(t){Qu!==t&&(Qu=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Qu===t&&(Qu=null);for(var s=0;s<t.length;s+=3){var a=t[s],o=t[s+1],d=t[s+2];if(typeof o!="function"){if(cm(o||a)===null)continue;break}var m=Rn(a);m!==null&&(t.splice(s,3),s-=3,of(m,{pending:!0,data:d,method:a.method,action:o},o,d))}}))}function el(t){function s(O){return Yu(O,t)}Ki!==null&&Yu(Ki,t),$i!==null&&Yu($i,t),Xi!==null&&Yu(Xi,t),jo.forEach(s),Do.forEach(s);for(var a=0;a<Ji.length;a++){var o=Ji[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Ji.length&&(a=Ji[0],a.blockedOn===null);)Dv(a),a.blockedOn===null&&Ji.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var d=a[o],m=a[o+1],_=d[Pt]||null;if(typeof m=="function")_||kv(a);else if(_){var T=null;if(m&&m.hasAttribute("formAction")){if(d=m,_=m[Pt]||null)T=_.formAction;else if(cm(d)!==null)continue}else T=_.action;typeof T=="function"?a[o+1]=T:(a.splice(o,3),o-=3),kv(a)}}}function Mv(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(_){return d=_})},focusReset:"manual",scroll:"manual"})}function s(){d!==null&&(d(),d=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,d=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),d!==null&&(d(),d=null)}}}function hm(t){this._internalRoot=t}Ku.prototype.render=hm.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,o=Sn();Av(a,o,t,s,null,null)},Ku.prototype.unmount=hm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Av(t.current,2,null,t,null,null),Ru(),s[cs]=null}};function Ku(t){this._internalRoot=t}Ku.prototype.unstable_scheduleHydration=function(t){if(t){var s=Rc();t={blockedOn:null,target:t,priority:s};for(var a=0;a<Ji.length&&s!==0&&s<Ji[a].priority;a++);Ji.splice(a,0,t),a===0&&Dv(t)}};var Vv=e.version;if(Vv!=="19.2.0")throw Error(r(527,Vv,"19.2.0"));le.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=v(s),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var eS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$u.isDisabled&&$u.supportsFiber)try{Bn=$u.inject(eS),Bt=$u}catch{}}return Mo.createRoot=function(t,s){if(!l(t))throw Error(r(299));var a=!1,o="",d=Hy,m=Fy,_=Gy;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(o=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=Sv(t,1,!1,null,null,a,o,null,d,m,_,Mv),t[cs]=s.current,Yf(t),new hm(s)},Mo.hydrateRoot=function(t,s,a){if(!l(t))throw Error(r(299));var o=!1,d="",m=Hy,_=Fy,T=Gy,O=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(O=a.formState)),s=Sv(t,1,!0,s,a??null,o,d,O,m,_,T,Mv),s.context=wv(null),a=s.current,o=Sn(),o=Sr(o),d=Vi(o),d.callback=null,Pi(a,d,o),a=o,s.current.lanes=a,Er(s,a),ws(s),t[cs]=s.current,Yf(t),new Ku(s)},Mo.version="19.2.0",Mo}var Yv;function uS(){if(Yv)return mm.exports;Yv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),mm.exports=cS(),mm.exports}var hS=uS();var Qv="popstate";function dS(i={}){function e(r,l){let{pathname:c,search:f,hash:g}=r.location;return Mm("",{pathname:c,search:f,hash:g},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(r,l){return typeof l=="string"?l:Ko(l)}return mS(e,n,null,i)}function dt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Ms(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function fS(){return Math.random().toString(36).substring(2,10)}function Kv(i,e){return{usr:i.state,key:i.key,idx:e}}function Mm(i,e,n=null,r){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?bl(e):e,state:n,key:e&&e.key||r||fS()}}function Ko({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function bl(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let r=i.indexOf("?");r>=0&&(e.search=i.substring(r),i=i.substring(0,r)),i&&(e.pathname=i)}return e}function mS(i,e,n,r={}){let{window:l=document.defaultView,v5Compat:c=!1}=r,f=l.history,g="POP",p=null,v=b();v==null&&(v=0,f.replaceState({...f.state,idx:v},""));function b(){return(f.state||{idx:null}).idx}function S(){g="POP";let B=b(),se=B==null?null:B-v;v=B,p&&p({action:g,location:J.location,delta:se})}function C(B,se){g="PUSH";let ie=Mm(J.location,B,se);v=b()+1;let G=Kv(ie,v),Y=J.createHref(ie);try{f.pushState(G,"",Y)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;l.location.assign(Y)}c&&p&&p({action:g,location:J.location,delta:1})}function P(B,se){g="REPLACE";let ie=Mm(J.location,B,se);v=b();let G=Kv(ie,v),Y=J.createHref(ie);f.replaceState(G,"",Y),c&&p&&p({action:g,location:J.location,delta:0})}function Q(B){return pS(B)}let J={get action(){return g},get location(){return i(l,f)},listen(B){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(Qv,S),p=B,()=>{l.removeEventListener(Qv,S),p=null}},createHref(B){return e(l,B)},createURL:Q,encodeLocation(B){let se=Q(B);return{pathname:se.pathname,search:se.search,hash:se.hash}},push:C,replace:P,go(B){return f.go(B)}};return J}function pS(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),dt(n,"No window.location.(origin|href) available to create URL");let r=typeof i=="string"?i:Ko(i);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Mx(i,e,n="/"){return gS(i,e,n,!1)}function gS(i,e,n,r){let l=typeof e=="string"?bl(e):e,c=di(l.pathname||"/",n);if(c==null)return null;let f=Vx(i);yS(f);let g=null;for(let p=0;g==null&&p<f.length;++p){let v=RS(c);g=AS(f[p],v,r)}return g}function Vx(i,e=[],n=[],r="",l=!1){let c=(f,g,p=l,v)=>{let b={relativePath:v===void 0?f.path||"":v,caseSensitive:f.caseSensitive===!0,childrenIndex:g,route:f};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(r)&&p)return;dt(b.relativePath.startsWith(r),`Absolute route path "${b.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(r.length)}let S=hi([r,b.relativePath]),C=n.concat(b);f.children&&f.children.length>0&&(dt(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),Vx(f.children,e,C,S,p)),!(f.path==null&&!f.index)&&e.push({path:S,score:SS(S,f.index),routesMeta:C})};return i.forEach((f,g)=>{if(f.path===""||!f.path?.includes("?"))c(f,g);else for(let p of Px(f.path))c(f,g,!0,p)}),e}function Px(i){let e=i.split("/");if(e.length===0)return[];let[n,...r]=e,l=n.endsWith("?"),c=n.replace(/\?$/,"");if(r.length===0)return l?[c,""]:[c];let f=Px(r.join("/")),g=[];return g.push(...f.map(p=>p===""?c:[c,p].join("/"))),l&&g.push(...f),g.map(p=>i.startsWith("/")&&p===""?"/":p)}function yS(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:wS(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var vS=/^:[\w-]+$/,_S=3,xS=2,bS=1,ES=10,TS=-2,$v=i=>i==="*";function SS(i,e){let n=i.split("/"),r=n.length;return n.some($v)&&(r+=TS),e&&(r+=xS),n.filter(l=>!$v(l)).reduce((l,c)=>l+(vS.test(c)?_S:c===""?bS:ES),r)}function wS(i,e){return i.length===e.length&&i.slice(0,-1).every((r,l)=>r===e[l])?i[i.length-1]-e[e.length-1]:0}function AS(i,e,n=!1){let{routesMeta:r}=i,l={},c="/",f=[];for(let g=0;g<r.length;++g){let p=r[g],v=g===r.length-1,b=c==="/"?e:e.slice(c.length)||"/",S=vh({path:p.relativePath,caseSensitive:p.caseSensitive,end:v},b),C=p.route;if(!S&&v&&n&&!r[r.length-1].route.index&&(S=vh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},b)),!S)return null;Object.assign(l,S.params),f.push({params:l,pathname:hi([c,S.pathname]),pathnameBase:DS(hi([c,S.pathnameBase])),route:C}),S.pathnameBase!=="/"&&(c=hi([c,S.pathnameBase]))}return f}function vh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,r]=NS(i.path,i.caseSensitive,i.end),l=e.match(n);if(!l)return null;let c=l[0],f=c.replace(/(.)\/+$/,"$1"),g=l.slice(1);return{params:r.reduce((v,{paramName:b,isOptional:S},C)=>{if(b==="*"){let Q=g[C]||"";f=c.slice(0,c.length-Q.length).replace(/(.)\/+$/,"$1")}const P=g[C];return S&&!P?v[b]=void 0:v[b]=(P||"").replace(/%2F/g,"/"),v},{}),pathname:c,pathnameBase:f,pattern:i}}function NS(i,e=!1,n=!0){Ms(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let r=[],l="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,g,p)=>(r.push({paramName:g,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(r.push({paramName:"*"}),l+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":i!==""&&i!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),r]}function RS(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ms(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function di(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=i.charAt(n);return r&&r!=="/"?null:i.slice(n)||"/"}function CS(i,e="/"){let{pathname:n,search:r="",hash:l=""}=typeof i=="string"?bl(i):i;return{pathname:n?n.startsWith("/")?n:IS(n,e):e,search:OS(r),hash:kS(l)}}function IS(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function vm(i,e,n,r){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jS(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Lx(i){let e=jS(i);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Ux(i,e,n,r=!1){let l;typeof i=="string"?l=bl(i):(l={...i},dt(!l.pathname||!l.pathname.includes("?"),vm("?","pathname","search",l)),dt(!l.pathname||!l.pathname.includes("#"),vm("#","pathname","hash",l)),dt(!l.search||!l.search.includes("#"),vm("#","search","hash",l)));let c=i===""||l.pathname==="",f=c?"/":l.pathname,g;if(f==null)g=n;else{let S=e.length-1;if(!r&&f.startsWith("..")){let C=f.split("/");for(;C[0]==="..";)C.shift(),S-=1;l.pathname=C.join("/")}g=S>=0?e[S]:"/"}let p=CS(l,g),v=f&&f!=="/"&&f.endsWith("/"),b=(c||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(v||b)&&(p.pathname+="/"),p}var hi=i=>i.join("/").replace(/\/\/+/g,"/"),DS=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),OS=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,kS=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function MS(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var zx=["POST","PUT","PATCH","DELETE"];new Set(zx);var VS=["GET",...zx];new Set(VS);var El=U.createContext(null);El.displayName="DataRouter";var Hh=U.createContext(null);Hh.displayName="DataRouterState";U.createContext(!1);var Bx=U.createContext({isTransitioning:!1});Bx.displayName="ViewTransition";var PS=U.createContext(new Map);PS.displayName="Fetchers";var LS=U.createContext(null);LS.displayName="Await";var Us=U.createContext(null);Us.displayName="Navigation";var rc=U.createContext(null);rc.displayName="Location";var vi=U.createContext({outlet:null,matches:[],isDataRoute:!1});vi.displayName="Route";var hp=U.createContext(null);hp.displayName="RouteError";function US(i,{relative:e}={}){dt(ac(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=U.useContext(Us),{hash:l,pathname:c,search:f}=lc(i,{relative:e}),g=c;return n!=="/"&&(g=c==="/"?n:hi([n,c])),r.createHref({pathname:g,search:f,hash:l})}function ac(){return U.useContext(rc)!=null}function _i(){return dt(ac(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(rc).location}var qx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Hx(i){U.useContext(Us).static||U.useLayoutEffect(i)}function Fh(){let{isDataRoute:i}=U.useContext(vi);return i?ZS():zS()}function zS(){dt(ac(),"useNavigate() may be used only in the context of a <Router> component.");let i=U.useContext(El),{basename:e,navigator:n}=U.useContext(Us),{matches:r}=U.useContext(vi),{pathname:l}=_i(),c=JSON.stringify(Lx(r)),f=U.useRef(!1);return Hx(()=>{f.current=!0}),U.useCallback((p,v={})=>{if(Ms(f.current,qx),!f.current)return;if(typeof p=="number"){n.go(p);return}let b=Ux(p,JSON.parse(c),l,v.relative==="path");i==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:hi([e,b.pathname])),(v.replace?n.replace:n.push)(b,v.state,v)},[e,n,c,l,i])}U.createContext(null);function lc(i,{relative:e}={}){let{matches:n}=U.useContext(vi),{pathname:r}=_i(),l=JSON.stringify(Lx(n));return U.useMemo(()=>Ux(i,JSON.parse(l),r,e==="path"),[i,l,r,e])}function BS(i,e){return Fx(i,e)}function Fx(i,e,n,r,l){dt(ac(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=U.useContext(Us),{matches:f}=U.useContext(vi),g=f[f.length-1],p=g?g.params:{},v=g?g.pathname:"/",b=g?g.pathnameBase:"/",S=g&&g.route;{let ie=S&&S.path||"";Gx(v,!S||ie.endsWith("*")||ie.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${ie}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ie}"> to <Route path="${ie==="/"?"*":`${ie}/*`}">.`)}let C=_i(),P;if(e){let ie=typeof e=="string"?bl(e):e;dt(b==="/"||ie.pathname?.startsWith(b),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${ie.pathname}" was given in the \`location\` prop.`),P=ie}else P=C;let Q=P.pathname||"/",J=Q;if(b!=="/"){let ie=b.replace(/^\//,"").split("/");J="/"+Q.replace(/^\//,"").split("/").slice(ie.length).join("/")}let B=Mx(i,{pathname:J});Ms(S||B!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),Ms(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let se=YS(B&&B.map(ie=>Object.assign({},ie,{params:Object.assign({},p,ie.params),pathname:hi([b,c.encodeLocation?c.encodeLocation(ie.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ie.pathname]),pathnameBase:ie.pathnameBase==="/"?b:hi([b,c.encodeLocation?c.encodeLocation(ie.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ie.pathnameBase])})),f,n,r,l);return e&&se?U.createElement(rc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},se):se}function qS(){let i=JS(),e=MS(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,r="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:r},c={padding:"2px 4px",backgroundColor:r},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:c},"ErrorBoundary")," or"," ",U.createElement("code",{style:c},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:l},n):null,f)}var HS=U.createElement(qS,null),FS=class extends U.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.unstable_onError?this.props.unstable_onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?U.createElement(vi.Provider,{value:this.props.routeContext},U.createElement(hp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function GS({routeContext:i,match:e,children:n}){let r=U.useContext(El);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(vi.Provider,{value:i},n)}function YS(i,e=[],n=null,r=null,l=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let c=i,f=n?.errors;if(f!=null){let v=c.findIndex(b=>b.route.id&&f?.[b.route.id]!==void 0);dt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),c=c.slice(0,Math.min(c.length,v+1))}let g=!1,p=-1;if(n)for(let v=0;v<c.length;v++){let b=c[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(p=v),b.route.id){let{loaderData:S,errors:C}=n,P=b.route.loader&&!S.hasOwnProperty(b.route.id)&&(!C||C[b.route.id]===void 0);if(b.route.lazy||P){g=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}return c.reduceRight((v,b,S)=>{let C,P=!1,Q=null,J=null;n&&(C=f&&b.route.id?f[b.route.id]:void 0,Q=b.route.errorElement||HS,g&&(p<0&&S===0?(Gx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),P=!0,J=null):p===S&&(P=!0,J=b.route.hydrateFallbackElement||null)));let B=e.concat(c.slice(0,S+1)),se=()=>{let ie;return C?ie=Q:P?ie=J:b.route.Component?ie=U.createElement(b.route.Component,null):b.route.element?ie=b.route.element:ie=v,U.createElement(GS,{match:b,routeContext:{outlet:v,matches:B,isDataRoute:n!=null},children:ie})};return n&&(b.route.ErrorBoundary||b.route.errorElement||S===0)?U.createElement(FS,{location:n.location,revalidation:n.revalidation,component:Q,error:C,children:se(),routeContext:{outlet:null,matches:B,isDataRoute:!0},unstable_onError:r}):se()},null)}function dp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QS(i){let e=U.useContext(El);return dt(e,dp(i)),e}function KS(i){let e=U.useContext(Hh);return dt(e,dp(i)),e}function $S(i){let e=U.useContext(vi);return dt(e,dp(i)),e}function fp(i){let e=$S(i),n=e.matches[e.matches.length-1];return dt(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function XS(){return fp("useRouteId")}function JS(){let i=U.useContext(hp),e=KS("useRouteError"),n=fp("useRouteError");return i!==void 0?i:e.errors?.[n]}function ZS(){let{router:i}=QS("useNavigate"),e=fp("useNavigate"),n=U.useRef(!1);return Hx(()=>{n.current=!0}),U.useCallback(async(l,c={})=>{Ms(n.current,qx),n.current&&(typeof l=="number"?i.navigate(l):await i.navigate(l,{fromRouteId:e,...c}))},[i,e])}var Xv={};function Gx(i,e,n){!e&&!Xv[i]&&(Xv[i]=!0,Ms(!1,n))}U.memo(WS);function WS({routes:i,future:e,state:n,unstable_onError:r}){return Fx(i,void 0,n,r,e)}function As(i){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ew({basename:i="/",children:e=null,location:n,navigationType:r="POP",navigator:l,static:c=!1}){dt(!ac(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),g=U.useMemo(()=>({basename:f,navigator:l,static:c,future:{}}),[f,l,c]);typeof n=="string"&&(n=bl(n));let{pathname:p="/",search:v="",hash:b="",state:S=null,key:C="default"}=n,P=U.useMemo(()=>{let Q=di(p,f);return Q==null?null:{location:{pathname:Q,search:v,hash:b,state:S,key:C},navigationType:r}},[f,p,v,b,S,C,r]);return Ms(P!=null,`<Router basename="${f}"> is not able to match the URL "${p}${v}${b}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:U.createElement(Us.Provider,{value:g},U.createElement(rc.Provider,{children:e,value:P}))}function tw({children:i,location:e}){return BS(Vm(i),e)}function Vm(i,e=[]){let n=[];return U.Children.forEach(i,(r,l)=>{if(!U.isValidElement(r))return;let c=[...e,l];if(r.type===U.Fragment){n.push.apply(n,Vm(r.props.children,c));return}dt(r.type===As,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let f={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(f.children=Vm(r.props.children,c)),n.push(f)}),n}var rh="get",ah="application/x-www-form-urlencoded";function Gh(i){return i!=null&&typeof i.tagName=="string"}function nw(i){return Gh(i)&&i.tagName.toLowerCase()==="button"}function sw(i){return Gh(i)&&i.tagName.toLowerCase()==="form"}function iw(i){return Gh(i)&&i.tagName.toLowerCase()==="input"}function rw(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function aw(i,e){return i.button===0&&(!e||e==="_self")&&!rw(i)}var Xu=null;function lw(){if(Xu===null)try{new FormData(document.createElement("form"),0),Xu=!1}catch{Xu=!0}return Xu}var ow=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _m(i){return i!=null&&!ow.has(i)?(Ms(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ah}"`),null):i}function cw(i,e){let n,r,l,c,f;if(sw(i)){let g=i.getAttribute("action");r=g?di(g,e):null,n=i.getAttribute("method")||rh,l=_m(i.getAttribute("enctype"))||ah,c=new FormData(i)}else if(nw(i)||iw(i)&&(i.type==="submit"||i.type==="image")){let g=i.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||g.getAttribute("action");if(r=p?di(p,e):null,n=i.getAttribute("formmethod")||g.getAttribute("method")||rh,l=_m(i.getAttribute("formenctype"))||_m(g.getAttribute("enctype"))||ah,c=new FormData(g,i),!lw()){let{name:v,type:b,value:S}=i;if(b==="image"){let C=v?`${v}.`:"";c.append(`${C}x`,"0"),c.append(`${C}y`,"0")}else v&&c.append(v,S)}}else{if(Gh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=rh,r=null,l=ah,f=i}return c&&l==="text/plain"&&(f=c,c=void 0),{action:r,method:n.toLowerCase(),encType:l,formData:c,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function mp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function uw(i,e,n){let r=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&di(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function hw(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function dw(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function fw(i,e,n){let r=await Promise.all(i.map(async l=>{let c=e.routes[l.route.id];if(c){let f=await hw(c,n);return f.links?f.links():[]}return[]}));return yw(r.flat(1).filter(dw).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Jv(i,e,n,r,l,c){let f=(p,v)=>n[v]?p.route.id!==n[v].route.id:!0,g=(p,v)=>n[v].pathname!==p.pathname||n[v].route.path?.endsWith("*")&&n[v].params["*"]!==p.params["*"];return c==="assets"?e.filter((p,v)=>f(p,v)||g(p,v)):c==="data"?e.filter((p,v)=>{let b=r.routes[p.route.id];if(!b||!b.hasLoader)return!1;if(f(p,v)||g(p,v))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function mw(i,e,{includeHydrateFallback:n}={}){return pw(i.map(r=>{let l=e.routes[r.route.id];if(!l)return[];let c=[l.module];return l.clientActionModule&&(c=c.concat(l.clientActionModule)),l.clientLoaderModule&&(c=c.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(c=c.concat(l.hydrateFallbackModule)),l.imports&&(c=c.concat(l.imports)),c}).flat(1))}function pw(i){return[...new Set(i)]}function gw(i){let e={},n=Object.keys(i).sort();for(let r of n)e[r]=i[r];return e}function yw(i,e){let n=new Set;return new Set(e),i.reduce((r,l)=>{let c=JSON.stringify(gw(l));return n.has(c)||(n.add(c),r.push({key:c,link:l})),r},[])}function Yx(){let i=U.useContext(El);return mp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function vw(){let i=U.useContext(Hh);return mp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var pp=U.createContext(void 0);pp.displayName="FrameworkContext";function Qx(){let i=U.useContext(pp);return mp(i,"You must render this element inside a <HydratedRouter> element"),i}function _w(i,e){let n=U.useContext(pp),[r,l]=U.useState(!1),[c,f]=U.useState(!1),{onFocus:g,onBlur:p,onMouseEnter:v,onMouseLeave:b,onTouchStart:S}=e,C=U.useRef(null);U.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let J=se=>{se.forEach(ie=>{f(ie.isIntersecting)})},B=new IntersectionObserver(J,{threshold:.5});return C.current&&B.observe(C.current),()=>{B.disconnect()}}},[i]),U.useEffect(()=>{if(r){let J=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(J)}}},[r]);let P=()=>{l(!0)},Q=()=>{l(!1),f(!1)};return n?i!=="intent"?[c,C,{}]:[c,C,{onFocus:Vo(g,P),onBlur:Vo(p,Q),onMouseEnter:Vo(v,P),onMouseLeave:Vo(b,Q),onTouchStart:Vo(S,P)}]:[!1,C,{}]}function Vo(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function xw({page:i,...e}){let{router:n}=Yx(),r=U.useMemo(()=>Mx(n.routes,i,n.basename),[n.routes,i,n.basename]);return r?U.createElement(Ew,{page:i,matches:r,...e}):null}function bw(i){let{manifest:e,routeModules:n}=Qx(),[r,l]=U.useState([]);return U.useEffect(()=>{let c=!1;return fw(i,e,n).then(f=>{c||l(f)}),()=>{c=!0}},[i,e,n]),r}function Ew({page:i,matches:e,...n}){let r=_i(),{manifest:l,routeModules:c}=Qx(),{basename:f}=Yx(),{loaderData:g,matches:p}=vw(),v=U.useMemo(()=>Jv(i,e,p,l,r,"data"),[i,e,p,l,r]),b=U.useMemo(()=>Jv(i,e,p,l,r,"assets"),[i,e,p,l,r]),S=U.useMemo(()=>{if(i===r.pathname+r.search+r.hash)return[];let Q=new Set,J=!1;if(e.forEach(se=>{let ie=l.routes[se.route.id];!ie||!ie.hasLoader||(!v.some(G=>G.route.id===se.route.id)&&se.route.id in g&&c[se.route.id]?.shouldRevalidate||ie.hasClientLoader?J=!0:Q.add(se.route.id))}),Q.size===0)return[];let B=uw(i,f,"data");return J&&Q.size>0&&B.searchParams.set("_routes",e.filter(se=>Q.has(se.route.id)).map(se=>se.route.id).join(",")),[B.pathname+B.search]},[f,g,r,l,v,e,i,c]),C=U.useMemo(()=>mw(b,l),[b,l]),P=bw(b);return U.createElement(U.Fragment,null,S.map(Q=>U.createElement("link",{key:Q,rel:"prefetch",as:"fetch",href:Q,...n})),C.map(Q=>U.createElement("link",{key:Q,rel:"modulepreload",href:Q,...n})),P.map(({key:Q,link:J})=>U.createElement("link",{key:Q,nonce:n.nonce,...J})))}function Tw(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Kx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Kx&&(window.__reactRouterVersion="7.9.5")}catch{}function Sw({basename:i,children:e,window:n}){let r=U.useRef();r.current==null&&(r.current=dS({window:n,v5Compat:!0}));let l=r.current,[c,f]=U.useState({action:l.action,location:l.location}),g=U.useCallback(p=>{U.startTransition(()=>f(p))},[f]);return U.useLayoutEffect(()=>l.listen(g),[l,g]),U.createElement(ew,{basename:i,children:e,location:c.location,navigationType:c.action,navigator:l})}var $x=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gp=U.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:l,reloadDocument:c,replace:f,state:g,target:p,to:v,preventScrollReset:b,viewTransition:S,...C},P){let{basename:Q}=U.useContext(Us),J=typeof v=="string"&&$x.test(v),B,se=!1;if(typeof v=="string"&&J&&(B=v,Kx))try{let R=new URL(window.location.href),j=v.startsWith("//")?new URL(R.protocol+v):new URL(v),N=di(j.pathname,Q);j.origin===R.origin&&N!=null?v=N+j.search+j.hash:se=!0}catch{Ms(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ie=US(v,{relative:l}),[G,Y,ue]=_w(r,C),he=Rw(v,{replace:f,state:g,target:p,preventScrollReset:b,relative:l,viewTransition:S});function w(R){e&&e(R),R.defaultPrevented||he(R)}let E=U.createElement("a",{...C,...ue,href:B||ie,onClick:se||c?e:w,ref:Tw(P,Y),target:p,"data-discover":!J&&n==="render"?"true":void 0});return G&&!J?U.createElement(U.Fragment,null,E,U.createElement(xw,{page:ie})):E});gp.displayName="Link";var ww=U.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:l=!1,style:c,to:f,viewTransition:g,children:p,...v},b){let S=lc(f,{relative:v.relative}),C=_i(),P=U.useContext(Hh),{navigator:Q,basename:J}=U.useContext(Us),B=P!=null&&Ow(S)&&g===!0,se=Q.encodeLocation?Q.encodeLocation(S).pathname:S.pathname,ie=C.pathname,G=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||(ie=ie.toLowerCase(),G=G?G.toLowerCase():null,se=se.toLowerCase()),G&&J&&(G=di(G,J)||G);const Y=se!=="/"&&se.endsWith("/")?se.length-1:se.length;let ue=ie===se||!l&&ie.startsWith(se)&&ie.charAt(Y)==="/",he=G!=null&&(G===se||!l&&G.startsWith(se)&&G.charAt(se.length)==="/"),w={isActive:ue,isPending:he,isTransitioning:B},E=ue?e:void 0,R;typeof r=="function"?R=r(w):R=[r,ue?"active":null,he?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let j=typeof c=="function"?c(w):c;return U.createElement(gp,{...v,"aria-current":E,className:R,ref:b,style:j,to:f,viewTransition:g},typeof p=="function"?p(w):p)});ww.displayName="NavLink";var Aw=U.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:l,state:c,method:f=rh,action:g,onSubmit:p,relative:v,preventScrollReset:b,viewTransition:S,...C},P)=>{let Q=jw(),J=Dw(g,{relative:v}),B=f.toLowerCase()==="get"?"get":"post",se=typeof g=="string"&&$x.test(g),ie=G=>{if(p&&p(G),G.defaultPrevented)return;G.preventDefault();let Y=G.nativeEvent.submitter,ue=Y?.getAttribute("formmethod")||f;Q(Y||G.currentTarget,{fetcherKey:e,method:ue,navigate:n,replace:l,state:c,relative:v,preventScrollReset:b,viewTransition:S})};return U.createElement("form",{ref:P,method:B,action:J,onSubmit:r?p:ie,...C,"data-discover":!se&&i==="render"?"true":void 0})});Aw.displayName="Form";function Nw(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Xx(i){let e=U.useContext(El);return dt(e,Nw(i)),e}function Rw(i,{target:e,replace:n,state:r,preventScrollReset:l,relative:c,viewTransition:f}={}){let g=Fh(),p=_i(),v=lc(i,{relative:c});return U.useCallback(b=>{if(aw(b,e)){b.preventDefault();let S=n!==void 0?n:Ko(p)===Ko(v);g(i,{replace:S,state:r,preventScrollReset:l,relative:c,viewTransition:f})}},[p,g,v,n,r,e,i,l,c,f])}var Cw=0,Iw=()=>`__${String(++Cw)}__`;function jw(){let{router:i}=Xx("useSubmit"),{basename:e}=U.useContext(Us),n=XS();return U.useCallback(async(r,l={})=>{let{action:c,method:f,encType:g,formData:p,body:v}=cw(r,e);if(l.navigate===!1){let b=l.fetcherKey||Iw();await i.fetch(b,n,l.action||c,{preventScrollReset:l.preventScrollReset,formData:p,body:v,formMethod:l.method||f,formEncType:l.encType||g,flushSync:l.flushSync})}else await i.navigate(l.action||c,{preventScrollReset:l.preventScrollReset,formData:p,body:v,formMethod:l.method||f,formEncType:l.encType||g,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[i,e,n])}function Dw(i,{relative:e}={}){let{basename:n}=U.useContext(Us),r=U.useContext(vi);dt(r,"useFormAction must be used inside a RouteContext");let[l]=r.matches.slice(-1),c={...lc(i||".",{relative:e})},f=_i();if(i==null){c.search=f.search;let g=new URLSearchParams(c.search),p=g.getAll("index");if(p.some(b=>b==="")){g.delete("index"),p.filter(S=>S).forEach(S=>g.append("index",S));let b=g.toString();c.search=b?`?${b}`:""}}return(!i||i===".")&&l.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:hi([n,c.pathname])),Ko(c)}function Ow(i,{relative:e}={}){let n=U.useContext(Bx);dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Xx("useViewTransitionState"),l=lc(i,{relative:e});if(!n.isTransitioning)return!1;let c=di(n.currentLocation.pathname,r)||n.currentLocation.pathname,f=di(n.nextLocation.pathname,r)||n.nextLocation.pathname;return vh(l.pathname,f)!=null||vh(l.pathname,c)!=null}const kw=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Mw=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Zv=i=>{const e=Mw(i);return e.charAt(0).toUpperCase()+e.slice(1)},Jx=(...i)=>i.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),Vw=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var Pw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Lw=U.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:f,...g},p)=>U.createElement("svg",{ref:p,...Pw,width:e,height:e,stroke:i,strokeWidth:r?Number(n)*24/Number(e):n,className:Jx("lucide",l),...!c&&!Vw(g)&&{"aria-hidden":"true"},...g},[...f.map(([v,b])=>U.createElement(v,b)),...Array.isArray(c)?c:[c]]));const De=(i,e)=>{const n=U.forwardRef(({className:r,...l},c)=>U.createElement(Lw,{ref:c,iconNode:e,className:Jx(`lucide-${kw(Zv(i))}`,`lucide-${i}`,r),...l}));return n.displayName=Zv(i),n};const Uw=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],xm=De("arrow-right",Uw);const zw=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Zx=De("calendar",zw);const Bw=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],qw=De("chart-column",Bw);const Hw=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Fw=De("check",Hw);const Gw=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Yw=De("chevron-left",Gw);const Qw=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Kw=De("chevron-right",Qw);const $w=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],yp=De("circle-alert",$w);const Xw=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Wx=De("circle-check-big",Xw);const Jw=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],_h=De("clock",Jw);const Zw=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Pm=De("credit-card",Zw);const Ww=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],eb=De("dollar-sign",Ww);const eA=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],oc=De("eye",eA);const tA=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],nA=De("funnel",tA);const sA=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],iA=De("heart",sA);const rA=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],aA=De("layout-dashboard",rA);const lA=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],Wv=De("lock-open",lA);const oA=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],e_=De("lock",oA);const cA=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],zo=De("mail",cA);const uA=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],xh=De("map-pin",uA);const hA=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],dA=De("message-square",hA);const fA=[["path",{d:"M5 12h14",key:"1ays0h"}]],mA=De("minus",fA);const pA=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],oi=De("package",pA);const gA=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],bh=De("phone",gA);const yA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],tb=De("plus",yA);const vA=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],_A=De("rotate-ccw",vA);const xA=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],bA=De("save",xA);const EA=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Yh=De("search",EA);const TA=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],SA=De("settings",TA);const wA=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],AA=De("share-2",wA);const NA=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],al=De("shopping-bag",NA);const RA=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],nb=De("shopping-cart",RA);const CA=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],IA=De("square-pen",CA);const jA=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],DA=De("star",jA);const OA=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],kA=De("tag",OA);const MA=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],sb=De("trash-2",MA);const VA=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],bm=De("trending-down",VA);const PA=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Bo=De("trending-up",PA);const LA=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],ll=De("truck",LA);const UA=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],t_=De("upload",UA);const zA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],BA=De("user",zA);const qA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Xr=De("users",qA);const HA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],lh=De("x",HA),FA=({collapsed:i,setCollapsed:e})=>{const n=_i(),r=[{id:"dashboard",icon:aA,label:"Dashboard",path:"/"},{id:"products",icon:oi,label:"Products",path:"/products"},{id:"orders",icon:nb,label:"Orders",path:"/orders"},{id:"customers",icon:Xr,label:"Customers",path:"/customers"},{id:"analytics",icon:qw,label:"Analytics",path:"/analytics"},{id:"promotions",icon:kA,label:"Promotions",path:"/promotions"},{id:"shipping",icon:ll,label:"Shipping",path:"/shipping"},{id:"reviews",icon:dA,label:"Reviews",path:"/reviews"},{id:"settings",icon:SA,label:"Settings",path:"/settings"}];return h.jsxs("div",{className:`h-screen bg-slate-950 text-white transition-all duration-300 ${i?"w-20":"w-64"} flex flex-col fixed left-0 top-0`,children:[h.jsxs("div",{className:"p-6 flex items-center justify-between border-b border-slate-800",children:[!i&&h.jsxs("div",{children:[h.jsx("img",{src:"https://lovestorybyanna.com/wp-content/uploads/2025/02/cropped-Black-and-Yellow-Classy-and-Refined-Curved-Text-Logo-70x69.png",alt:""}),h.jsx("h1",{className:"text-xl font-bold",children:"LoveStoryByAnna"}),h.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Admin Dashboard"})]}),h.jsx("button",{onClick:()=>e(!i),className:"p-2 hover:bg-slate-800 rounded-lg transition-colors ml-auto",children:i?h.jsx(Kw,{size:20}):h.jsx(Yw,{size:20})})]}),h.jsx("nav",{className:"flex-1 py-6 px-3 overflow-y-scroll scrollbar-hide",children:r.map(l=>{const c=l.icon,f=n.pathname===l.path;return h.jsxs(gp,{to:l.path,className:`w-full flex items-center gap-4 px-4 py-3 mb-2 rounded-lg transition-all ${f?"bg-pink-600 text-white shadow-lg shadow-pink-600/50":"text-slate-400 hover:bg-slate-800 hover:text-white"} ${i?"justify-center":""}`,title:i?l.label:"",children:[h.jsx(c,{size:20,className:"flex-shrink-0"}),!i&&h.jsx("span",{className:"font-medium",children:l.label})]},l.id)})}),h.jsx("div",{className:"p-4 border-t border-slate-800",children:i?h.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-pink-500 to-purple-600 rounded-full flex items-center justify-center text-sm font-semibold mx-auto",children:"AD"}):h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-pink-500 to-purple-600 rounded-full flex items-center justify-center text-sm font-semibold",children:"AD"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"text-sm font-medium",children:"Admin User"}),h.jsx("p",{className:"text-xs text-slate-400",children:"admin@shop.com"})]})]})})]})},GA=()=>{};var n_={};const ib=function(i){const e=[];let n=0;for(let r=0;r<i.length;r++){let l=i.charCodeAt(r);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++r)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},YA=function(i){const e=[];let n=0,r=0;for(;n<i.length;){const l=i[n++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=i[n++];e[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=i[n++],f=i[n++],g=i[n++],p=((l&7)<<18|(c&63)<<12|(f&63)<<6|g&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const c=i[n++],f=i[n++];e[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|f&63)}}return e.join("")},rb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<i.length;l+=3){const c=i[l],f=l+1<i.length,g=f?i[l+1]:0,p=l+2<i.length,v=p?i[l+2]:0,b=c>>2,S=(c&3)<<4|g>>4;let C=(g&15)<<2|v>>6,P=v&63;p||(P=64,f||(C=64)),r.push(n[b],n[S],n[C],n[P])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(ib(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):YA(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<i.length;){const c=n[i.charAt(l++)],g=l<i.length?n[i.charAt(l)]:0;++l;const v=l<i.length?n[i.charAt(l)]:64;++l;const S=l<i.length?n[i.charAt(l)]:64;if(++l,c==null||g==null||v==null||S==null)throw new QA;const C=c<<2|g>>4;if(r.push(C),v!==64){const P=g<<4&240|v>>2;if(r.push(P),S!==64){const Q=v<<6&192|S;r.push(Q)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class QA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KA=function(i){const e=ib(i);return rb.encodeByteArray(e,!0)},Eh=function(i){return KA(i).replace(/\./g,"")},ab=function(i){try{return rb.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function $A(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const XA=()=>$A().__FIREBASE_DEFAULTS__,JA=()=>{if(typeof process>"u"||typeof n_>"u")return;const i=n_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},ZA=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&ab(i[1]);return e&&JSON.parse(e)},Qh=()=>{try{return GA()||XA()||JA()||ZA()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},lb=i=>Qh()?.emulatorHosts?.[i],ob=i=>{const e=lb(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},cb=()=>Qh()?.config,ub=i=>Qh()?.[`_${i}`];class WA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function aa(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function vp(i){return(await fetch(i,{credentials:"include"})).ok}function hb(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",l=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Eh(JSON.stringify(n)),Eh(JSON.stringify(f)),""].join(".")}const qo={};function e2(){const i={prod:[],emulator:[]};for(const e of Object.keys(qo))qo[e]?i.emulator.push(e):i.prod.push(e);return i}function t2(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let s_=!1;function _p(i,e){if(typeof window>"u"||typeof document>"u"||!aa(window.location.host)||qo[i]===e||qo[i]||s_)return;qo[i]=e;function n(C){return`__firebase__banner__${C}`}const r="__firebase__banner",c=e2().prod.length>0;function f(){const C=document.getElementById(r);C&&C.remove()}function g(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function p(C,P){C.setAttribute("width","24"),C.setAttribute("id",P),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function v(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{s_=!0,f()},C}function b(C,P){C.setAttribute("id",P),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function S(){const C=t2(r),P=n("text"),Q=document.getElementById(P)||document.createElement("span"),J=n("learnmore"),B=document.getElementById(J)||document.createElement("a"),se=n("preprendIcon"),ie=document.getElementById(se)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const G=C.element;g(G),b(B,J);const Y=v();p(ie,se),G.append(ie,Q,B,Y),document.body.appendChild(G)}c?(Q.innerText="Preview backend disconnected.",ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Q.innerText="Preview backend running in this workspace."),Q.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function n2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function s2(){const i=Qh()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function i2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function r2(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function a2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function l2(){const i=en();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function o2(){return!s2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function c2(){try{return typeof indexedDB=="object"}catch{return!1}}function u2(){return new Promise((i,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(r),i(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(n){e(n)}})}const h2="FirebaseError";class zs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=h2,Object.setPrototypeOf(this,zs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cc.prototype.create)}}class cc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},l=`${this.service}/${e}`,c=this.errors[e],f=c?d2(c,r):"Error",g=`${this.serviceName}: ${f} (${l}).`;return new zs(l,g,r)}}function d2(i,e){return i.replace(f2,(n,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const f2=/\{\$([^}]+)}/g;function m2(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Wr(i,e){if(i===e)return!0;const n=Object.keys(i),r=Object.keys(e);for(const l of n){if(!r.includes(l))return!1;const c=i[l],f=e[l];if(i_(c)&&i_(f)){if(!Wr(c,f))return!1}else if(c!==f)return!1}for(const l of r)if(!n.includes(l))return!1;return!0}function i_(i){return i!==null&&typeof i=="object"}function uc(i){const e=[];for(const[n,r]of Object.entries(i))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function p2(i,e){const n=new g2(i,e);return n.subscribe.bind(n)}class g2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let l;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");y2(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:r},l.next===void 0&&(l.next=Em),l.error===void 0&&(l.error=Em),l.complete===void 0&&(l.complete=Em);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function y2(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Em(){}function tn(i){return i&&i._delegate?i._delegate:i}class ur{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const $r="[DEFAULT]";class v2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new WA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(x2(e))try{this.getOrInitializeService({instanceIdentifier:$r})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(e=$r){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$r){return this.instances.has(e)}getOptions(e=$r){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[c,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);r===g&&f.resolve(l)}return l}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&e(c,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const l of r)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:_2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=$r){return this.component?this.component.multipleInstances?e:$r:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _2(i){return i===$r?void 0:i}function x2(i){return i.instantiationMode==="EAGER"}class b2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new v2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var ze;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ze||(ze={}));const E2={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},T2=ze.INFO,S2={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},w2=(i,e,...n)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),l=S2[e];if(l)console[l](`[${r}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xp{constructor(e){this.name=e,this._logLevel=T2,this._logHandler=w2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?E2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const A2=(i,e)=>e.some(n=>i instanceof n);let r_,a_;function N2(){return r_||(r_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function R2(){return a_||(a_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const db=new WeakMap,Lm=new WeakMap,fb=new WeakMap,Tm=new WeakMap,bp=new WeakMap;function C2(i){const e=new Promise((n,r)=>{const l=()=>{i.removeEventListener("success",c),i.removeEventListener("error",f)},c=()=>{n(rr(i.result)),l()},f=()=>{r(i.error),l()};i.addEventListener("success",c),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&db.set(n,i)}).catch(()=>{}),bp.set(e,i),e}function I2(i){if(Lm.has(i))return;const e=new Promise((n,r)=>{const l=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",f),i.removeEventListener("abort",f)},c=()=>{n(),l()},f=()=>{r(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",c),i.addEventListener("error",f),i.addEventListener("abort",f)});Lm.set(i,e)}let Um={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Lm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||fb.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return rr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function j2(i){Um=i(Um)}function D2(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=i.call(Sm(this),e,...n);return fb.set(r,e.sort?e.sort():[e]),rr(r)}:R2().includes(i)?function(...e){return i.apply(Sm(this),e),rr(db.get(this))}:function(...e){return rr(i.apply(Sm(this),e))}}function O2(i){return typeof i=="function"?D2(i):(i instanceof IDBTransaction&&I2(i),A2(i,N2())?new Proxy(i,Um):i)}function rr(i){if(i instanceof IDBRequest)return C2(i);if(Tm.has(i))return Tm.get(i);const e=O2(i);return e!==i&&(Tm.set(i,e),bp.set(e,i)),e}const Sm=i=>bp.get(i);function k2(i,e,{blocked:n,upgrade:r,blocking:l,terminated:c}={}){const f=indexedDB.open(i,e),g=rr(f);return r&&f.addEventListener("upgradeneeded",p=>{r(rr(f.result),p.oldVersion,p.newVersion,rr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",v=>l(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const M2=["get","getKey","getAll","getAllKeys","count"],V2=["put","add","delete","clear"],wm=new Map;function l_(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(wm.get(e))return wm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,l=V2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(l||M2.includes(n)))return;const c=async function(f,...g){const p=this.transaction(f,l?"readwrite":"readonly");let v=p.store;return r&&(v=v.index(g.shift())),(await Promise.all([v[n](...g),l&&p.done]))[0]};return wm.set(e,c),c}j2(i=>({...i,get:(e,n,r)=>l_(e,n)||i.get(e,n,r),has:(e,n)=>!!l_(e,n)||i.has(e,n)}));class P2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(L2(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function L2(i){return i.getComponent()?.type==="VERSION"}const zm="@firebase/app",o_="0.14.5";const fi=new xp("@firebase/app"),U2="@firebase/app-compat",z2="@firebase/analytics-compat",B2="@firebase/analytics",q2="@firebase/app-check-compat",H2="@firebase/app-check",F2="@firebase/auth",G2="@firebase/auth-compat",Y2="@firebase/database",Q2="@firebase/data-connect",K2="@firebase/database-compat",$2="@firebase/functions",X2="@firebase/functions-compat",J2="@firebase/installations",Z2="@firebase/installations-compat",W2="@firebase/messaging",eN="@firebase/messaging-compat",tN="@firebase/performance",nN="@firebase/performance-compat",sN="@firebase/remote-config",iN="@firebase/remote-config-compat",rN="@firebase/storage",aN="@firebase/storage-compat",lN="@firebase/firestore",oN="@firebase/ai",cN="@firebase/firestore-compat",uN="firebase",hN="12.5.0";const Bm="[DEFAULT]",dN={[zm]:"fire-core",[U2]:"fire-core-compat",[B2]:"fire-analytics",[z2]:"fire-analytics-compat",[H2]:"fire-app-check",[q2]:"fire-app-check-compat",[F2]:"fire-auth",[G2]:"fire-auth-compat",[Y2]:"fire-rtdb",[Q2]:"fire-data-connect",[K2]:"fire-rtdb-compat",[$2]:"fire-fn",[X2]:"fire-fn-compat",[J2]:"fire-iid",[Z2]:"fire-iid-compat",[W2]:"fire-fcm",[eN]:"fire-fcm-compat",[tN]:"fire-perf",[nN]:"fire-perf-compat",[sN]:"fire-rc",[iN]:"fire-rc-compat",[rN]:"fire-gcs",[aN]:"fire-gcs-compat",[lN]:"fire-fst",[cN]:"fire-fst-compat",[oN]:"fire-vertex","fire-js":"fire-js",[uN]:"fire-js-all"};const Th=new Map,fN=new Map,qm=new Map;function c_(i,e){try{i.container.addComponent(e)}catch(n){fi.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function ea(i){const e=i.name;if(qm.has(e))return fi.debug(`There were multiple attempts to register component ${e}.`),!1;qm.set(e,i);for(const n of Th.values())c_(n,i);for(const n of fN.values())c_(n,i);return!0}function Kh(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Wn(i){return i==null?!1:i.settings!==void 0}const mN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ar=new cc("app","Firebase",mN);class pN{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ur("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ar.create("app-deleted",{appName:this._name})}}const la=hN;function mb(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const r={name:Bm,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw ar.create("bad-app-name",{appName:String(l)});if(n||(n=cb()),!n)throw ar.create("no-options");const c=Th.get(l);if(c){if(Wr(n,c.options)&&Wr(r,c.config))return c;throw ar.create("duplicate-app",{appName:l})}const f=new b2(l);for(const p of qm.values())f.addComponent(p);const g=new pN(n,r,f);return Th.set(l,g),g}function Ep(i=Bm){const e=Th.get(i);if(!e&&i===Bm&&cb())return mb();if(!e)throw ar.create("no-app",{appName:i});return e}function Rs(i,e,n){let r=dN[i]??i;n&&(r+=`-${n}`);const l=r.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const f=[`Unable to register library "${r}" with version "${e}":`];l&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fi.warn(f.join(" "));return}ea(new ur(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const gN="firebase-heartbeat-database",yN=1,$o="firebase-heartbeat-store";let Am=null;function pb(){return Am||(Am=k2(gN,yN,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore($o)}catch(n){console.warn(n)}}}}).catch(i=>{throw ar.create("idb-open",{originalErrorMessage:i.message})})),Am}async function vN(i){try{const n=(await pb()).transaction($o),r=await n.objectStore($o).get(gb(i));return await n.done,r}catch(e){if(e instanceof zs)fi.warn(e.message);else{const n=ar.create("idb-get",{originalErrorMessage:e?.message});fi.warn(n.message)}}}async function u_(i,e){try{const r=(await pb()).transaction($o,"readwrite");await r.objectStore($o).put(e,gb(i)),await r.done}catch(n){if(n instanceof zs)fi.warn(n.message);else{const r=ar.create("idb-set",{originalErrorMessage:n?.message});fi.warn(r.message)}}}function gb(i){return`${i.name}!${i.options.appId}`}const _N=1024,xN=30;class bN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new TN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=h_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>xN){const l=SN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){fi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=h_(),{heartbeatsToSend:n,unsentEntries:r}=EN(this._heartbeatsCache.heartbeats),l=Eh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return fi.warn(e),""}}}function h_(){return new Date().toISOString().substring(0,10)}function EN(i,e=_N){const n=[];let r=i.slice();for(const l of i){const c=n.find(f=>f.agent===l.agent);if(c){if(c.dates.push(l.date),d_(n)>e){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),d_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class TN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return c2()?u2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await vN(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return u_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return u_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function d_(i){return Eh(JSON.stringify({version:2,heartbeats:i})).length}function SN(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let r=1;r<i.length;r++)i[r].date<n&&(n=i[r].date,e=r);return e}function wN(i){ea(new ur("platform-logger",e=>new P2(e),"PRIVATE")),ea(new ur("heartbeat",e=>new bN(e),"PRIVATE")),Rs(zm,o_,i),Rs(zm,o_,"esm2020"),Rs("fire-js","")}wN("");var f_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var lr,yb;(function(){var i;function e(w,E){function R(){}R.prototype=E.prototype,w.F=E.prototype,w.prototype=new R,w.prototype.constructor=w,w.D=function(j,N,D){for(var I=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)I[pe-2]=arguments[pe];return E.prototype[N].apply(j,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(w,E,R){R||(R=0);const j=Array(16);if(typeof E=="string")for(var N=0;N<16;++N)j[N]=E.charCodeAt(R++)|E.charCodeAt(R++)<<8|E.charCodeAt(R++)<<16|E.charCodeAt(R++)<<24;else for(N=0;N<16;++N)j[N]=E[R++]|E[R++]<<8|E[R++]<<16|E[R++]<<24;E=w.g[0],R=w.g[1],N=w.g[2];let D=w.g[3],I;I=E+(D^R&(N^D))+j[0]+3614090360&4294967295,E=R+(I<<7&4294967295|I>>>25),I=D+(N^E&(R^N))+j[1]+3905402710&4294967295,D=E+(I<<12&4294967295|I>>>20),I=N+(R^D&(E^R))+j[2]+606105819&4294967295,N=D+(I<<17&4294967295|I>>>15),I=R+(E^N&(D^E))+j[3]+3250441966&4294967295,R=N+(I<<22&4294967295|I>>>10),I=E+(D^R&(N^D))+j[4]+4118548399&4294967295,E=R+(I<<7&4294967295|I>>>25),I=D+(N^E&(R^N))+j[5]+1200080426&4294967295,D=E+(I<<12&4294967295|I>>>20),I=N+(R^D&(E^R))+j[6]+2821735955&4294967295,N=D+(I<<17&4294967295|I>>>15),I=R+(E^N&(D^E))+j[7]+4249261313&4294967295,R=N+(I<<22&4294967295|I>>>10),I=E+(D^R&(N^D))+j[8]+1770035416&4294967295,E=R+(I<<7&4294967295|I>>>25),I=D+(N^E&(R^N))+j[9]+2336552879&4294967295,D=E+(I<<12&4294967295|I>>>20),I=N+(R^D&(E^R))+j[10]+4294925233&4294967295,N=D+(I<<17&4294967295|I>>>15),I=R+(E^N&(D^E))+j[11]+2304563134&4294967295,R=N+(I<<22&4294967295|I>>>10),I=E+(D^R&(N^D))+j[12]+1804603682&4294967295,E=R+(I<<7&4294967295|I>>>25),I=D+(N^E&(R^N))+j[13]+4254626195&4294967295,D=E+(I<<12&4294967295|I>>>20),I=N+(R^D&(E^R))+j[14]+2792965006&4294967295,N=D+(I<<17&4294967295|I>>>15),I=R+(E^N&(D^E))+j[15]+1236535329&4294967295,R=N+(I<<22&4294967295|I>>>10),I=E+(N^D&(R^N))+j[1]+4129170786&4294967295,E=R+(I<<5&4294967295|I>>>27),I=D+(R^N&(E^R))+j[6]+3225465664&4294967295,D=E+(I<<9&4294967295|I>>>23),I=N+(E^R&(D^E))+j[11]+643717713&4294967295,N=D+(I<<14&4294967295|I>>>18),I=R+(D^E&(N^D))+j[0]+3921069994&4294967295,R=N+(I<<20&4294967295|I>>>12),I=E+(N^D&(R^N))+j[5]+3593408605&4294967295,E=R+(I<<5&4294967295|I>>>27),I=D+(R^N&(E^R))+j[10]+38016083&4294967295,D=E+(I<<9&4294967295|I>>>23),I=N+(E^R&(D^E))+j[15]+3634488961&4294967295,N=D+(I<<14&4294967295|I>>>18),I=R+(D^E&(N^D))+j[4]+3889429448&4294967295,R=N+(I<<20&4294967295|I>>>12),I=E+(N^D&(R^N))+j[9]+568446438&4294967295,E=R+(I<<5&4294967295|I>>>27),I=D+(R^N&(E^R))+j[14]+3275163606&4294967295,D=E+(I<<9&4294967295|I>>>23),I=N+(E^R&(D^E))+j[3]+4107603335&4294967295,N=D+(I<<14&4294967295|I>>>18),I=R+(D^E&(N^D))+j[8]+1163531501&4294967295,R=N+(I<<20&4294967295|I>>>12),I=E+(N^D&(R^N))+j[13]+2850285829&4294967295,E=R+(I<<5&4294967295|I>>>27),I=D+(R^N&(E^R))+j[2]+4243563512&4294967295,D=E+(I<<9&4294967295|I>>>23),I=N+(E^R&(D^E))+j[7]+1735328473&4294967295,N=D+(I<<14&4294967295|I>>>18),I=R+(D^E&(N^D))+j[12]+2368359562&4294967295,R=N+(I<<20&4294967295|I>>>12),I=E+(R^N^D)+j[5]+4294588738&4294967295,E=R+(I<<4&4294967295|I>>>28),I=D+(E^R^N)+j[8]+2272392833&4294967295,D=E+(I<<11&4294967295|I>>>21),I=N+(D^E^R)+j[11]+1839030562&4294967295,N=D+(I<<16&4294967295|I>>>16),I=R+(N^D^E)+j[14]+4259657740&4294967295,R=N+(I<<23&4294967295|I>>>9),I=E+(R^N^D)+j[1]+2763975236&4294967295,E=R+(I<<4&4294967295|I>>>28),I=D+(E^R^N)+j[4]+1272893353&4294967295,D=E+(I<<11&4294967295|I>>>21),I=N+(D^E^R)+j[7]+4139469664&4294967295,N=D+(I<<16&4294967295|I>>>16),I=R+(N^D^E)+j[10]+3200236656&4294967295,R=N+(I<<23&4294967295|I>>>9),I=E+(R^N^D)+j[13]+681279174&4294967295,E=R+(I<<4&4294967295|I>>>28),I=D+(E^R^N)+j[0]+3936430074&4294967295,D=E+(I<<11&4294967295|I>>>21),I=N+(D^E^R)+j[3]+3572445317&4294967295,N=D+(I<<16&4294967295|I>>>16),I=R+(N^D^E)+j[6]+76029189&4294967295,R=N+(I<<23&4294967295|I>>>9),I=E+(R^N^D)+j[9]+3654602809&4294967295,E=R+(I<<4&4294967295|I>>>28),I=D+(E^R^N)+j[12]+3873151461&4294967295,D=E+(I<<11&4294967295|I>>>21),I=N+(D^E^R)+j[15]+530742520&4294967295,N=D+(I<<16&4294967295|I>>>16),I=R+(N^D^E)+j[2]+3299628645&4294967295,R=N+(I<<23&4294967295|I>>>9),I=E+(N^(R|~D))+j[0]+4096336452&4294967295,E=R+(I<<6&4294967295|I>>>26),I=D+(R^(E|~N))+j[7]+1126891415&4294967295,D=E+(I<<10&4294967295|I>>>22),I=N+(E^(D|~R))+j[14]+2878612391&4294967295,N=D+(I<<15&4294967295|I>>>17),I=R+(D^(N|~E))+j[5]+4237533241&4294967295,R=N+(I<<21&4294967295|I>>>11),I=E+(N^(R|~D))+j[12]+1700485571&4294967295,E=R+(I<<6&4294967295|I>>>26),I=D+(R^(E|~N))+j[3]+2399980690&4294967295,D=E+(I<<10&4294967295|I>>>22),I=N+(E^(D|~R))+j[10]+4293915773&4294967295,N=D+(I<<15&4294967295|I>>>17),I=R+(D^(N|~E))+j[1]+2240044497&4294967295,R=N+(I<<21&4294967295|I>>>11),I=E+(N^(R|~D))+j[8]+1873313359&4294967295,E=R+(I<<6&4294967295|I>>>26),I=D+(R^(E|~N))+j[15]+4264355552&4294967295,D=E+(I<<10&4294967295|I>>>22),I=N+(E^(D|~R))+j[6]+2734768916&4294967295,N=D+(I<<15&4294967295|I>>>17),I=R+(D^(N|~E))+j[13]+1309151649&4294967295,R=N+(I<<21&4294967295|I>>>11),I=E+(N^(R|~D))+j[4]+4149444226&4294967295,E=R+(I<<6&4294967295|I>>>26),I=D+(R^(E|~N))+j[11]+3174756917&4294967295,D=E+(I<<10&4294967295|I>>>22),I=N+(E^(D|~R))+j[2]+718787259&4294967295,N=D+(I<<15&4294967295|I>>>17),I=R+(D^(N|~E))+j[9]+3951481745&4294967295,w.g[0]=w.g[0]+E&4294967295,w.g[1]=w.g[1]+(N+(I<<21&4294967295|I>>>11))&4294967295,w.g[2]=w.g[2]+N&4294967295,w.g[3]=w.g[3]+D&4294967295}r.prototype.v=function(w,E){E===void 0&&(E=w.length);const R=E-this.blockSize,j=this.C;let N=this.h,D=0;for(;D<E;){if(N==0)for(;D<=R;)l(this,w,D),D+=this.blockSize;if(typeof w=="string"){for(;D<E;)if(j[N++]=w.charCodeAt(D++),N==this.blockSize){l(this,j),N=0;break}}else for(;D<E;)if(j[N++]=w[D++],N==this.blockSize){l(this,j),N=0;break}}this.h=N,this.o+=E},r.prototype.A=function(){var w=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);w[0]=128;for(var E=1;E<w.length-8;++E)w[E]=0;E=this.o*8;for(var R=w.length-8;R<w.length;++R)w[R]=E&255,E/=256;for(this.v(w),w=Array(16),E=0,R=0;R<4;++R)for(let j=0;j<32;j+=8)w[E++]=this.g[R]>>>j&255;return w};function c(w,E){var R=g;return Object.prototype.hasOwnProperty.call(R,w)?R[w]:R[w]=E(w)}function f(w,E){this.h=E;const R=[];let j=!0;for(let N=w.length-1;N>=0;N--){const D=w[N]|0;j&&D==E||(R[N]=D,j=!1)}this.g=R}var g={};function p(w){return-128<=w&&w<128?c(w,function(E){return new f([E|0],E<0?-1:0)}):new f([w|0],w<0?-1:0)}function v(w){if(isNaN(w)||!isFinite(w))return S;if(w<0)return B(v(-w));const E=[];let R=1;for(let j=0;w>=R;j++)E[j]=w/R|0,R*=4294967296;return new f(E,0)}function b(w,E){if(w.length==0)throw Error("number format error: empty string");if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(w.charAt(0)=="-")return B(b(w.substring(1),E));if(w.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=v(Math.pow(E,8));let j=S;for(let D=0;D<w.length;D+=8){var N=Math.min(8,w.length-D);const I=parseInt(w.substring(D,D+N),E);N<8?(N=v(Math.pow(E,N)),j=j.j(N).add(v(I))):(j=j.j(R),j=j.add(v(I)))}return j}var S=p(0),C=p(1),P=p(16777216);i=f.prototype,i.m=function(){if(J(this))return-B(this).m();let w=0,E=1;for(let R=0;R<this.g.length;R++){const j=this.i(R);w+=(j>=0?j:4294967296+j)*E,E*=4294967296}return w},i.toString=function(w){if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(Q(this))return"0";if(J(this))return"-"+B(this).toString(w);const E=v(Math.pow(w,6));var R=this;let j="";for(;;){const N=Y(R,E).g;R=se(R,N.j(E));let D=((R.g.length>0?R.g[0]:R.h)>>>0).toString(w);if(R=N,Q(R))return D+j;for(;D.length<6;)D="0"+D;j=D+j}},i.i=function(w){return w<0?0:w<this.g.length?this.g[w]:this.h};function Q(w){if(w.h!=0)return!1;for(let E=0;E<w.g.length;E++)if(w.g[E]!=0)return!1;return!0}function J(w){return w.h==-1}i.l=function(w){return w=se(this,w),J(w)?-1:Q(w)?0:1};function B(w){const E=w.g.length,R=[];for(let j=0;j<E;j++)R[j]=~w.g[j];return new f(R,~w.h).add(C)}i.abs=function(){return J(this)?B(this):this},i.add=function(w){const E=Math.max(this.g.length,w.g.length),R=[];let j=0;for(let N=0;N<=E;N++){let D=j+(this.i(N)&65535)+(w.i(N)&65535),I=(D>>>16)+(this.i(N)>>>16)+(w.i(N)>>>16);j=I>>>16,D&=65535,I&=65535,R[N]=I<<16|D}return new f(R,R[R.length-1]&-2147483648?-1:0)};function se(w,E){return w.add(B(E))}i.j=function(w){if(Q(this)||Q(w))return S;if(J(this))return J(w)?B(this).j(B(w)):B(B(this).j(w));if(J(w))return B(this.j(B(w)));if(this.l(P)<0&&w.l(P)<0)return v(this.m()*w.m());const E=this.g.length+w.g.length,R=[];for(var j=0;j<2*E;j++)R[j]=0;for(j=0;j<this.g.length;j++)for(let N=0;N<w.g.length;N++){const D=this.i(j)>>>16,I=this.i(j)&65535,pe=w.i(N)>>>16,Oe=w.i(N)&65535;R[2*j+2*N]+=I*Oe,ie(R,2*j+2*N),R[2*j+2*N+1]+=D*Oe,ie(R,2*j+2*N+1),R[2*j+2*N+1]+=I*pe,ie(R,2*j+2*N+1),R[2*j+2*N+2]+=D*pe,ie(R,2*j+2*N+2)}for(w=0;w<E;w++)R[w]=R[2*w+1]<<16|R[2*w];for(w=E;w<2*E;w++)R[w]=0;return new f(R,0)};function ie(w,E){for(;(w[E]&65535)!=w[E];)w[E+1]+=w[E]>>>16,w[E]&=65535,E++}function G(w,E){this.g=w,this.h=E}function Y(w,E){if(Q(E))throw Error("division by zero");if(Q(w))return new G(S,S);if(J(w))return E=Y(B(w),E),new G(B(E.g),B(E.h));if(J(E))return E=Y(w,B(E)),new G(B(E.g),E.h);if(w.g.length>30){if(J(w)||J(E))throw Error("slowDivide_ only works with positive integers.");for(var R=C,j=E;j.l(w)<=0;)R=ue(R),j=ue(j);var N=he(R,1),D=he(j,1);for(j=he(j,2),R=he(R,2);!Q(j);){var I=D.add(j);I.l(w)<=0&&(N=N.add(R),D=I),j=he(j,1),R=he(R,1)}return E=se(w,N.j(E)),new G(N,E)}for(N=S;w.l(E)>=0;){for(R=Math.max(1,Math.floor(w.m()/E.m())),j=Math.ceil(Math.log(R)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),D=v(R),I=D.j(E);J(I)||I.l(w)>0;)R-=j,D=v(R),I=D.j(E);Q(D)&&(D=C),N=N.add(D),w=se(w,I)}return new G(N,w)}i.B=function(w){return Y(this,w).h},i.and=function(w){const E=Math.max(this.g.length,w.g.length),R=[];for(let j=0;j<E;j++)R[j]=this.i(j)&w.i(j);return new f(R,this.h&w.h)},i.or=function(w){const E=Math.max(this.g.length,w.g.length),R=[];for(let j=0;j<E;j++)R[j]=this.i(j)|w.i(j);return new f(R,this.h|w.h)},i.xor=function(w){const E=Math.max(this.g.length,w.g.length),R=[];for(let j=0;j<E;j++)R[j]=this.i(j)^w.i(j);return new f(R,this.h^w.h)};function ue(w){const E=w.g.length+1,R=[];for(let j=0;j<E;j++)R[j]=w.i(j)<<1|w.i(j-1)>>>31;return new f(R,w.h)}function he(w,E){const R=E>>5;E%=32;const j=w.g.length-R,N=[];for(let D=0;D<j;D++)N[D]=E>0?w.i(D+R)>>>E|w.i(D+R+1)<<32-E:w.i(D+R);return new f(N,w.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,yb=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=v,f.fromString=b,lr=f}).apply(typeof f_<"u"?f_:typeof self<"u"?self:typeof window<"u"?window:{});var Ju=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var vb,Po,_b,oh,Hm,xb,bb,Eb;(function(){var i,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ju=="object"&&Ju];for(var y=0;y<u.length;++y){var x=u[y];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=n(this);function l(u,y){if(y)e:{var x=r;u=u.split(".");for(var A=0;A<u.length-1;A++){var z=u[A];if(!(z in x))break e;x=x[z]}u=u[u.length-1],A=x[u],y=y(A),y!=A&&y!=null&&e(x,u,{configurable:!0,writable:!0,value:y})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(y){var x=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&x.push([A,y[A]]);return x}});var c=c||{},f=this||self;function g(u){var y=typeof u;return y=="object"&&u!=null||y=="function"}function p(u,y,x){return u.call.apply(u.bind,arguments)}function v(u,y,x){return v=p,v.apply(null,arguments)}function b(u,y){var x=Array.prototype.slice.call(arguments,1);return function(){var A=x.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function S(u,y){function x(){}x.prototype=y.prototype,u.Z=y.prototype,u.prototype=new x,u.prototype.constructor=u,u.Ob=function(A,z,K){for(var oe=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)oe[Ie-2]=arguments[Ie];return y.prototype[z].apply(A,oe)}}var C=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function P(u){const y=u.length;if(y>0){const x=Array(y);for(let A=0;A<y;A++)x[A]=u[A];return x}return[]}function Q(u,y){for(let A=1;A<arguments.length;A++){const z=arguments[A];var x=typeof z;if(x=x!="object"?x:z?Array.isArray(z)?"array":x:"null",x=="array"||x=="object"&&typeof z.length=="number"){x=u.length||0;const K=z.length||0;u.length=x+K;for(let oe=0;oe<K;oe++)u[x+oe]=z[oe]}else u.push(z)}}class J{constructor(y,x){this.i=y,this.j=x,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function B(u){f.setTimeout(()=>{throw u},0)}function se(){var u=w;let y=null;return u.g&&(y=u.g,u.g=u.g.next,u.g||(u.h=null),y.next=null),y}class ie{constructor(){this.h=this.g=null}add(y,x){const A=G.get();A.set(y,x),this.h?this.h.next=A:this.g=A,this.h=A}}var G=new J(()=>new Y,u=>u.reset());class Y{constructor(){this.next=this.g=this.h=null}set(y,x){this.h=y,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,he=!1,w=new ie,E=()=>{const u=Promise.resolve(void 0);ue=()=>{u.then(R)}};function R(){for(var u;u=se();){try{u.h.call(u.g)}catch(x){B(x)}var y=G;y.j(u),y.h<100&&(y.h++,u.next=y.g,y.g=u)}he=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,y){this.type=u,this.g=this.target=y,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var D=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,y=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const x=()=>{};f.addEventListener("test",x,y),f.removeEventListener("test",x,y)}catch{}return u})();function I(u){return/^[\s\xa0]*$/.test(u)}function pe(u,y){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,y)}S(pe,N),pe.prototype.init=function(u,y){const x=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=y,y=u.relatedTarget,y||(x=="mouseover"?y=u.fromElement:x=="mouseout"&&(y=u.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&pe.Z.h.call(this)},pe.prototype.h=function(){pe.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Oe="closure_listenable_"+(Math.random()*1e6|0),X=0;function le(u,y,x,A,z){this.listener=u,this.proxy=null,this.src=y,this.type=x,this.capture=!!A,this.ha=z,this.key=++X,this.da=this.fa=!1}function V(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ce(u,y,x){for(const A in u)y.call(x,u[A],A,u)}function ye(u,y){for(const x in u)y.call(void 0,u[x],x,u)}function k(u){const y={};for(const x in u)y[x]=u[x];return y}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(u,y){let x,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(x in A)u[x]=A[x];for(let K=0;K<W.length;K++)x=W[K],Object.prototype.hasOwnProperty.call(A,x)&&(u[x]=A[x])}}function de(u){this.src=u,this.g={},this.h=0}de.prototype.add=function(u,y,x,A,z){const K=u.toString();u=this.g[K],u||(u=this.g[K]=[],this.h++);const oe=Ee(u,y,A,z);return oe>-1?(y=u[oe],x||(y.fa=!1)):(y=new le(y,this.src,K,!!A,z),y.fa=x,u.push(y)),y};function _e(u,y){const x=y.type;if(x in u.g){var A=u.g[x],z=Array.prototype.indexOf.call(A,y,void 0),K;(K=z>=0)&&Array.prototype.splice.call(A,z,1),K&&(V(y),u.g[x].length==0&&(delete u.g[x],u.h--))}}function Ee(u,y,x,A){for(let z=0;z<u.length;++z){const K=u[z];if(!K.da&&K.listener==y&&K.capture==!!x&&K.ha==A)return z}return-1}var Ce="closure_lm_"+(Math.random()*1e6|0),Me={};function Ge(u,y,x,A,z){if(Array.isArray(y)){for(let K=0;K<y.length;K++)Ge(u,y[K],x,A,z);return null}return x=jl(x),u&&u[Oe]?u.J(y,x,g(A)?!!A.capture:!1,z):qs(u,y,x,!1,A,z)}function qs(u,y,x,A,z,K){if(!y)throw Error("Invalid event type");const oe=g(z)?!!z.capture:!!z;let Ie=_r(u);if(Ie||(u[Ce]=Ie=new de(u)),x=Ie.add(y,x,A,oe,K),x.proxy)return x;if(A=ha(),x.proxy=A,A.src=u,A.listener=x,u.addEventListener)D||(z=oe),z===void 0&&(z=!1),u.addEventListener(y.toString(),A,z);else if(u.attachEvent)u.attachEvent(is(y.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return x}function ha(){function u(x){return y.call(u.src,u.listener,x)}const y=Cl;return u}function da(u,y,x,A,z){if(Array.isArray(y))for(var K=0;K<y.length;K++)da(u,y[K],x,A,z);else A=g(A)?!!A.capture:!!A,x=jl(x),u&&u[Oe]?(u=u.i,K=String(y).toString(),K in u.g&&(y=u.g[K],x=Ee(y,x,A,z),x>-1&&(V(y[x]),Array.prototype.splice.call(y,x,1),y.length==0&&(delete u.g[K],u.h--)))):u&&(u=_r(u))&&(y=u.g[y.toString()],u=-1,y&&(u=Ee(y,x,A,z)),(x=u>-1?y[u]:null)&&fa(x))}function fa(u){if(typeof u!="number"&&u&&!u.da){var y=u.src;if(y&&y[Oe])_e(y.i,u);else{var x=u.type,A=u.proxy;y.removeEventListener?y.removeEventListener(x,A,u.capture):y.detachEvent?y.detachEvent(is(x),A):y.addListener&&y.removeListener&&y.removeListener(A),(x=_r(y))?(_e(x,u),x.h==0&&(x.src=null,y[Ce]=null)):V(u)}}}function is(u){return u in Me?Me[u]:Me[u]="on"+u}function Cl(u,y){if(u.da)u=!0;else{y=new pe(y,this);const x=u.listener,A=u.ha||u.src;u.fa&&fa(u),u=x.call(A,y)}return u}function _r(u){return u=u[Ce],u instanceof de?u:null}var Il="__closure_events_fn_"+(Math.random()*1e9>>>0);function jl(u){return typeof u=="function"?u:(u[Il]||(u[Il]=function(y){return u.handleEvent(y)}),u[Il])}function bt(){j.call(this),this.i=new de(this),this.M=this,this.G=null}S(bt,j),bt.prototype[Oe]=!0,bt.prototype.removeEventListener=function(u,y,x,A){da(this,u,y,x,A)};function Ot(u,y){var x,A=u.G;if(A)for(x=[];A;A=A.G)x.push(A);if(u=u.M,A=y.type||y,typeof y=="string")y=new N(y,u);else if(y instanceof N)y.target=y.target||u;else{var z=y;y=new N(A,u),ae(y,z)}z=!0;let K,oe;if(x)for(oe=x.length-1;oe>=0;oe--)K=y.g=x[oe],z=xi(K,A,!0,y)&&z;if(K=y.g=u,z=xi(K,A,!0,y)&&z,z=xi(K,A,!1,y)&&z,x)for(oe=0;oe<x.length;oe++)K=y.g=x[oe],z=xi(K,A,!1,y)&&z}bt.prototype.N=function(){if(bt.Z.N.call(this),this.i){var u=this.i;for(const y in u.g){const x=u.g[y];for(let A=0;A<x.length;A++)V(x[A]);delete u.g[y],u.h--}}this.G=null},bt.prototype.J=function(u,y,x,A){return this.i.add(String(u),y,!1,x,A)},bt.prototype.K=function(u,y,x,A){return this.i.add(String(u),y,!0,x,A)};function xi(u,y,x,A){if(y=u.i.g[String(y)],!y)return!0;y=y.concat();let z=!0;for(let K=0;K<y.length;++K){const oe=y[K];if(oe&&!oe.da&&oe.capture==x){const Ie=oe.listener,yt=oe.ha||oe.src;oe.fa&&_e(u.i,oe),z=Ie.call(yt,A)!==!1&&z}}return z&&!A.defaultPrevented}function fd(u,y){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:f.setTimeout(u,y||0)}function bc(u){u.g=fd(()=>{u.g=null,u.i&&(u.i=!1,bc(u))},u.l);const y=u.h;u.h=null,u.m.apply(null,y)}class nn extends j{constructor(y,x){super(),this.m=y,this.l=x,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:bc(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xr(u){j.call(this),this.h=u,this.g={}}S(xr,j);var Dl=[];function Ol(u){ce(u.g,function(y,x){this.g.hasOwnProperty(x)&&fa(y)},u),u.g={}}xr.prototype.N=function(){xr.Z.N.call(this),Ol(this)},xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bi=f.JSON.stringify,md=f.JSON.parse,Ec=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function Tc(){}function Sc(){}var Bn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Bt(){N.call(this,"d")}S(Bt,N);function Nn(){N.call(this,"c")}S(Nn,N);var gt={},wc=null;function ma(){return wc=wc||new bt}gt.Ia="serverreachability";function Ac(u){N.call(this,gt.Ia,u)}S(Ac,N);function rs(u){const y=ma();Ot(y,new Ac(y))}gt.STAT_EVENT="statevent";function br(u,y){N.call(this,gt.STAT_EVENT,u),this.stat=y}S(br,N);function Et(u){const y=ma();Ot(y,new br(y,u))}gt.Ja="timingevent";function as(u,y){N.call(this,gt.Ja,u),this.size=y}S(as,N);function ls(u,y){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},y)}function qn(){this.g=!0}qn.prototype.ua=function(){this.g=!1};function pd(u,y,x,A,z,K){u.info(function(){if(u.g)if(K){var oe="",Ie=K.split("&");for(let Ke=0;Ke<Ie.length;Ke++){var yt=Ie[Ke].split("=");if(yt.length>1){const ct=yt[0];yt=yt[1];const jn=ct.split("_");oe=jn.length>=2&&jn[1]=="type"?oe+(ct+"="+yt+"&"):oe+(ct+"=redacted&")}}}else oe=null;else oe=K;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+y+`
`+x+`
`+oe})}function Nc(u,y,x,A,z,K,oe){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+y+`
`+x+`
`+K+" "+oe})}function os(u,y,x,A){u.info(function(){return"XMLHTTP TEXT ("+y+"): "+gd(u,x)+(A?" "+A:"")})}function Er(u,y){u.info(function(){return"TIMEOUT: "+y})}qn.prototype.info=function(){};function gd(u,y){if(!u.g)return y;if(!y)return null;try{const K=JSON.parse(y);if(K){for(u=0;u<K.length;u++)if(Array.isArray(K[u])){var x=K[u];if(!(x.length<2)){var A=x[1];if(Array.isArray(A)&&!(A.length<1)){var z=A[0];if(z!="noop"&&z!="stop"&&z!="close")for(let oe=1;oe<A.length;oe++)A[oe]=""}}}}return bi(K)}catch{return y}}var Tr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},kl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ml;function Sr(){}S(Sr,Tc),Sr.prototype.g=function(){return new XMLHttpRequest},Ml=new Sr;function Hs(u){return encodeURIComponent(String(u))}function Rc(u){var y=1;u=u.split(":");const x=[];for(;y>0&&u.length;)x.push(u.shift()),y--;return u.length&&x.push(u.join(":")),x}function Hn(u,y,x,A){this.j=u,this.i=y,this.l=x,this.S=A||1,this.V=new xr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Fn}function Fn(){this.i=null,this.g="",this.h=!1}var Tt={},Pt={};function cs(u,y,x){u.M=1,u.A=wr(wt(y)),u.u=x,u.R=!0,pa(u,null)}function pa(u,y){u.F=Date.now(),us(u),u.B=wt(u.A);var x=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),_a(x.i,"t",A),u.C=0,x=u.j.L,u.h=new Fn,u.g=Hc(u.j,x?y:null,!u.u),u.P>0&&(u.O=new nn(v(u.Y,u,u.g),u.P)),y=u.V,x=u.g,A=u.ba;var z="readystatechange";Array.isArray(z)||(z&&(Dl[0]=z.toString()),z=Dl);for(let K=0;K<z.length;K++){const oe=Ge(x,z[K],A||y.handleEvent,!1,y.h||y);if(!oe)break;y.g[oe.key]=oe}y=u.J?k(u.J):{},u.u?(u.v||(u.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,y)):(u.v="GET",u.g.ea(u.B,u.v,null,y)),rs(),pd(u.i,u.v,u.B,u.l,u.S,u.u)}Hn.prototype.ba=function(u){u=u.target;const y=this.O;y&&Qn(u)==3?y.j():this.Y(u)},Hn.prototype.Y=function(u){try{if(u==this.g)e:{const Ie=Qn(this.g),yt=this.g.ya(),Ke=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||qt(this.g)))){this.K||Ie!=4||yt==7||(yt==8||Ke<=0?rs(3):rs(2)),hs(this);var y=this.g.ca();this.X=y;var x=yd(this);if(this.o=y==200,Nc(this.i,this.v,this.B,this.l,this.S,Ie,y),this.o){if(this.U&&!this.L){t:{if(this.g){var A,z=this.g;if((A=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(A)){var K=A;break t}}K=null}if(u=K)os(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ds(this,u);else{this.o=!1,this.m=3,Et(12),gn(this),Rn(this);break e}}if(this.R){u=!0;let ct;for(;!this.K&&this.C<x.length;)if(ct=Ic(this,x),ct==Pt){Ie==4&&(this.m=4,Et(14),u=!1),os(this.i,this.l,null,"[Incomplete Response]");break}else if(ct==Tt){this.m=4,Et(15),os(this.i,this.l,x,"[Invalid Chunk]"),u=!1;break}else os(this.i,this.l,ct,null),ds(this,ct);if(Cc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||x.length!=0||this.h.h||(this.m=1,Et(16),u=!1),this.o=this.o&&u,!u)os(this.i,this.l,x,"[Invalid Chunked Response]"),gn(this),Rn(this);else if(x.length>0&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.aa&&!oe.P&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),Xl(oe),oe.P=!0,Et(11))}}else os(this.i,this.l,x,null),ds(this,x);Ie==4&&gn(this),this.o&&!this.K&&(Ie==4?Uc(this.j,this):(this.o=!1,us(this)))}else Gs(this.g),y==400&&x.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),gn(this),Rn(this)}}}catch{}finally{}};function yd(u){if(!Cc(u))return u.g.la();const y=qt(u.g);if(y==="")return"";let x="";const A=y.length,z=Qn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return gn(u),Rn(u),"";u.h.i=new f.TextDecoder}for(let K=0;K<A;K++)u.h.h=!0,x+=u.h.i.decode(y[K],{stream:!(z&&K==A-1)});return y.length=0,u.h.g+=x,u.C=0,u.h.g}function Cc(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Ic(u,y){var x=u.C,A=y.indexOf(`
`,x);return A==-1?Pt:(x=Number(y.substring(x,A)),isNaN(x)?Tt:(A+=1,A+x>y.length?Pt:(y=y.slice(A,A+x),u.C=A+x,y)))}Hn.prototype.cancel=function(){this.K=!0,gn(this)};function us(u){u.T=Date.now()+u.H,ga(u,u.H)}function ga(u,y){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ls(v(u.aa,u),y)}function hs(u){u.D&&(f.clearTimeout(u.D),u.D=null)}Hn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Er(this.i,this.B),this.M!=2&&(rs(),Et(17)),gn(this),this.m=2,Rn(this)):ga(this,this.T-u)};function Rn(u){u.j.I==0||u.K||Uc(u.j,u)}function gn(u){hs(u);var y=u.O;y&&typeof y.dispose=="function"&&y.dispose(),u.O=null,Ol(u.V),u.g&&(y=u.g,u.g=null,y.abort(),y.dispose())}function ds(u,y){try{var x=u.j;if(x.I!=0&&(x.g==u||ms(x.h,u))){if(!u.L&&ms(x.h,u)&&x.I==3){try{var A=x.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){e:if(!x.v){if(x.g)if(x.g.F+3e3<u.F)Sa(x),Ci(x);else break e;Dr(x),Et(18)}}else x.xa=z[1],0<x.xa-x.K&&z[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=ls(v(x.Va,x),6e3));fs(x.h)<=1&&x.ta&&(x.ta=void 0)}else xs(x,11)}else if((u.L||x.g==u)&&Sa(x),!I(y))for(z=x.Ba.g.parse(y),y=0;y<z.length;y++){let Ke=z[y];const ct=Ke[0];if(!(ct<=x.K))if(x.K=ct,Ke=Ke[1],x.I==2)if(Ke[0]=="c"){x.M=Ke[1],x.ba=Ke[2];const jn=Ke[3];jn!=null&&(x.ka=jn,x.j.info("VER="+x.ka));const bs=Ke[4];bs!=null&&(x.za=bs,x.j.info("SVER="+x.za));const Kn=Ke[5];Kn!=null&&typeof Kn=="number"&&Kn>0&&(A=1.5*Kn,x.O=A,x.j.info("backChannelRequestTimeoutMs_="+A)),A=x;const $n=u.g;if($n){const Or=$n.g?$n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Or){var K=A.h;K.g||Or.indexOf("spdy")==-1&&Or.indexOf("quic")==-1&&Or.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Ll(K,K.h),K.h=null))}if(A.G){const wa=$n.g?$n.g.getResponseHeader("X-HTTP-Session-Id"):null;wa&&(A.wa=wa,Je(A.J,A.G,wa))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-u.F,x.j.info("Handshake RTT: "+x.T+"ms")),A=x;var oe=u;if(A.na=qc(A,A.L?A.ba:null,A.W),oe.L){Ul(A.h,oe);var Ie=oe,yt=A.O;yt&&(Ie.H=yt),Ie.D&&(hs(Ie),us(Ie)),A.g=oe}else Pc(A);x.i.length>0&&_s(x)}else Ke[0]!="stop"&&Ke[0]!="close"||xs(x,7);else x.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?xs(x,7):Kl(x):Ke[0]!="noop"&&x.l&&x.l.qa(Ke),x.A=0)}}rs(4)}catch{}}var St=class{constructor(u,y){this.g=u,this.map=y}};function Vl(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Pl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function fs(u){return u.h?1:u.g?u.g.size:0}function ms(u,y){return u.h?u.h==y:u.g?u.g.has(y):!1}function Ll(u,y){u.g?u.g.add(y):u.h=y}function Ul(u,y){u.h&&u.h==y?u.h=null:u.g&&u.g.has(y)&&u.g.delete(y)}Vl.prototype.cancel=function(){if(this.i=zl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function zl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let y=u.i;for(const x of u.g.values())y=y.concat(x.G);return y}return P(u.i)}var jc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ya(u,y){if(u){u=u.split("&");for(let x=0;x<u.length;x++){const A=u[x].indexOf("=");let z,K=null;A>=0?(z=u[x].substring(0,A),K=u[x].substring(A+1)):z=u[x],y(z,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function yn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;u instanceof yn?(this.l=u.l,Lt(this,u.j),this.o=u.o,this.g=u.g,Ei(this,u.u),this.h=u.h,Bl(this,Mc(u.i)),this.m=u.m):u&&(y=String(u).match(jc))?(this.l=!1,Lt(this,y[1]||"",!0),this.o=ps(y[2]||""),this.g=ps(y[3]||"",!0),Ei(this,y[4]),this.h=ps(y[5]||"",!0),Bl(this,y[6]||"",!0),this.m=ps(y[7]||"")):(this.l=!1,this.i=new Si(null,this.l))}yn.prototype.toString=function(){const u=[];var y=this.j;y&&u.push(Ar(y,va,!0),":");var x=this.g;return(x||y=="file")&&(u.push("//"),(y=this.o)&&u.push(Ar(y,va,!0),"@"),u.push(Hs(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&u.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&u.push("/"),u.push(Ar(x,x.charAt(0)=="/"?ql:Dc,!0))),(x=this.i.toString())&&u.push("?",x),(x=this.m)&&u.push("#",Ar(x,Oc)),u.join("")},yn.prototype.resolve=function(u){const y=wt(this);let x=!!u.j;x?Lt(y,u.j):x=!!u.o,x?y.o=u.o:x=!!u.g,x?y.g=u.g:x=u.u!=null;var A=u.h;if(x)Ei(y,u.u);else if(x=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var z=y.h.lastIndexOf("/");z!=-1&&(A=y.h.slice(0,z+1)+A)}if(z=A,z==".."||z==".")A="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){A=z.lastIndexOf("/",0)==0,z=z.split("/");const K=[];for(let oe=0;oe<z.length;){const Ie=z[oe++];Ie=="."?A&&oe==z.length&&K.push(""):Ie==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),A&&oe==z.length&&K.push("")):(K.push(Ie),A=!0)}A=K.join("/")}else A=z}return x?y.h=A:x=u.i.toString()!=="",x?Bl(y,Mc(u.i)):x=!!u.m,x&&(y.m=u.m),y};function wt(u){return new yn(u)}function Lt(u,y,x){u.j=x?ps(y,!0):y,u.j&&(u.j=u.j.replace(/:$/,""))}function Ei(u,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);u.u=y}else u.u=null}function Bl(u,y,x){y instanceof Si?(u.i=y,xa(u.i,u.l)):(x||(y=Ar(y,Ti)),u.i=new Si(y,u.l))}function Je(u,y,x){u.i.set(y,x)}function wr(u){return Je(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ps(u,y){return u?y?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ar(u,y,x){return typeof u=="string"?(u=encodeURI(u).replace(y,an),x&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function an(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var va=/[#\/\?@]/g,Dc=/[#\?:]/g,ql=/[#\?]/g,Ti=/[#\?@]/g,Oc=/#/g;function Si(u,y){this.h=this.g=null,this.i=u||null,this.j=!!y}function ln(u){u.g||(u.g=new Map,u.h=0,u.i&&ya(u.i,function(y,x){u.add(decodeURIComponent(y.replace(/\+/g," ")),x)}))}i=Si.prototype,i.add=function(u,y){ln(this),this.i=null,u=wi(this,u);let x=this.g.get(u);return x||this.g.set(u,x=[]),x.push(y),this.h+=1,this};function kc(u,y){ln(u),y=wi(u,y),u.g.has(y)&&(u.i=null,u.h-=u.g.get(y).length,u.g.delete(y))}function Hl(u,y){return ln(u),y=wi(u,y),u.g.has(y)}i.forEach=function(u,y){ln(this),this.g.forEach(function(x,A){x.forEach(function(z){u.call(y,z,A,this)},this)},this)};function Fl(u,y){ln(u);let x=[];if(typeof y=="string")Hl(u,y)&&(x=x.concat(u.g.get(wi(u,y))));else for(u=Array.from(u.g.values()),y=0;y<u.length;y++)x=x.concat(u[y]);return x}i.set=function(u,y){return ln(this),this.i=null,u=wi(this,u),Hl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[y]),this.h+=1,this},i.get=function(u,y){return u?(u=Fl(this,u),u.length>0?String(u[0]):y):y};function _a(u,y,x){kc(u,y),x.length>0&&(u.i=null,u.g.set(wi(u,y),P(x)),u.h+=x.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var x=y[A];const z=Hs(x);x=Fl(this,x);for(let K=0;K<x.length;K++){let oe=z;x[K]!==""&&(oe+="="+Hs(x[K])),u.push(oe)}}return this.i=u.join("&")};function Mc(u){const y=new Si;return y.i=u.i,u.g&&(y.g=new Map(u.g),y.h=u.h),y}function wi(u,y){return y=String(y),u.j&&(y=y.toLowerCase()),y}function xa(u,y){y&&!u.j&&(ln(u),u.i=null,u.g.forEach(function(x,A){const z=A.toLowerCase();A!=z&&(kc(this,A),_a(this,z,x))},u)),u.j=y}function Gn(u,y){const x=new qn;if(f.Image){const A=new Image;A.onload=b(Cn,x,"TestLoadImage: loaded",!0,y,A),A.onerror=b(Cn,x,"TestLoadImage: error",!1,y,A),A.onabort=b(Cn,x,"TestLoadImage: abort",!1,y,A),A.ontimeout=b(Cn,x,"TestLoadImage: timeout",!1,y,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else y(!1)}function Gl(u,y){const x=new qn,A=new AbortController,z=setTimeout(()=>{A.abort(),Cn(x,"TestPingServer: timeout",!1,y)},1e4);fetch(u,{signal:A.signal}).then(K=>{clearTimeout(z),K.ok?Cn(x,"TestPingServer: ok",!0,y):Cn(x,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Cn(x,"TestPingServer: error",!1,y)})}function Cn(u,y,x,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(x)}catch{}}function Ai(){this.g=new Ec}function gs(u){this.i=u.Sb||null,this.h=u.ab||!1}S(gs,Tc),gs.prototype.g=function(){return new Nr(this.i,this.h)};function Nr(u,y){bt.call(this),this.H=u,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Nr,bt),i=Nr.prototype,i.open=function(u,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=y,this.readyState=1,Yn(this)},i.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(y.body=u),(this.H||f).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ni(this)),this.readyState=0},i.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ba(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ba(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}i.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var y=u.value?u.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!u.done}))&&(this.response=this.responseText+=y)}u.done?Ni(this):Yn(this),this.readyState==3&&ba(this)}},i.Oa=function(u){this.g&&(this.response=this.responseText=u,Ni(this))},i.Na=function(u){this.g&&(this.response=u,Ni(this))},i.ga=function(){this.g&&Ni(this)};function Ni(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Yn(u)}i.setRequestHeader=function(u,y){this.A.append(u,y)},i.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],y=this.h.entries();for(var x=y.next();!x.done;)x=x.value,u.push(x[0]+": "+x[1]),x=y.next();return u.join(`\r
`)};function Yn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Nr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function In(u){let y="";return ce(u,function(x,A){y+=A,y+=":",y+=x,y+=`\r
`}),y}function Rr(u,y,x){e:{for(A in x){var A=!1;break e}A=!0}A||(x=In(x),typeof u=="string"?x!=null&&Hs(x):Je(u,y,x))}function et(u){bt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(et,bt);var ys=/^https?$/i,Yl=["POST","PUT"];i=et.prototype,i.Fa=function(u){this.H=u},i.ea=function(u,y,x,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);y=y?y.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ml.g(),this.g.onreadystatechange=C(v(this.Ca,this));try{this.B=!0,this.g.open(y,String(u),!0),this.B=!1}catch(K){Cr(this,K);return}if(u=x||"",x=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)x.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const K of A.keys())x.set(K,A.get(K));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(x.keys()).find(K=>K.toLowerCase()=="content-type"),z=f.FormData&&u instanceof f.FormData,!(Array.prototype.indexOf.call(Yl,y,void 0)>=0)||A||z||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,oe]of x)this.g.setRequestHeader(K,oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(K){Cr(this,K)}};function Cr(u,y){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=y,u.o=5,Ql(u),Fs(u)}function Ql(u){u.A||(u.A=!0,Ot(u,"complete"),Ot(u,"error"))}i.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ot(this,"complete"),Ot(this,"abort"),Fs(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fs(this,!0)),et.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Ir(this):this.Xa())},i.Xa=function(){Ir(this)};function Ir(u){if(u.h&&typeof c<"u"){if(u.v&&Qn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ot(u,"readystatechange"),Qn(u)==4){u.h=!1;try{const K=u.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var x;if(!(x=y)){var A;if(A=K===0){let oe=String(u.D).match(jc)[1]||null;!oe&&f.self&&f.self.location&&(oe=f.self.location.protocol.slice(0,-1)),A=!ys.test(oe?oe.toLowerCase():"")}x=A}if(x)Ot(u,"complete"),Ot(u,"success");else{u.o=6;try{var z=Qn(u)>2?u.g.statusText:""}catch{z=""}u.l=z+" ["+u.ca()+"]",Ql(u)}}finally{Fs(u)}}}}function Fs(u,y){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const x=u.g;u.g=null,y||Ot(u,"ready");try{x.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Qn(u){return u.g?u.g.readyState:0}i.ca=function(){try{return Qn(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(u){if(this.g){var y=this.g.responseText;return u&&y.indexOf(u)==0&&(y=y.substring(u.length)),md(y)}};function qt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Gs(u){const y={};u=(u.g&&Qn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(I(u[A]))continue;var x=Rc(u[A]);const z=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const K=y[z]||[];y[z]=K,K.push(x)}ye(y,function(A){return A.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vs(u,y,x){return x&&x.internalChannelParams&&x.internalChannelParams[u]||y}function Ri(u){this.za=0,this.i=[],this.j=new qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vs("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vs("baseRetryDelayMs",5e3,u),this.Za=vs("retryDelaySeedMs",1e4,u),this.Ta=vs("forwardChannelMaxRetries",2,u),this.va=vs("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Vl(u&&u.concurrentRequestLimit),this.Ba=new Ai,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Ri.prototype,i.ka=8,i.I=1,i.connect=function(u,y,x,A){Et(0),this.W=u,this.H=y||{},x&&A!==void 0&&(this.H.OSID=x,this.H.OAID=A),this.F=this.X,this.J=qc(this,null,this.W),_s(this)};function Kl(u){if(Ea(u),u.I==3){var y=u.V++,x=wt(u.J);if(Je(x,"SID",u.M),Je(x,"RID",y),Je(x,"TYPE","terminate"),jr(u,x),y=new Hn(u,u.j,y),y.M=2,y.A=wr(wt(x)),x=!1,f.navigator&&f.navigator.sendBeacon)try{x=f.navigator.sendBeacon(y.A.toString(),"")}catch{}!x&&f.Image&&(new Image().src=y.A,x=!0),x||(y.g=Hc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),us(y)}Bc(u)}function Ci(u){u.g&&(Xl(u),u.g.cancel(),u.g=null)}function Ea(u){Ci(u),u.v&&(f.clearTimeout(u.v),u.v=null),Sa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&f.clearTimeout(u.m),u.m=null)}function _s(u){if(!Pl(u.h)&&!u.m){u.m=!0;var y=u.Ea;ue||E(),he||(ue(),he=!0),w.add(y,u),u.D=0}}function Ta(u,y){return fs(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=y.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ls(v(u.Ea,u,y),zc(u,u.D)),u.D++,!0)}i.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const z=new Hn(this,this.j,u);let K=this.o;if(this.U&&(K?(K=k(K),ae(K,this.U)):K=this.U),this.u!==null||this.R||(z.J=K,K=null),this.S)e:{for(var y=0,x=0;x<this.i.length;x++){t:{var A=this.i[x];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=x;break e}if(y===4096||x===this.i.length-1){y=x+1;break e}}y=1e3}else y=1e3;y=Vc(this,z,y),x=wt(this.J),Je(x,"RID",u),Je(x,"CVER",22),this.G&&Je(x,"X-HTTP-Session-Id",this.G),jr(this,x),K&&(this.R?y="headers="+Hs(In(K))+"&"+y:this.u&&Rr(x,this.u,K)),Ll(this.h,z),this.Ra&&Je(x,"TYPE","init"),this.S?(Je(x,"$req",y),Je(x,"SID","null"),z.U=!0,cs(z,x,null)):cs(z,x,y),this.I=2}}else this.I==3&&(u?$l(this,u):this.i.length==0||Pl(this.h)||$l(this))};function $l(u,y){var x;y?x=y.l:x=u.V++;const A=wt(u.J);Je(A,"SID",u.M),Je(A,"RID",x),Je(A,"AID",u.K),jr(u,A),u.u&&u.o&&Rr(A,u.u,u.o),x=new Hn(u,u.j,x,u.D+1),u.u===null&&(x.J=u.o),y&&(u.i=y.G.concat(u.i)),y=Vc(u,x,1e3),x.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ll(u.h,x),cs(x,A,y)}function jr(u,y){u.H&&ce(u.H,function(x,A){Je(y,A,x)}),u.l&&ce({},function(x,A){Je(y,A,x)})}function Vc(u,y,x){x=Math.min(u.i.length,x);const A=u.l?v(u.l.Ka,u.l,u):null;e:{var z=u.i;let Ie=-1;for(;;){const yt=["count="+x];Ie==-1?x>0?(Ie=z[0].g,yt.push("ofs="+Ie)):Ie=0:yt.push("ofs="+Ie);let Ke=!0;for(let ct=0;ct<x;ct++){var K=z[ct].g;const jn=z[ct].map;if(K-=Ie,K<0)Ie=Math.max(0,z[ct].g-100),Ke=!1;else try{K="req"+K+"_"||"";try{var oe=jn instanceof Map?jn:Object.entries(jn);for(const[bs,Kn]of oe){let $n=Kn;g(Kn)&&($n=bi(Kn)),yt.push(K+bs+"="+encodeURIComponent($n))}}catch(bs){throw yt.push(K+"type="+encodeURIComponent("_badmap")),bs}}catch{A&&A(jn)}}if(Ke){oe=yt.join("&");break e}}oe=void 0}return u=u.i.splice(0,x),y.G=u,oe}function Pc(u){if(!u.g&&!u.v){u.Y=1;var y=u.Da;ue||E(),he||(ue(),he=!0),w.add(y,u),u.A=0}}function Dr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ls(v(u.Da,u),zc(u,u.A)),u.A++,!0)}i.Da=function(){if(this.v=null,Lc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ls(v(this.Wa,this),u)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),Ci(this),Lc(this))};function Xl(u){u.B!=null&&(f.clearTimeout(u.B),u.B=null)}function Lc(u){u.g=new Hn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var y=wt(u.na);Je(y,"RID","rpc"),Je(y,"SID",u.M),Je(y,"AID",u.K),Je(y,"CI",u.F?"0":"1"),!u.F&&u.ia&&Je(y,"TO",u.ia),Je(y,"TYPE","xmlhttp"),jr(u,y),u.u&&u.o&&Rr(y,u.u,u.o),u.O&&(u.g.H=u.O);var x=u.g;u=u.ba,x.M=1,x.A=wr(wt(y)),x.u=null,x.R=!0,pa(x,u)}i.Va=function(){this.C!=null&&(this.C=null,Ci(this),Dr(this),Et(19))};function Sa(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function Uc(u,y){var x=null;if(u.g==y){Sa(u),Xl(u),u.g=null;var A=2}else if(ms(u.h,y))x=y.G,Ul(u.h,y),A=1;else return;if(u.I!=0){if(y.o)if(A==1){x=y.u?y.u.length:0,y=Date.now()-y.F;var z=u.D;A=ma(),Ot(A,new as(A,x)),_s(u)}else Pc(u);else if(z=y.m,z==3||z==0&&y.X>0||!(A==1&&Ta(u,y)||A==2&&Dr(u)))switch(x&&x.length>0&&(y=u.h,y.i=y.i.concat(x)),z){case 1:xs(u,5);break;case 4:xs(u,10);break;case 3:xs(u,6);break;default:xs(u,2)}}}function zc(u,y){let x=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(x*=2),x*y}function xs(u,y){if(u.j.info("Error code "+y),y==2){var x=v(u.bb,u),A=u.Ua;const z=!A;A=new yn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Lt(A,"https"),wr(A),z?Gn(A.toString(),x):Gl(A.toString(),x)}else Et(2);u.I=0,u.l&&u.l.pa(y),Bc(u),Ea(u)}i.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function Bc(u){if(u.I=0,u.ja=[],u.l){const y=zl(u.h);(y.length!=0||u.i.length!=0)&&(Q(u.ja,y),Q(u.ja,u.i),u.h.i.length=0,P(u.i),u.i.length=0),u.l.oa()}}function qc(u,y,x){var A=x instanceof yn?wt(x):new yn(x);if(A.g!="")y&&(A.g=y+"."+A.g),Ei(A,A.u);else{var z=f.location;A=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;const K=new yn(null);A&&Lt(K,A),y&&(K.g=y),z&&Ei(K,z),x&&(K.h=x),A=K}return x=u.G,y=u.wa,x&&y&&Je(A,x,y),Je(A,"VER",u.ka),jr(u,A),A}function Hc(u,y,x){if(y&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=u.Aa&&!u.ma?new et(new gs({ab:x})):new et(u.ma),y.Fa(u.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fc(){}i=Fc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Ii(){}Ii.prototype.g=function(u,y){return new sn(u,y)};function sn(u,y){bt.call(this),this.g=new Ri(y),this.l=u,this.h=y&&y.messageUrlParams||null,u=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(u?u["X-WebChannel-Content-Type"]=y.messageContentType:u={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(u?u["X-WebChannel-Client-Profile"]=y.sa:u={"X-WebChannel-Client-Profile":y.sa}),this.g.U=u,(u=y&&y.Qb)&&!I(u)&&(this.g.u=u),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,u=this.h,u!==null&&y in u&&(u=this.h,y in u&&delete u[y])),this.j=new Ys(this)}S(sn,bt),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Kl(this.g)},sn.prototype.o=function(u){var y=this.g;if(typeof u=="string"){var x={};x.__data__=u,u=x}else this.v&&(x={},x.__data__=bi(u),u=x);y.i.push(new St(y.Ya++,u)),y.I==3&&_s(y)},sn.prototype.N=function(){this.g.l=null,delete this.j,Kl(this.g),delete this.g,sn.Z.N.call(this)};function Gc(u){Bt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var y=u.__sm__;if(y){e:{for(const x in y){u=x;break e}u=void 0}(this.i=u)&&(u=this.i,y=y!==null&&u in y?y[u]:void 0),this.data=y}else this.data=u}S(Gc,Bt);function Yc(){Nn.call(this),this.status=1}S(Yc,Nn);function Ys(u){this.g=u}S(Ys,Fc),Ys.prototype.ra=function(){Ot(this.g,"a")},Ys.prototype.qa=function(u){Ot(this.g,new Gc(u))},Ys.prototype.pa=function(u){Ot(this.g,new Yc)},Ys.prototype.oa=function(){Ot(this.g,"b")},Ii.prototype.createWebChannel=Ii.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,Eb=function(){return new Ii},bb=function(){return ma()},xb=gt,Hm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Tr.NO_ERROR=0,Tr.TIMEOUT=8,Tr.HTTP_ERROR=6,oh=Tr,kl.COMPLETE="complete",_b=kl,Sc.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",bt.prototype.listen=bt.prototype.J,Po=Sc,et.prototype.listenOnce=et.prototype.K,et.prototype.getLastError=et.prototype.Ha,et.prototype.getLastErrorCode=et.prototype.ya,et.prototype.getStatus=et.prototype.ca,et.prototype.getResponseJson=et.prototype.La,et.prototype.getResponseText=et.prototype.la,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Fa,vb=et}).apply(typeof Ju<"u"?Ju:typeof self<"u"?self:typeof window<"u"?window:{});const m_="@firebase/firestore",p_="4.9.2";class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");let Tl="12.3.0";const ta=new xp("@firebase/firestore");function tl(){return ta.logLevel}function me(i,...e){if(ta.logLevel<=ze.DEBUG){const n=e.map(Tp);ta.debug(`Firestore (${Tl}): ${i}`,...n)}}function mi(i,...e){if(ta.logLevel<=ze.ERROR){const n=e.map(Tp);ta.error(`Firestore (${Tl}): ${i}`,...n)}}function ml(i,...e){if(ta.logLevel<=ze.WARN){const n=e.map(Tp);ta.warn(`Firestore (${Tl}): ${i}`,...n)}}function Tp(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function Se(i,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Tb(i,r,n)}function Tb(i,e,n){let r=`FIRESTORE (${Tl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw mi(r),new Error(r)}function Xe(i,e,n,r){let l="Unexpected state";typeof n=="string"?l=n:r=n,i||Tb(e,l,r)}function Re(i,e){return i}const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends zs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class or{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class Sb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class AN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Zt.UNAUTHENTICATED)))}shutdown(){}}class NN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class RN{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Xe(this.o===void 0,42304);let r=this.i;const l=p=>this.i!==r?(r=this.i,n(p)):Promise.resolve();let c=new or;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new or,e.enqueueRetryable((()=>l(this.currentUser)))};const f=()=>{const p=c;e.enqueueRetryable((async()=>{await p.promise,await l(this.currentUser)}))},g=p=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>g(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new or)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xe(typeof r.accessToken=="string",31837,{l:r}),new Sb(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class CN{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class IN{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new CN(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class g_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jN{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Wn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Xe(this.o===void 0,3512);const r=c=>{c.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,me("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const l=c=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new g_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new g_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function DN(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<i;r++)n[r]=Math.floor(256*Math.random());return n}class Sp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=DN(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<n&&(r+=e.charAt(l[c]%62))}return r}}function Be(i,e){return i<e?-1:i>e?1:0}function Fm(i,e){const n=Math.min(i.length,e.length);for(let r=0;r<n;r++){const l=i.charAt(r),c=e.charAt(r);if(l!==c)return Nm(l)===Nm(c)?Be(l,c):Nm(l)?1:-1}return Be(i.length,e.length)}const ON=55296,kN=57343;function Nm(i){const e=i.charCodeAt(0);return e>=ON&&e<=kN}function pl(i,e,n){return i.length===e.length&&i.every(((r,l)=>n(r,e[l])))}const y_="__name__";class Ns{constructor(e,n,r){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Se(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ns.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ns?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let l=0;l<r;l++){const c=Ns.compareSegments(e.get(l),n.get(l));if(c!==0)return c}return Be(e.length,n.length)}static compareSegments(e,n){const r=Ns.isNumericId(e),l=Ns.isNumericId(n);return r&&!l?-1:!r&&l?1:r&&l?Ns.extractNumericId(e).compare(Ns.extractNumericId(n)):Fm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return lr.fromString(e.substring(4,e.length-2))}}class rt extends Ns{construct(e,n,r){return new rt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((l=>l.length>0)))}return new rt(n)}static emptyPath(){return new rt([])}}const MN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Ns{construct(e,n,r){return new Kt(e,n,r)}static isValidIdentifier(e){return MN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===y_}static keyField(){return new Kt([y_])}static fromServerFormat(e){const n=[];let r="",l=0;const c=()=>{if(r.length===0)throw new fe(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let f=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new fe(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new fe(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,l+=2}else g==="`"?(f=!f,l++):g!=="."||f?(r+=g,l++):(c(),l++)}if(c(),f)throw new fe(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}class be{constructor(e){this.path=e}static fromPath(e){return new be(rt.fromString(e))}static fromName(e){return new be(rt.fromString(e).popFirst(5))}static empty(){return new be(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new rt(e.slice()))}}function wb(i,e,n){if(!n)throw new fe(ne.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function VN(i,e,n,r){if(e===!0&&r===!0)throw new fe(ne.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function v_(i){if(!be.isDocumentKey(i))throw new fe(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function __(i){if(be.isDocumentKey(i))throw new fe(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Ab(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function $h(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Se(12329,{type:typeof i})}function na(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new fe(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$h(i);throw new fe(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Dt(i,e){const n={typeString:i};return e&&(n.value=e),n}function hc(i,e){if(!Ab(i))throw new fe(ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const l=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in i)){n=`JSON missing required field: '${r}'`;break}const f=i[r];if(l&&typeof f!==l){n=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&f!==c.value){n=`Expected '${r}' field to equal '${c.value}'`;break}}if(n)throw new fe(ne.INVALID_ARGUMENT,n);return!0}const x_=-62135596800,b_=1e6;class ot{static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*b_);return new ot(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<x_)throw new fe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/b_}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(hc(e,ot._jsonSchema))return new ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-x_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ot._jsonSchemaVersion="firestore/timestamp/1.0",ot._jsonSchema={type:Dt("string",ot._jsonSchemaVersion),seconds:Dt("number"),nanoseconds:Dt("number")};class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new ot(0,0))}static max(){return new Ae(new ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Xo=-1;function PN(i,e){const n=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,l=Ae.fromTimestamp(r===1e9?new ot(n+1,0):new ot(n,r));return new hr(l,be.empty(),e)}function LN(i){return new hr(i.readTime,i.key,Xo)}class hr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new hr(Ae.min(),be.empty(),Xo)}static max(){return new hr(Ae.max(),be.empty(),Xo)}}function UN(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(i.documentKey,e.documentKey),n!==0?n:Be(i.largestBatchId,e.largestBatchId))}const zN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class BN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Sl(i){if(i.code!==ne.FAILED_PRECONDITION||i.message!==zN)throw i;me("LocalStore","Unexpectedly lost primary lease")}class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(r,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):re.reject(n)}static resolve(e){return new re(((n,r)=>{n(e)}))}static reject(e){return new re(((n,r)=>{r(e)}))}static waitFor(e){return new re(((n,r)=>{let l=0,c=0,f=!1;e.forEach((g=>{++l,g.next((()=>{++c,f&&c===l&&n()}),(p=>r(p)))})),f=!0,c===l&&n()}))}static or(e){let n=re.resolve(!1);for(const r of e)n=n.next((l=>l?re.resolve(l):r()));return n}static forEach(e,n){const r=[];return e.forEach(((l,c)=>{r.push(n.call(this,l,c))})),this.waitFor(r)}static mapArray(e,n){return new re(((r,l)=>{const c=e.length,f=new Array(c);let g=0;for(let p=0;p<c;p++){const v=p;n(e[v]).next((b=>{f[v]=b,++g,g===c&&r(f)}),(b=>l(b)))}}))}static doWhile(e,n){return new re(((r,l)=>{const c=()=>{e()===!0?n().next((()=>{c()}),l):r()};c()}))}}function qN(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wl(i){return i.name==="IndexedDbTransactionError"}class Xh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Xh.ce=-1;const wp=-1;function Jh(i){return i==null}function Sh(i){return i===0&&1/i==-1/0}function HN(i){return typeof i=="number"&&Number.isInteger(i)&&!Sh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const Nb="";function FN(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=E_(e)),e=GN(i.get(n),e);return E_(e)}function GN(i,e){let n=e;const r=i.length;for(let l=0;l<r;l++){const c=i.charAt(l);switch(c){case"\0":n+="";break;case Nb:n+="";break;default:n+=c}}return n}function E_(i){return i+Nb+""}function T_(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function yr(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Rb(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class ft{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return n+r.left.size;l<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zu(this.root,e,this.comparator,!0)}}class Zu{constructor(e,n,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?r(e.key,n):1,n&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,r,l,c){this.key=e,this.value=n,this.color=r??Qt.RED,this.left=l??Qt.EMPTY,this.right=c??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,l,c){return new Qt(e??this.key,n??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let l=this;const c=r(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,n,r),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return Qt.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,r,l,c){return this}insert(e,n,r){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new S_(this.data.getIterator())}getIteratorFrom(e){return new S_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Vt(this.comparator);return n.data=e,n}}class S_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class wn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new wn([])}unionWith(e){let n=new Vt(Kt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return pl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class Cb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Cb("Invalid base64 string: "+c):c}})(e);return new $t(n)}static fromUint8Array(e){const n=(function(l){let c="";for(let f=0;f<l.length;++f)c+=String.fromCharCode(l[f]);return c})(e);return new $t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let l=0;l<n.length;l++)r[l]=n.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const YN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function dr(i){if(Xe(!!i,39018),typeof i=="string"){let e=0;const n=YN.exec(i);if(Xe(!!n,46558,{timestamp:i}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xt(i.seconds),nanos:xt(i.nanos)}}function xt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function fr(i){return typeof i=="string"?$t.fromBase64String(i):$t.fromUint8Array(i)}const Ib="server_timestamp",jb="__type__",Db="__previous_value__",Ob="__local_write_time__";function Ap(i){return(i?.mapValue?.fields||{})[jb]?.stringValue===Ib}function Zh(i){const e=i.mapValue.fields[Db];return Ap(e)?Zh(e):e}function Jo(i){const e=dr(i.mapValue.fields[Ob].timestampValue);return new ot(e.seconds,e.nanos)}class QN{constructor(e,n,r,l,c,f,g,p,v,b){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=v,this.isUsingEmulator=b}}const wh="(default)";class Zo{constructor(e,n){this.projectId=e,this.database=n||wh}static empty(){return new Zo("","")}get isDefaultDatabase(){return this.database===wh}isEqual(e){return e instanceof Zo&&e.projectId===this.projectId&&e.database===this.database}}const kb="__type__",KN="__max__",Wu={mapValue:{}},Mb="__vector__",Ah="value";function mr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Ap(i)?4:XN(i)?9007199254740991:$N(i)?10:11:Se(28295,{value:i})}function Vs(i,e){if(i===e)return!0;const n=mr(i);if(n!==mr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Jo(i).isEqual(Jo(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const f=dr(l.timestampValue),g=dr(c.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(l,c){return fr(l.bytesValue).isEqual(fr(c.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(l,c){return xt(l.geoPointValue.latitude)===xt(c.geoPointValue.latitude)&&xt(l.geoPointValue.longitude)===xt(c.geoPointValue.longitude)})(i,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return xt(l.integerValue)===xt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const f=xt(l.doubleValue),g=xt(c.doubleValue);return f===g?Sh(f)===Sh(g):isNaN(f)&&isNaN(g)}return!1})(i,e);case 9:return pl(i.arrayValue.values||[],e.arrayValue.values||[],Vs);case 10:case 11:return(function(l,c){const f=l.mapValue.fields||{},g=c.mapValue.fields||{};if(T_(f)!==T_(g))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(g[p]===void 0||!Vs(f[p],g[p])))return!1;return!0})(i,e);default:return Se(52216,{left:i})}}function Wo(i,e){return(i.values||[]).find((n=>Vs(n,e)))!==void 0}function gl(i,e){if(i===e)return 0;const n=mr(i),r=mr(e);if(n!==r)return Be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Be(i.booleanValue,e.booleanValue);case 2:return(function(c,f){const g=xt(c.integerValue||c.doubleValue),p=xt(f.integerValue||f.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1})(i,e);case 3:return w_(i.timestampValue,e.timestampValue);case 4:return w_(Jo(i),Jo(e));case 5:return Fm(i.stringValue,e.stringValue);case 6:return(function(c,f){const g=fr(c),p=fr(f);return g.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(c,f){const g=c.split("/"),p=f.split("/");for(let v=0;v<g.length&&v<p.length;v++){const b=Be(g[v],p[v]);if(b!==0)return b}return Be(g.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(c,f){const g=Be(xt(c.latitude),xt(f.latitude));return g!==0?g:Be(xt(c.longitude),xt(f.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return A_(i.arrayValue,e.arrayValue);case 10:return(function(c,f){const g=c.fields||{},p=f.fields||{},v=g[Ah]?.arrayValue,b=p[Ah]?.arrayValue,S=Be(v?.values?.length||0,b?.values?.length||0);return S!==0?S:A_(v,b)})(i.mapValue,e.mapValue);case 11:return(function(c,f){if(c===Wu.mapValue&&f===Wu.mapValue)return 0;if(c===Wu.mapValue)return 1;if(f===Wu.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),v=f.fields||{},b=Object.keys(v);p.sort(),b.sort();for(let S=0;S<p.length&&S<b.length;++S){const C=Fm(p[S],b[S]);if(C!==0)return C;const P=gl(g[p[S]],v[b[S]]);if(P!==0)return P}return Be(p.length,b.length)})(i.mapValue,e.mapValue);default:throw Se(23264,{he:n})}}function w_(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Be(i,e);const n=dr(i),r=dr(e),l=Be(n.seconds,r.seconds);return l!==0?l:Be(n.nanos,r.nanos)}function A_(i,e){const n=i.values||[],r=e.values||[];for(let l=0;l<n.length&&l<r.length;++l){const c=gl(n[l],r[l]);if(c)return c}return Be(n.length,r.length)}function yl(i){return Gm(i)}function Gm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const r=dr(n);return`time(${r.seconds},${r.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return fr(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return be.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let r="[",l=!0;for(const c of n.values||[])l?l=!1:r+=",",r+=Gm(c);return r+"]"})(i.arrayValue):"mapValue"in i?(function(n){const r=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const f of r)c?c=!1:l+=",",l+=`${f}:${Gm(n.fields[f])}`;return l+"}"})(i.mapValue):Se(61005,{value:i})}function ch(i){switch(mr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zh(i);return e?16+ch(e):16;case 5:return 2*i.stringValue.length;case 6:return fr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+ch(c)),0)})(i.arrayValue);case 10:case 11:return(function(r){let l=0;return yr(r.fields,((c,f)=>{l+=c.length+ch(f)})),l})(i.mapValue);default:throw Se(13486,{value:i})}}function N_(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Ym(i){return!!i&&"integerValue"in i}function Np(i){return!!i&&"arrayValue"in i}function R_(i){return!!i&&"nullValue"in i}function C_(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function uh(i){return!!i&&"mapValue"in i}function $N(i){return(i?.mapValue?.fields||{})[kb]?.stringValue===Mb}function Ho(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return yr(i.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Ho(r))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ho(i.arrayValue.values[n]);return e}return{...i}}function XN(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===KN}class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!uh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ho(n)}setAll(e){let n=Kt.emptyPath(),r={},l=[];e.forEach(((f,g)=>{if(!n.isImmediateParentOf(g)){const p=this.getFieldsMap(n);this.applyChanges(p,r,l),r={},l=[],n=g.popLast()}f?r[g.lastSegment()]=Ho(f):l.push(g.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,r,l)}delete(e){const n=this.field(e.popLast());uh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=n.mapValue.fields[e.get(r)];uh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,r){yr(n,((l,c)=>e[l]=c));for(const l of r)delete e[l]}clone(){return new mn(Ho(this.value))}}function Vb(i){const e=[];return yr(i.fields,((n,r)=>{const l=new Kt([n]);if(uh(r)){const c=Vb(r.mapValue).fields;if(c.length===0)e.push(l);else for(const f of c)e.push(l.child(f))}else e.push(l)})),new wn(e)}class Wt{constructor(e,n,r,l,c,f,g){this.key=e,this.documentType=n,this.version=r,this.readTime=l,this.createTime=c,this.data=f,this.documentState=g}static newInvalidDocument(e){return new Wt(e,0,Ae.min(),Ae.min(),Ae.min(),mn.empty(),0)}static newFoundDocument(e,n,r,l){return new Wt(e,1,n,Ae.min(),r,l,0)}static newNoDocument(e,n){return new Wt(e,2,n,Ae.min(),Ae.min(),mn.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,Ae.min(),Ae.min(),mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Nh{constructor(e,n){this.position=e,this.inclusive=n}}function I_(i,e,n){let r=0;for(let l=0;l<i.position.length;l++){const c=e[l],f=i.position[l];if(c.field.isKeyField()?r=be.comparator(be.fromName(f.referenceValue),n.key):r=gl(f,n.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function j_(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Vs(i.position[n],e.position[n]))return!1;return!0}class ec{constructor(e,n="asc"){this.field=e,this.dir=n}}function JN(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class Pb{}class jt extends Pb{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new WN(e,n,r):n==="array-contains"?new nR(e,r):n==="in"?new sR(e,r):n==="not-in"?new iR(e,r):n==="array-contains-any"?new rR(e,r):new jt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new eR(e,r):new tR(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(gl(n,this.value)):n!==null&&mr(this.value)===mr(n)&&this.matchesComparison(gl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ss extends Pb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ss(e,n)}matches(e){return Lb(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Lb(i){return i.op==="and"}function Ub(i){return ZN(i)&&Lb(i)}function ZN(i){for(const e of i.filters)if(e instanceof ss)return!1;return!0}function Qm(i){if(i instanceof jt)return i.field.canonicalString()+i.op.toString()+yl(i.value);if(Ub(i))return i.filters.map((e=>Qm(e))).join(",");{const e=i.filters.map((n=>Qm(n))).join(",");return`${i.op}(${e})`}}function zb(i,e){return i instanceof jt?(function(r,l){return l instanceof jt&&r.op===l.op&&r.field.isEqual(l.field)&&Vs(r.value,l.value)})(i,e):i instanceof ss?(function(r,l){return l instanceof ss&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,f,g)=>c&&zb(f,l.filters[g])),!0):!1})(i,e):void Se(19439)}function Bb(i){return i instanceof jt?(function(n){return`${n.field.canonicalString()} ${n.op} ${yl(n.value)}`})(i):i instanceof ss?(function(n){return n.op.toString()+" {"+n.getFilters().map(Bb).join(" ,")+"}"})(i):"Filter"}class WN extends jt{constructor(e,n,r){super(e,n,r),this.key=be.fromName(r.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class eR extends jt{constructor(e,n){super(e,"in",n),this.keys=qb("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class tR extends jt{constructor(e,n){super(e,"not-in",n),this.keys=qb("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function qb(i,e){return(e.arrayValue?.values||[]).map((n=>be.fromName(n.referenceValue)))}class nR extends jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Np(n)&&Wo(n.arrayValue,this.value)}}class sR extends jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Wo(this.value.arrayValue,n)}}class iR extends jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Wo(this.value.arrayValue,n)}}class rR extends jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Np(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Wo(this.value.arrayValue,r)))}}class aR{constructor(e,n=null,r=[],l=[],c=null,f=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=f,this.endAt=g,this.Te=null}}function D_(i,e=null,n=[],r=[],l=null,c=null,f=null){return new aR(i,e,n,r,l,c,f)}function Rp(i){const e=Re(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Qm(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),Jh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>yl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>yl(r))).join(",")),e.Te=n}return e.Te}function Cp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!JN(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!zb(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!j_(i.startAt,e.startAt)&&j_(i.endAt,e.endAt)}function Km(i){return be.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class Al{constructor(e,n=null,r=[],l=[],c=null,f="F",g=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=f,this.startAt=g,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function lR(i,e,n,r,l,c,f,g){return new Al(i,e,n,r,l,c,f,g)}function Hb(i){return new Al(i)}function O_(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Fb(i){return i.collectionGroup!==null}function Fo(i){const e=Re(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new Vt(Kt.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((v=>{v.isInequality()&&(g=g.add(v.field))}))})),g})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new ec(c,r))})),n.has(Kt.keyField().canonicalString())||e.Ie.push(new ec(Kt.keyField(),r))}return e.Ie}function Cs(i){const e=Re(i);return e.Ee||(e.Ee=oR(e,Fo(i))),e.Ee}function oR(i,e){if(i.limitType==="F")return D_(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new ec(l.field,c)}));const n=i.endAt?new Nh(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new Nh(i.startAt.position,i.startAt.inclusive):null;return D_(i.path,i.collectionGroup,e,i.filters,i.limit,n,r)}}function $m(i,e){const n=i.filters.concat([e]);return new Al(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Xm(i,e,n){return new Al(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Wh(i,e){return Cp(Cs(i),Cs(e))&&i.limitType===e.limitType}function Gb(i){return`${Rp(Cs(i))}|lt:${i.limitType}`}function nl(i){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((l=>Bb(l))).join(", ")}]`),Jh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((l=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(l))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((l=>yl(l))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((l=>yl(l))).join(",")),`Target(${r})`})(Cs(i))}; limitType=${i.limitType})`}function ed(i,e){return e.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):be.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(i,e)&&(function(r,l){for(const c of Fo(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(i,e)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(i,e)&&(function(r,l){return!(r.startAt&&!(function(f,g,p){const v=I_(f,g,p);return f.inclusive?v<=0:v<0})(r.startAt,Fo(r),l)||r.endAt&&!(function(f,g,p){const v=I_(f,g,p);return f.inclusive?v>=0:v>0})(r.endAt,Fo(r),l))})(i,e)}function cR(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Yb(i){return(e,n)=>{let r=!1;for(const l of Fo(i)){const c=uR(l,e,n);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function uR(i,e,n){const r=i.field.isKeyField()?be.comparator(e.key,n.key):(function(c,f,g){const p=f.data.field(c),v=g.data.field(c);return p!==null&&v!==null?gl(p,v):Se(42886)})(i.field,e,n);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return Se(19790,{direction:i.dir})}}class oa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[n]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){yr(this.inner,((n,r)=>{for(const[l,c]of r)e(l,c)}))}isEmpty(){return Rb(this.inner)}size(){return this.innerSize}}const hR=new ft(be.comparator);function pi(){return hR}const Qb=new ft(be.comparator);function Lo(...i){let e=Qb;for(const n of i)e=e.insert(n.key,n);return e}function Kb(i){let e=Qb;return i.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Jr(){return Go()}function $b(){return Go()}function Go(){return new oa((i=>i.toString()),((i,e)=>i.isEqual(e)))}const dR=new ft(be.comparator),fR=new Vt(be.comparator);function qe(...i){let e=fR;for(const n of i)e=e.add(n);return e}const mR=new Vt(Be);function pR(){return mR}function Ip(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sh(e)?"-0":e}}function Xb(i){return{integerValue:""+i}}function gR(i,e){return HN(e)?Xb(e):Ip(i,e)}class td{constructor(){this._=void 0}}function yR(i,e,n){return i instanceof tc?(function(l,c){const f={fields:{[jb]:{stringValue:Ib},[Ob]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Ap(c)&&(c=Zh(c)),c&&(f.fields[Db]=c),{mapValue:f}})(n,e):i instanceof nc?Zb(i,e):i instanceof sc?Wb(i,e):(function(l,c){const f=Jb(l,c),g=k_(f)+k_(l.Ae);return Ym(f)&&Ym(l.Ae)?Xb(g):Ip(l.serializer,g)})(i,e)}function vR(i,e,n){return i instanceof nc?Zb(i,e):i instanceof sc?Wb(i,e):n}function Jb(i,e){return i instanceof Rh?(function(r){return Ym(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class tc extends td{}class nc extends td{constructor(e){super(),this.elements=e}}function Zb(i,e){const n=e1(e);for(const r of i.elements)n.some((l=>Vs(l,r)))||n.push(r);return{arrayValue:{values:n}}}class sc extends td{constructor(e){super(),this.elements=e}}function Wb(i,e){let n=e1(e);for(const r of i.elements)n=n.filter((l=>!Vs(l,r)));return{arrayValue:{values:n}}}class Rh extends td{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function k_(i){return xt(i.integerValue||i.doubleValue)}function e1(i){return Np(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class _R{constructor(e,n){this.field=e,this.transform=n}}function xR(i,e){return i.field.isEqual(e.field)&&(function(r,l){return r instanceof nc&&l instanceof nc||r instanceof sc&&l instanceof sc?pl(r.elements,l.elements,Vs):r instanceof Rh&&l instanceof Rh?Vs(r.Ae,l.Ae):r instanceof tc&&l instanceof tc})(i.transform,e.transform)}class bR{constructor(e,n){this.version=e,this.transformResults=n}}class ns{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ns}static exists(e){return new ns(void 0,e)}static updateTime(e){return new ns(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class nd{}function t1(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new jp(i.key,ns.none()):new dc(i.key,i.data,ns.none());{const n=i.data,r=mn.empty();let l=new Vt(Kt.comparator);for(let c of e.fields)if(!l.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?r.delete(c):r.set(c,f),l=l.add(c)}return new vr(i.key,r,new wn(l.toArray()),ns.none())}}function ER(i,e,n){i instanceof dc?(function(l,c,f){const g=l.value.clone(),p=V_(l.fieldTransforms,c,f.transformResults);g.setAll(p),c.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(i,e,n):i instanceof vr?(function(l,c,f){if(!hh(l.precondition,c))return void c.convertToUnknownDocument(f.version);const g=V_(l.fieldTransforms,c,f.transformResults),p=c.data;p.setAll(n1(l)),p.setAll(g),c.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(i,e,n):(function(l,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Yo(i,e,n,r){return i instanceof dc?(function(c,f,g,p){if(!hh(c.precondition,f))return g;const v=c.value.clone(),b=P_(c.fieldTransforms,p,f);return v.setAll(b),f.convertToFoundDocument(f.version,v).setHasLocalMutations(),null})(i,e,n,r):i instanceof vr?(function(c,f,g,p){if(!hh(c.precondition,f))return g;const v=P_(c.fieldTransforms,p,f),b=f.data;return b.setAll(n1(c)),b.setAll(v),f.convertToFoundDocument(f.version,b).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(i,e,n,r):(function(c,f,g){return hh(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g})(i,e,n)}function TR(i,e){let n=null;for(const r of i.fieldTransforms){const l=e.data.field(r.field),c=Jb(r.transform,l||null);c!=null&&(n===null&&(n=mn.empty()),n.set(r.field,c))}return n||null}function M_(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&pl(r,l,((c,f)=>xR(c,f)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class dc extends nd{constructor(e,n,r,l=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class vr extends nd{constructor(e,n,r,l,c=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function n1(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=i.data.field(n);e.set(n,r)}})),e}function V_(i,e,n){const r=new Map;Xe(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let l=0;l<n.length;l++){const c=i[l],f=c.transform,g=e.data.field(c.field);r.set(c.field,vR(f,g,n[l]))}return r}function P_(i,e,n){const r=new Map;for(const l of i){const c=l.transform,f=n.data.field(l.field);r.set(l.field,yR(c,f,e))}return r}class jp extends nd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class SR extends nd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class wR{constructor(e,n,r,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&ER(c,e,r[l])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Yo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Yo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=$b();return this.mutations.forEach((l=>{const c=e.get(l.key),f=c.overlayedDocument;let g=this.applyToLocalView(f,c.mutatedFields);g=n.has(l.key)?null:g;const p=t1(f,g);p!==null&&r.set(l.key,p),f.isValidDocument()||f.convertToNoDocument(Ae.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),qe())}isEqual(e){return this.batchId===e.batchId&&pl(this.mutations,e.mutations,((n,r)=>M_(n,r)))&&pl(this.baseMutations,e.baseMutations,((n,r)=>M_(n,r)))}}class Dp{constructor(e,n,r,l){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=l}static from(e,n,r){Xe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return dR})();const c=e.mutations;for(let f=0;f<c.length;f++)l=l.insert(c[f].key,r[f].version);return new Dp(e,n,r,l)}}class AR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class NR{constructor(e,n){this.count=e,this.unchangedNames=n}}var It,Fe;function RR(i){switch(i){case ne.OK:return Se(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Se(15467,{code:i})}}function s1(i){if(i===void 0)return mi("GRPC error has no .code"),ne.UNKNOWN;switch(i){case It.OK:return ne.OK;case It.CANCELLED:return ne.CANCELLED;case It.UNKNOWN:return ne.UNKNOWN;case It.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case It.INTERNAL:return ne.INTERNAL;case It.UNAVAILABLE:return ne.UNAVAILABLE;case It.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case It.NOT_FOUND:return ne.NOT_FOUND;case It.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case It.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case It.ABORTED:return ne.ABORTED;case It.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case It.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case It.DATA_LOSS:return ne.DATA_LOSS;default:return Se(39323,{code:i})}}(Fe=It||(It={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";function CR(){return new TextEncoder}const IR=new lr([4294967295,4294967295],0);function L_(i){const e=CR().encode(i),n=new yb;return n.update(e),new Uint8Array(n.digest())}function U_(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new lr([n,r],0),new lr([l,c],0)]}class Op{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Uo(`Invalid padding: ${n}`);if(r<0)throw new Uo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Uo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Uo(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=lr.fromNumber(this.ge)}ye(e,n,r){let l=e.add(n.multiply(lr.fromNumber(r)));return l.compare(IR)===1&&(l=new lr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=L_(e),[r,l]=U_(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(r,l,c);if(!this.we(f))return!1}return!0}static create(e,n,r){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new Op(c,l,n);return r.forEach((g=>f.insert(g))),f}insert(e){if(this.ge===0)return;const n=L_(e),[r,l]=U_(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(r,l,c);this.Se(f)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Uo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class sd{constructor(e,n,r,l,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const l=new Map;return l.set(e,fc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new sd(Ae.min(),l,new ft(Be),pi(),qe())}}class fc{constructor(e,n,r,l,c){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new fc(r,n,qe(),qe(),qe())}}class dh{constructor(e,n,r,l){this.be=e,this.removedTargetIds=n,this.key=r,this.De=l}}class i1{constructor(e,n){this.targetId=e,this.Ce=n}}class r1{constructor(e,n,r=$t.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=l}}class z_{constructor(){this.ve=0,this.Fe=B_(),this.Me=$t.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=qe(),n=qe(),r=qe();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:r=r.add(l);break;default:Se(38017,{changeType:c})}})),new fc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=B_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class jR{constructor(e){this.Ge=e,this.ze=new Map,this.je=pi(),this.Je=eh(),this.He=eh(),this.Ye=new ft(Be)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,r=e.Ce.count,l=this.ot(n);if(l){const c=l.target;if(Km(c))if(r===0){const f=new be(c.path);this.et(n,f,Wt.newNoDocument(f,Ae.min()))}else Xe(r===1,20013,{expectedCount:r});else{const f=this._t(n);if(f!==r){const g=this.ut(e),p=g?this.ct(g,e,f):1;if(p!==0){this.it(n);const v=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,v)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=n;let f,g;try{f=fr(r).toUint8Array()}catch(p){if(p instanceof Cb)return ml("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new Op(f,l,c)}catch(p){return ml(p instanceof Uo?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.ge===0?null:g}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let l=0;return r.forEach((c=>{const f=this.Ge.ht(),g=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(n,c,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((c,f)=>{const g=this.ot(f);if(g){if(c.current&&Km(g.target)){const p=new be(g.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,Wt.newNoDocument(p,e))}c.Be&&(n.set(f,c.ke()),c.qe())}}));let r=qe();this.He.forEach(((c,f)=>{let g=!0;f.forEachWhile((p=>{const v=this.ot(p);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(c))})),this.je.forEach(((c,f)=>f.setReadTime(e)));const l=new sd(e,n,this.Ye,this.je,r);return this.je=pi(),this.Je=eh(),this.He=eh(),this.Ye=new ft(Be),l}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new z_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Vt(Be),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Vt(Be),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new z_),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function eh(){return new ft(be.comparator)}function B_(){return new ft(be.comparator)}const DR={asc:"ASCENDING",desc:"DESCENDING"},OR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kR={and:"AND",or:"OR"};class MR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Jm(i,e){return i.useProto3Json||Jh(e)?e:{value:e}}function Ch(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function a1(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function VR(i,e){return Ch(i,e.toTimestamp())}function Is(i){return Xe(!!i,49232),Ae.fromTimestamp((function(n){const r=dr(n);return new ot(r.seconds,r.nanos)})(i))}function kp(i,e){return Zm(i,e).canonicalString()}function Zm(i,e){const n=(function(l){return new rt(["projects",l.projectId,"databases",l.database])})(i).child("documents");return e===void 0?n:n.child(e)}function l1(i){const e=rt.fromString(i);return Xe(d1(e),10190,{key:e.toString()}),e}function Wm(i,e){return kp(i.databaseId,e.path)}function Rm(i,e){const n=l1(e);if(n.get(1)!==i.databaseId.projectId)throw new fe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new fe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new be(c1(n))}function o1(i,e){return kp(i.databaseId,e)}function PR(i){const e=l1(i);return e.length===4?rt.emptyPath():c1(e)}function ep(i){return new rt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function c1(i){return Xe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function q_(i,e,n){return{name:Wm(i,e),fields:n.value.mapValue.fields}}function LR(i,e){let n;if("targetChange"in e){e.targetChange;const r=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Se(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(v,b){return v.useProto3Json?(Xe(b===void 0||typeof b=="string",58123),$t.fromBase64String(b||"")):(Xe(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),$t.fromUint8Array(b||new Uint8Array))})(i,e.targetChange.resumeToken),f=e.targetChange.cause,g=f&&(function(v){const b=v.code===void 0?ne.UNKNOWN:s1(v.code);return new fe(b,v.message||"")})(f);n=new r1(r,l,c,g||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=Rm(i,r.document.name),c=Is(r.document.updateTime),f=r.document.createTime?Is(r.document.createTime):Ae.min(),g=new mn({mapValue:{fields:r.document.fields}}),p=Wt.newFoundDocument(l,c,f,g),v=r.targetIds||[],b=r.removedTargetIds||[];n=new dh(v,b,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=Rm(i,r.document),c=r.readTime?Is(r.readTime):Ae.min(),f=Wt.newNoDocument(l,c),g=r.removedTargetIds||[];n=new dh([],g,f.key,f)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=Rm(i,r.document),c=r.removedTargetIds||[];n=new dh([],c,l,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,f=new NR(l,c),g=r.targetId;n=new i1(g,f)}}return n}function UR(i,e){let n;if(e instanceof dc)n={update:q_(i,e.key,e.value)};else if(e instanceof jp)n={delete:Wm(i,e.key)};else if(e instanceof vr)n={update:q_(i,e.key,e.data),updateMask:KR(e.fieldMask)};else{if(!(e instanceof SR))return Se(16599,{Vt:e.type});n={verify:Wm(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(c,f){const g=f.transform;if(g instanceof tc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof nc)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof sc)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Rh)return{fieldPath:f.field.canonicalString(),increment:g.Ae};throw Se(20930,{transform:f.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:VR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Se(27497)})(i,e.precondition)),n}function zR(i,e){return i&&i.length>0?(Xe(e!==void 0,14353),i.map((n=>(function(l,c){let f=l.updateTime?Is(l.updateTime):Is(c);return f.isEqual(Ae.min())&&(f=Is(c)),new bR(f,l.transformResults||[])})(n,e)))):[]}function BR(i,e){return{documents:[o1(i,e.path)]}}function qR(i,e){const n={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=o1(i,l);const c=(function(v){if(v.length!==0)return h1(ss.create(v,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const f=(function(v){if(v.length!==0)return v.map((b=>(function(C){return{field:sl(C.field),direction:GR(C.dir)}})(b)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const g=Jm(i,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:n,parent:l}}function HR(i){let e=PR(i.parent);const n=i.structuredQuery,r=n.from?n.from.length:0;let l=null;if(r>0){Xe(r===1,65062);const b=n.from[0];b.allDescendants?l=b.collectionId:e=e.child(b.collectionId)}let c=[];n.where&&(c=(function(S){const C=u1(S);return C instanceof ss&&Ub(C)?C.getFilters():[C]})(n.where));let f=[];n.orderBy&&(f=(function(S){return S.map((C=>(function(Q){return new ec(il(Q.field),(function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Q.direction))})(C)))})(n.orderBy));let g=null;n.limit&&(g=(function(S){let C;return C=typeof S=="object"?S.value:S,Jh(C)?null:C})(n.limit));let p=null;n.startAt&&(p=(function(S){const C=!!S.before,P=S.values||[];return new Nh(P,C)})(n.startAt));let v=null;return n.endAt&&(v=(function(S){const C=!S.before,P=S.values||[];return new Nh(P,C)})(n.endAt)),lR(e,l,f,c,g,"F",p,v)}function FR(i,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function u1(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=il(n.unaryFilter.field);return jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=il(n.unaryFilter.field);return jt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=il(n.unaryFilter.field);return jt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=il(n.unaryFilter.field);return jt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(i):i.fieldFilter!==void 0?(function(n){return jt.create(il(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return ss.create(n.compositeFilter.filters.map((r=>u1(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(n.compositeFilter.op))})(i):Se(30097,{filter:i})}function GR(i){return DR[i]}function YR(i){return OR[i]}function QR(i){return kR[i]}function sl(i){return{fieldPath:i.canonicalString()}}function il(i){return Kt.fromServerFormat(i.fieldPath)}function h1(i){return i instanceof jt?(function(n){if(n.op==="=="){if(C_(n.value))return{unaryFilter:{field:sl(n.field),op:"IS_NAN"}};if(R_(n.value))return{unaryFilter:{field:sl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(C_(n.value))return{unaryFilter:{field:sl(n.field),op:"IS_NOT_NAN"}};if(R_(n.value))return{unaryFilter:{field:sl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sl(n.field),op:YR(n.op),value:n.value}}})(i):i instanceof ss?(function(n){const r=n.getFilters().map((l=>h1(l)));return r.length===1?r[0]:{compositeFilter:{op:QR(n.op),filters:r}}})(i):Se(54877,{filter:i})}function KR(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function d1(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class ir{constructor(e,n,r,l,c=Ae.min(),f=Ae.min(),g=$t.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(e){return new ir(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class $R{constructor(e){this.yt=e}}function XR(i){const e=HR({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Xm(e,e.limit,"L"):e}class JR{constructor(){this.Cn=new ZR}addToCollectionParentIndex(e,n){return this.Cn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(hr.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(hr.min())}updateCollectionGroup(e,n,r){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class ZR{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n]||new Vt(rt.comparator),c=!l.has(r);return this.index[n]=l.add(r),c}has(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n];return l&&l.has(r)}getEntries(e){return(this.index[e]||new Vt(rt.comparator)).toArray()}}const H_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},f1=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(f1,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class vl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new vl(0)}static cr(){return new vl(-1)}}const F_="LruGarbageCollector",WR=1048576;function G_([i,e],[n,r]){const l=Be(i,n);return l===0?Be(e,r):l}class eC{constructor(e){this.Ir=e,this.buffer=new Vt(G_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();G_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class tC{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){me(F_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){wl(n)?me(F_,"Ignoring IndexedDB error during garbage collection: ",n):await Sl(n)}await this.Vr(3e5)}))}}class nC{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return re.resolve(Xh.ce);const r=new eC(n);return this.mr.forEachTarget(e,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(H_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),H_):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,l,c,f,g,p,v;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,f=Date.now(),this.nthSequenceNumber(e,l)))).next((S=>(r=S,g=Date.now(),this.removeTargets(e,r,n)))).next((S=>(c=S,p=Date.now(),this.removeOrphanedDocuments(e,r)))).next((S=>(v=Date.now(),tl()<=ze.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-b}ms
	Determined least recently used ${l} in `+(g-f)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${S} documents in `+(v-p)+`ms
Total Duration: ${v-b}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function sC(i,e){return new nC(i,e)}class iC{constructor(){this.changes=new oa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?re.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class rC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class aC{constructor(e,n,r,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(r!==null&&Yo(r.mutation,l,wn.empty(),ot.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,qe()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=qe()){const l=Jr();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,r).next((c=>{let f=Lo();return c.forEach(((g,p)=>{f=f.insert(g,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const r=Jr();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,qe())))}populateOverlays(e,n,r){const l=[];return r.forEach((c=>{n.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((f,g)=>{n.set(f,g)}))}))}computeViews(e,n,r,l){let c=pi();const f=Go(),g=(function(){return Go()})();return n.forEach(((p,v)=>{const b=r.get(v.key);l.has(v.key)&&(b===void 0||b.mutation instanceof vr)?c=c.insert(v.key,v):b!==void 0?(f.set(v.key,b.mutation.getFieldMask()),Yo(b.mutation,v,b.mutation.getFieldMask(),ot.now())):f.set(v.key,wn.empty())})),this.recalculateAndSaveOverlays(e,c).next((p=>(p.forEach(((v,b)=>f.set(v,b))),n.forEach(((v,b)=>g.set(v,new rC(b,f.get(v)??null)))),g)))}recalculateAndSaveOverlays(e,n){const r=Go();let l=new ft(((f,g)=>f-g)),c=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const g of f)g.keys().forEach((p=>{const v=n.get(p);if(v===null)return;let b=r.get(p)||wn.empty();b=g.applyToLocalView(v,b),r.set(p,b);const S=(l.get(g.batchId)||qe()).add(p);l=l.insert(g.batchId,S)}))})).next((()=>{const f=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),v=p.key,b=p.value,S=$b();b.forEach((C=>{if(!c.has(C)){const P=t1(n.get(C),r.get(C));P!==null&&S.set(C,P),c=c.add(C)}})),f.push(this.documentOverlayCache.saveOverlays(e,v,S))}return re.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,l){return(function(f){return be.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Fb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,l):this.getDocumentsMatchingCollectionQuery(e,n,r,l)}getNextDocuments(e,n,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,l).next((c=>{const f=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,l-c.size):re.resolve(Jr());let g=Xo,p=c;return f.next((v=>re.forEach(v,((b,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),c.get(b)?re.resolve():this.remoteDocumentCache.getEntry(e,b).next((C=>{p=p.insert(b,C)}))))).next((()=>this.populateOverlays(e,v,c))).next((()=>this.computeViews(e,p,v,qe()))).next((b=>({batchId:g,changes:Kb(b)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next((r=>{let l=Lo();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,l){const c=n.collectionGroup;let f=Lo();return this.indexManager.getCollectionParents(e,c).next((g=>re.forEach(g,(p=>{const v=(function(S,C){return new Al(C,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,v,r,l).next((b=>{b.forEach(((S,C)=>{f=f.insert(S,C)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,c,l)))).next((f=>{c.forEach(((p,v)=>{const b=v.getKey();f.get(b)===null&&(f=f.insert(b,Wt.newInvalidDocument(b)))}));let g=Lo();return f.forEach(((p,v)=>{const b=c.get(p);b!==void 0&&Yo(b.mutation,v,wn.empty(),ot.now()),ed(n,v)&&(g=g.insert(p,v))})),g}))}}class lC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return re.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Is(l.createTime)}})(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:XR(l.bundledQuery),readTime:Is(l.readTime)}})(n)),re.resolve()}}class oC{constructor(){this.overlays=new ft(be.comparator),this.qr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Jr();return re.forEach(n,(l=>this.getOverlay(e,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((l,c)=>{this.St(e,n,c)})),re.resolve()}removeOverlaysForBatchId(e,n,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),re.resolve()}getOverlaysForCollection(e,n,r){const l=Jr(),c=n.length+1,f=new be(n.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const p=g.getNext().value,v=p.getKey();if(!n.isPrefixOf(v.path))break;v.path.length===c&&p.largestBatchId>r&&l.set(p.getKey(),p)}return re.resolve(l)}getOverlaysForCollectionGroup(e,n,r,l){let c=new ft(((v,b)=>v-b));const f=this.overlays.getIterator();for(;f.hasNext();){const v=f.getNext().value;if(v.getKey().getCollectionGroup()===n&&v.largestBatchId>r){let b=c.get(v.largestBatchId);b===null&&(b=Jr(),c=c.insert(v.largestBatchId,b)),b.set(v.getKey(),v)}}const g=Jr(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((v,b)=>g.set(v,b))),!(g.size()>=l)););return re.resolve(g)}St(e,n,r){const l=this.overlays.get(r.key);if(l!==null){const f=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new AR(n,r));let c=this.qr.get(n);c===void 0&&(c=qe(),this.qr.set(n,c)),this.qr.set(n,c.add(r.key))}}class cC{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}class Mp{constructor(){this.Qr=new Vt(zt.$r),this.Ur=new Vt(zt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new zt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new zt(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new be(new rt([])),r=new zt(n,e),l=new zt(n,e+1),c=[];return this.Ur.forEachInRange([r,l],(f=>{this.Gr(f),c.push(f.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new be(new rt([])),r=new zt(n,e),l=new zt(n,e+1);let c=qe();return this.Ur.forEachInRange([r,l],(f=>{c=c.add(f.key)})),c}containsKey(e){const n=new zt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class zt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return be.comparator(e.key,n.key)||Be(e.Yr,n.Yr)}static Kr(e,n){return Be(e.Yr,n.Yr)||be.comparator(e.key,n.key)}}class uC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Vt(zt.$r)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new wR(c,n,r,l);this.mutationQueue.push(f);for(const g of l)this.Zr=this.Zr.add(new zt(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return re.resolve(f)}lookupMutationBatch(e,n){return re.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,l=this.ei(r),c=l<0?0:l;return re.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?wp:this.tr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new zt(n,0),l=new zt(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,l],(f=>{const g=this.Xr(f.Yr);c.push(g)})),re.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Vt(Be);return n.forEach((l=>{const c=new zt(l,0),f=new zt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,f],(g=>{r=r.add(g.Yr)}))})),re.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,l=r.length+1;let c=r;be.isDocumentKey(c)||(c=c.child(""));const f=new zt(new be(c),0);let g=new Vt(Be);return this.Zr.forEachWhile((p=>{const v=p.key.path;return!!r.isPrefixOf(v)&&(v.length===l&&(g=g.add(p.Yr)),!0)}),f),re.resolve(this.ti(g))}ti(e){const n=[];return e.forEach((r=>{const l=this.Xr(r);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){Xe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return re.forEach(n.mutations,(l=>{const c=new zt(l.key,n.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new zt(n,0),l=this.Zr.firstAfterOrEqual(r);return re.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class hC{constructor(e){this.ri=e,this.docs=(function(){return new ft(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,l=this.docs.get(r),c=l?l.size:0,f=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return re.resolve(r?r.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let r=pi();return n.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():Wt.newInvalidDocument(l))})),re.resolve(r)}getDocumentsMatchingQuery(e,n,r,l){let c=pi();const f=n.path,g=new be(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:v,value:{document:b}}=p.getNext();if(!f.isPrefixOf(v.path))break;v.path.length>f.length+1||UN(LN(b),r)<=0||(l.has(b.key)||ed(n,b))&&(c=c.insert(b.key,b.mutableCopy()))}return re.resolve(c)}getAllFromCollectionGroup(e,n,r,l){Se(9500)}ii(e,n){return re.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new dC(this)}getSize(e){return re.resolve(this.size)}}class dC extends iC{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(r)})),re.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class fC{constructor(e){this.persistence=e,this.si=new oa((n=>Rp(n)),Cp),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new Mp,this.targetCount=0,this.ai=vl.ur()}forEachTarget(e,n){return this.si.forEach(((r,l)=>n(l))),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),re.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new vl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.Pr(n),re.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,r){let l=0;const c=[];return this.si.forEach(((f,g)=>{g.sequenceNumber<=n&&r.get(g.targetId)===null&&(this.si.delete(f),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)})),re.waitFor(c).next((()=>l))}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return re.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),re.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach((f=>{c.push(l.markPotentiallyOrphaned(e,f))})),re.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return re.resolve(r)}containsKey(e,n){return re.resolve(this._i.containsKey(n))}}class m1{constructor(e,n){this.ui={},this.overlays={},this.ci=new Xh(0),this.li=!1,this.li=!0,this.hi=new cC,this.referenceDelegate=e(this),this.Pi=new fC(this),this.indexManager=new JR,this.remoteDocumentCache=(function(l){return new hC(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new $R(n),this.Ii=new lC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new oC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new uC(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){me("MemoryPersistence","Starting transaction:",e);const l=new mC(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,n){return re.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class mC extends BN{constructor(e){super(),this.currentSequenceNumber=e}}class Vp{constructor(e){this.persistence=e,this.Ri=new Mp,this.Vi=null}static mi(e){return new Vp(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),re.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),re.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.fi,(r=>{const l=be.fromPath(r);return this.gi(e,l).next((c=>{c||n.removeEntry(l,Ae.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return re.or([()=>re.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ih{constructor(e,n){this.persistence=e,this.pi=new oa((r=>FN(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=sC(this,n)}static mi(e,n){return new Ih(e,n)}Ei(){}di(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((l=>r+l))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return re.forEach(this.pi,((r,l)=>this.br(e,r,l).next((c=>c?re.resolve():n(l)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(f=>this.br(e,f,n).next((g=>{g||(r++,c.removeEntry(f,Ae.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),re.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ch(e.data.value)),n}br(e,n,r){return re.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.pi.get(n);return re.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Pp{constructor(e,n,r,l){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=l}static As(e,n){let r=qe(),l=qe();for(const c of n.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Pp(e,n.fromCache,r,l)}}class pC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class gC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return o2()?8:qN(en())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,l){const c={result:null};return this.ys(e,n).next((f=>{c.result=f})).next((()=>{if(!c.result)return this.ws(e,n,l,r).next((f=>{c.result=f}))})).next((()=>{if(c.result)return;const f=new pC;return this.Ss(e,n,f).next((g=>{if(c.result=g,this.Vs)return this.bs(e,n,f,g.size)}))})).next((()=>c.result))}bs(e,n,r,l){return r.documentReadCount<this.fs?(tl()<=ze.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",nl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),re.resolve()):(tl()<=ze.DEBUG&&me("QueryEngine","Query:",nl(n),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(tl()<=ze.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",nl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Cs(n))):re.resolve())}ys(e,n){if(O_(n))return re.resolve(null);let r=Cs(n);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=Xm(n,null,"F"),r=Cs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const f=qe(...c);return this.ps.getDocuments(e,f).next((g=>this.indexManager.getMinOffset(e,r).next((p=>{const v=this.Ds(n,g);return this.Cs(n,v,f,p.readTime)?this.ys(e,Xm(n,null,"F")):this.vs(e,v,n,p)}))))})))))}ws(e,n,r,l){return O_(n)||l.isEqual(Ae.min())?re.resolve(null):this.ps.getDocuments(e,r).next((c=>{const f=this.Ds(n,c);return this.Cs(n,f,r,l)?re.resolve(null):(tl()<=ze.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),nl(n)),this.vs(e,f,n,PN(l,Xo)).next((g=>g)))}))}Ds(e,n){let r=new Vt(Yb(e));return n.forEach(((l,c)=>{ed(e,c)&&(r=r.add(c))})),r}Cs(e,n,r,l){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,n,r){return tl()<=ze.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",nl(n)),this.ps.getDocumentsMatchingQuery(e,n,hr.min(),r)}vs(e,n,r,l){return this.ps.getDocumentsMatchingQuery(e,r,l).next((c=>(n.forEach((f=>{c=c.insert(f.key,f)})),c)))}}const Lp="LocalStore",yC=3e8;class vC{constructor(e,n,r,l){this.persistence=e,this.Fs=n,this.serializer=l,this.Ms=new ft(Be),this.xs=new oa((c=>Rp(c)),Cp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function _C(i,e,n,r){return new vC(i,e,n,r)}async function p1(i,e){const n=Re(i);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return n.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((c=>{const f=[],g=[];let p=qe();for(const v of l){f.push(v.batchId);for(const b of v.mutations)p=p.add(b.key)}for(const v of c){g.push(v.batchId);for(const b of v.mutations)p=p.add(b.key)}return n.localDocuments.getDocuments(r,p).next((v=>({Ls:v,removedBatchIds:f,addedBatchIds:g})))}))}))}function xC(i,e){const n=Re(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,p,v,b){const S=v.batch,C=S.keys();let P=re.resolve();return C.forEach((Q=>{P=P.next((()=>b.getEntry(p,Q))).next((J=>{const B=v.docVersions.get(Q);Xe(B!==null,48541),J.version.compareTo(B)<0&&(S.applyToRemoteDocument(J,v),J.isValidDocument()&&(J.setReadTime(v.commitVersion),b.addEntry(J)))}))})),P.next((()=>g.mutationQueue.removeMutationBatch(p,S)))})(n,r,e,c).next((()=>c.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let p=qe();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(p=p.add(g.batch.mutations[v].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(r,l)))}))}function g1(i){const e=Re(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function bC(i,e){const n=Re(i),r=e.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const g=[];e.targetChanges.forEach(((b,S)=>{const C=l.get(S);if(!C)return;g.push(n.Pi.removeMatchingKeys(c,b.removedDocuments,S).next((()=>n.Pi.addMatchingKeys(c,b.addedDocuments,S))));let P=C.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?P=P.withResumeToken($t.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):b.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(b.resumeToken,r)),l=l.insert(S,P),(function(J,B,se){return J.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=yC?!0:se.addedDocuments.size+se.modifiedDocuments.size+se.removedDocuments.size>0})(C,P,b)&&g.push(n.Pi.updateTargetData(c,P))}));let p=pi(),v=qe();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,b))})),g.push(EC(c,f,e.documentUpdates).next((b=>{p=b.ks,v=b.qs}))),!r.isEqual(Ae.min())){const b=n.Pi.getLastRemoteSnapshotVersion(c).next((S=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));g.push(b)}return re.waitFor(g).next((()=>f.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,p,v))).next((()=>p))})).then((c=>(n.Ms=l,c)))}function EC(i,e,n){let r=qe(),l=qe();return n.forEach((c=>r=r.add(c))),e.getEntries(i,r).next((c=>{let f=pi();return n.forEach(((g,p)=>{const v=c.get(g);p.isFoundDocument()!==v.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(Ae.min())?(e.removeEntry(g,p.readTime),f=f.insert(g,p)):!v.isValidDocument()||p.version.compareTo(v.version)>0||p.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(p),f=f.insert(g,p)):me(Lp,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",p.version)})),{ks:f,qs:l}}))}function TC(i,e){const n=Re(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=wp),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function SC(i,e){const n=Re(i);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return n.Pi.getTargetData(r,e).next((c=>c?(l=c,re.resolve(l)):n.Pi.allocateTargetId(r).next((f=>(l=new ir(e,f,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=n.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function tp(i,e,n){const r=Re(i),l=r.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",c,(f=>r.persistence.referenceDelegate.removeTarget(f,l)))}catch(f){if(!wl(f))throw f;me(Lp,`Failed to update sequence numbers for target ${e}: ${f}`)}r.Ms=r.Ms.remove(e),r.xs.delete(l.target)}function Y_(i,e,n){const r=Re(i);let l=Ae.min(),c=qe();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,v,b){const S=Re(p),C=S.xs.get(b);return C!==void 0?re.resolve(S.Ms.get(C)):S.Pi.getTargetData(v,b)})(r,f,Cs(e)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(f,g.targetId).next((p=>{c=p}))})).next((()=>r.Fs.getDocumentsMatchingQuery(f,e,n?l:Ae.min(),n?c:qe()))).next((g=>(wC(r,cR(e),g),{documents:g,Qs:c})))))}function wC(i,e,n){let r=i.Os.get(e)||Ae.min();n.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),i.Os.set(e,r)}class Q_{constructor(){this.activeTargetIds=pR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class AC{constructor(){this.Mo=new Q_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Q_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class NC{Oo(e){}shutdown(){}}const K_="ConnectivityMonitor";class $_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){me(K_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){me(K_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let th=null;function np(){return th===null?th=(function(){return 268435456+Math.round(2147483648*Math.random())})():th++,"0x"+th.toString(16)}const Cm="RestConnection",RC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class CC{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===wh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(e,n,r,l,c){const f=np(),g=this.zo(e,n.toUriEncodedString());me(Cm,`Sending RPC '${e}' ${f}:`,g,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,l,c);const{host:v}=new URL(g),b=aa(v);return this.Jo(e,g,p,r,b).then((S=>(me(Cm,`Received RPC '${e}' ${f}: `,S),S)),(S=>{throw ml(Cm,`RPC '${e}' ${f} failed with error: `,S,"url: ",g,"request:",r),S}))}Ho(e,n,r,l,c,f){return this.Go(e,n,r,l,c)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Tl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,c)=>e[c]=l)),r&&r.headers.forEach(((l,c)=>e[c]=l))}zo(e,n){const r=RC[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class IC{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Jt="WebChannelConnection";class jC extends CC{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,l,c){const f=np();return new Promise(((g,p)=>{const v=new vb;v.setWithCredentials(!0),v.listenOnce(_b.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case oh.NO_ERROR:const S=v.getResponseJson();me(Jt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(S)),g(S);break;case oh.TIMEOUT:me(Jt,`RPC '${e}' ${f} timed out`),p(new fe(ne.DEADLINE_EXCEEDED,"Request time out"));break;case oh.HTTP_ERROR:const C=v.getStatus();if(me(Jt,`RPC '${e}' ${f} failed with status:`,C,"response text:",v.getResponseText()),C>0){let P=v.getResponseJson();Array.isArray(P)&&(P=P[0]);const Q=P?.error;if(Q&&Q.status&&Q.message){const J=(function(se){const ie=se.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(ie)>=0?ie:ne.UNKNOWN})(Q.status);p(new fe(J,Q.message))}else p(new fe(ne.UNKNOWN,"Server responded with status "+v.getStatus()))}else p(new fe(ne.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:f,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{me(Jt,`RPC '${e}' ${f} completed.`)}}));const b=JSON.stringify(l);me(Jt,`RPC '${e}' ${f} sending request:`,l),v.send(n,"POST",b,r,15)}))}T_(e,n,r){const l=np(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Eb(),g=bb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,r),p.encodeInitMessageHeaders=!0;const b=c.join("");me(Jt,`Creating RPC '${e}' stream ${l}: ${b}`,p);const S=f.createWebChannel(b,p);this.I_(S);let C=!1,P=!1;const Q=new IC({Yo:B=>{P?me(Jt,`Not sending because RPC '${e}' stream ${l} is closed:`,B):(C||(me(Jt,`Opening RPC '${e}' stream ${l} transport.`),S.open(),C=!0),me(Jt,`RPC '${e}' stream ${l} sending:`,B),S.send(B))},Zo:()=>S.close()}),J=(B,se,ie)=>{B.listen(se,(G=>{try{ie(G)}catch(Y){setTimeout((()=>{throw Y}),0)}}))};return J(S,Po.EventType.OPEN,(()=>{P||(me(Jt,`RPC '${e}' stream ${l} transport opened.`),Q.o_())})),J(S,Po.EventType.CLOSE,(()=>{P||(P=!0,me(Jt,`RPC '${e}' stream ${l} transport closed`),Q.a_(),this.E_(S))})),J(S,Po.EventType.ERROR,(B=>{P||(P=!0,ml(Jt,`RPC '${e}' stream ${l} transport errored. Name:`,B.name,"Message:",B.message),Q.a_(new fe(ne.UNAVAILABLE,"The operation could not be completed")))})),J(S,Po.EventType.MESSAGE,(B=>{if(!P){const se=B.data[0];Xe(!!se,16349);const ie=se,G=ie?.error||ie[0]?.error;if(G){me(Jt,`RPC '${e}' stream ${l} received error:`,G);const Y=G.status;let ue=(function(E){const R=It[E];if(R!==void 0)return s1(R)})(Y),he=G.message;ue===void 0&&(ue=ne.INTERNAL,he="Unknown error status: "+Y+" with message "+G.message),P=!0,Q.a_(new fe(ue,he)),S.close()}else me(Jt,`RPC '${e}' stream ${l} received:`,se),Q.u_(se)}})),J(g,xb.STAT_EVENT,(B=>{B.stat===Hm.PROXY?me(Jt,`RPC '${e}' stream ${l} detected buffering proxy`):B.stat===Hm.NOPROXY&&me(Jt,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{Q.__()}),0),Q}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Im(){return typeof document<"u"?document:null}function id(i){return new MR(i,!0)}class y1{constructor(e,n,r=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-r);l>0&&me("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const X_="PersistentStream";class v1{constructor(e,n,r,l,c,f,g,p){this.Mi=e,this.S_=r,this.b_=l,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new y1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(mi(n.toString()),mi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===n&&this.G_(r,l)}),(r=>{e((()=>{const l=new fe(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me(X_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(me(X_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class DC extends v1{constructor(e,n,r,l,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,l,f),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=LR(this.serializer,e),r=(function(c){if(!("targetChange"in c))return Ae.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?Ae.min():f.readTime?Is(f.readTime):Ae.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=ep(this.serializer),n.addTarget=(function(c,f){let g;const p=f.target;if(g=Km(p)?{documents:BR(c,p)}:{query:qR(c,p).ft},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=a1(c,f.resumeToken);const v=Jm(c,f.expectedCount);v!==null&&(g.expectedCount=v)}else if(f.snapshotVersion.compareTo(Ae.min())>0){g.readTime=Ch(c,f.snapshotVersion.toTimestamp());const v=Jm(c,f.expectedCount);v!==null&&(g.expectedCount=v)}return g})(this.serializer,e);const r=FR(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=ep(this.serializer),n.removeTarget=e,this.q_(n)}}class OC extends v1{constructor(e,n,r,l,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,l,f),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=zR(e.writeResults,e.commitTime),r=Is(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=ep(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>UR(this.serializer,r)))};this.q_(n)}}class kC{}class MC extends kC{constructor(e,n,r,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new fe(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Go(e,Zm(n,r),l,c,f))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe(ne.UNKNOWN,c.toString())}))}Ho(e,n,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,g])=>this.connection.Ho(e,Zm(n,r),l,f,g,c))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new fe(ne.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class VC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(mi(n),this.aa=!1):me("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const sa="RemoteStore";class PC{constructor(e,n,r,l,c){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((f=>{r.enqueueAndForget((async()=>{ca(this)&&(me(sa,"Restarting streams for network reachability change."),await(async function(p){const v=Re(p);v.Ea.add(4),await mc(v),v.Ra.set("Unknown"),v.Ea.delete(4),await rd(v)})(this))}))})),this.Ra=new VC(r,l)}}async function rd(i){if(ca(i))for(const e of i.da)await e(!0)}async function mc(i){for(const e of i.da)await e(!1)}function _1(i,e){const n=Re(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),qp(n)?Bp(n):Nl(n).O_()&&zp(n,e))}function Up(i,e){const n=Re(i),r=Nl(n);n.Ia.delete(e),r.O_()&&x1(n,e),n.Ia.size===0&&(r.O_()?r.L_():ca(n)&&n.Ra.set("Unknown"))}function zp(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Nl(i).Y_(e)}function x1(i,e){i.Va.Ue(e),Nl(i).Z_(e)}function Bp(i){i.Va=new jR({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Nl(i).start(),i.Ra.ua()}function qp(i){return ca(i)&&!Nl(i).x_()&&i.Ia.size>0}function ca(i){return Re(i).Ea.size===0}function b1(i){i.Va=void 0}async function LC(i){i.Ra.set("Online")}async function UC(i){i.Ia.forEach(((e,n)=>{zp(i,e)}))}async function zC(i,e){b1(i),qp(i)?(i.Ra.ha(e),Bp(i)):i.Ra.set("Unknown")}async function BC(i,e,n){if(i.Ra.set("Online"),e instanceof r1&&e.state===2&&e.cause)try{await(async function(l,c){const f=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,f),l.Ia.delete(g),l.Va.removeTarget(g))})(i,e)}catch(r){me(sa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await jh(i,r)}else if(e instanceof dh?i.Va.Ze(e):e instanceof i1?i.Va.st(e):i.Va.tt(e),!n.isEqual(Ae.min()))try{const r=await g1(i.localStore);n.compareTo(r)>=0&&await(function(c,f){const g=c.Va.Tt(f);return g.targetChanges.forEach(((p,v)=>{if(p.resumeToken.approximateByteSize()>0){const b=c.Ia.get(v);b&&c.Ia.set(v,b.withResumeToken(p.resumeToken,f))}})),g.targetMismatches.forEach(((p,v)=>{const b=c.Ia.get(p);if(!b)return;c.Ia.set(p,b.withResumeToken($t.EMPTY_BYTE_STRING,b.snapshotVersion)),x1(c,p);const S=new ir(b.target,p,v,b.sequenceNumber);zp(c,S)})),c.remoteSyncer.applyRemoteEvent(g)})(i,n)}catch(r){me(sa,"Failed to raise snapshot:",r),await jh(i,r)}}async function jh(i,e,n){if(!wl(e))throw e;i.Ea.add(1),await mc(i),i.Ra.set("Offline"),n||(n=()=>g1(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{me(sa,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await rd(i)}))}function E1(i,e){return e().catch((n=>jh(i,n,e)))}async function ad(i){const e=Re(i),n=pr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:wp;for(;qC(e);)try{const l=await TC(e.localStore,r);if(l===null){e.Ta.length===0&&n.L_();break}r=l.batchId,HC(e,l)}catch(l){await jh(e,l)}T1(e)&&S1(e)}function qC(i){return ca(i)&&i.Ta.length<10}function HC(i,e){i.Ta.push(e);const n=pr(i);n.O_()&&n.X_&&n.ea(e.mutations)}function T1(i){return ca(i)&&!pr(i).x_()&&i.Ta.length>0}function S1(i){pr(i).start()}async function FC(i){pr(i).ra()}async function GC(i){const e=pr(i);for(const n of i.Ta)e.ea(n.mutations)}async function YC(i,e,n){const r=i.Ta.shift(),l=Dp.from(r,e,n);await E1(i,(()=>i.remoteSyncer.applySuccessfulWrite(l))),await ad(i)}async function QC(i,e){e&&pr(i).X_&&await(async function(r,l){if((function(f){return RR(f)&&f!==ne.ABORTED})(l.code)){const c=r.Ta.shift();pr(r).B_(),await E1(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await ad(r)}})(i,e),T1(i)&&S1(i)}async function J_(i,e){const n=Re(i);n.asyncQueue.verifyOperationInProgress(),me(sa,"RemoteStore received new credentials");const r=ca(n);n.Ea.add(3),await mc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await rd(n)}async function KC(i,e){const n=Re(i);e?(n.Ea.delete(2),await rd(n)):e||(n.Ea.add(2),await mc(n),n.Ra.set("Unknown"))}function Nl(i){return i.ma||(i.ma=(function(n,r,l){const c=Re(n);return c.sa(),new DC(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(i.datastore,i.asyncQueue,{Xo:LC.bind(null,i),t_:UC.bind(null,i),r_:zC.bind(null,i),H_:BC.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),qp(i)?Bp(i):i.Ra.set("Unknown")):(await i.ma.stop(),b1(i))}))),i.ma}function pr(i){return i.fa||(i.fa=(function(n,r,l){const c=Re(n);return c.sa(),new OC(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:FC.bind(null,i),r_:QC.bind(null,i),ta:GC.bind(null,i),na:YC.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await ad(i)):(await i.fa.stop(),i.Ta.length>0&&(me(sa,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class Hp{constructor(e,n,r,l,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,l,c){const f=Date.now()+r,g=new Hp(e,n,f,l,c);return g.start(r),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fp(i,e){if(mi("AsyncQueue",`${e}: ${i}`),wl(i))return new fe(ne.UNAVAILABLE,`${e}: ${i}`);throw i}class ol{static emptySet(e){return new ol(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||be.comparator(n.key,r.key):(n,r)=>be.comparator(n.key,r.key),this.keyedMap=Lo(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ol)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ol;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class Z_{constructor(){this.ga=new ft(be.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class _l{constructor(e,n,r,l,c,f,g,p,v){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=v}static fromInitialDocuments(e,n,r,l,c){const f=[];return n.forEach((g=>{f.push({type:0,doc:g})})),new _l(e,n,ol.emptySet(n),f,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==r[l].type||!n[l].doc.isEqual(r[l].doc))return!1;return!0}}class $C{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class XC{constructor(){this.queries=W_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const l=Re(n),c=l.queries;l.queries=W_(),c.forEach(((f,g)=>{for(const p of g.Sa)p.onError(r)}))})(this,new fe(ne.ABORTED,"Firestore shutting down"))}}function W_(){return new oa((i=>Gb(i)),Wh)}async function JC(i,e){const n=Re(i);let r=3;const l=e.query;let c=n.queries.get(l);c?!c.ba()&&e.Da()&&(r=2):(c=new $C,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await n.onListen(l,!0);break;case 1:c.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(f){const g=Fp(f,`Initialization of query '${nl(e.query)}' failed`);return void e.onError(g)}n.queries.set(l,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&Gp(n)}async function ZC(i,e){const n=Re(i),r=e.query;let l=3;const c=n.queries.get(r);if(c){const f=c.Sa.indexOf(e);f>=0&&(c.Sa.splice(f,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function WC(i,e){const n=Re(i);let r=!1;for(const l of e){const c=l.query,f=n.queries.get(c);if(f){for(const g of f.Sa)g.Fa(l)&&(r=!0);f.wa=l}}r&&Gp(n)}function eI(i,e,n){const r=Re(i),l=r.queries.get(e);if(l)for(const c of l.Sa)c.onError(n);r.queries.delete(e)}function Gp(i){i.Ca.forEach((e=>{e.next()}))}var sp,ex;(ex=sp||(sp={})).Ma="default",ex.Cache="cache";class tI{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new _l(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=_l.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==sp.Cache}}class w1{constructor(e){this.key=e}}class A1{constructor(e){this.key=e}}class nI{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=qe(),this.mutatedKeys=qe(),this.eu=Yb(e),this.tu=new ol(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new Z_,l=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,f=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,v=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((b,S)=>{const C=l.get(b),P=ed(this.query,S)?S:null,Q=!!C&&this.mutatedKeys.has(C.key),J=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let B=!1;C&&P?C.data.isEqual(P.data)?Q!==J&&(r.track({type:3,doc:P}),B=!0):this.su(C,P)||(r.track({type:2,doc:P}),B=!0,(p&&this.eu(P,p)>0||v&&this.eu(P,v)<0)&&(g=!0)):!C&&P?(r.track({type:0,doc:P}),B=!0):C&&!P&&(r.track({type:1,doc:C}),B=!0,(p||v)&&(g=!0)),B&&(P?(f=f.add(P),c=J?c.add(b):c.delete(b)):(f=f.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const b=this.query.limitType==="F"?f.last():f.first();f=f.delete(b.key),c=c.delete(b.key),r.track({type:1,doc:b})}return{tu:f,iu:r,Cs:g,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((b,S)=>(function(P,Q){const J=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:B})}};return J(P)-J(Q)})(b.type,S.type)||this.eu(b.doc,S.doc))),this.ou(r),l=l??!1;const g=n&&!l?this._u():[],p=this.Xa.size===0&&this.current&&!l?1:0,v=p!==this.Za;return this.Za=p,f.length!==0||v?{snapshot:new _l(this.query,e.tu,c,f,e.mutatedKeys,p===0,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Z_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=qe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new A1(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new w1(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=qe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return _l.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Yp="SyncEngine";class sI{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class iI{constructor(e){this.key=e,this.hu=!1}}class rI{constructor(e,n,r,l,c,f){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new oa((g=>Gb(g)),Wh),this.Iu=new Map,this.Eu=new Set,this.du=new ft(be.comparator),this.Au=new Map,this.Ru=new Mp,this.Vu={},this.mu=new Map,this.fu=vl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function aI(i,e,n=!0){const r=D1(i);let l;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await N1(r,e,n,!0),l}async function lI(i,e){const n=D1(i);await N1(n,e,!0,!1)}async function N1(i,e,n,r){const l=await SC(i.localStore,Cs(e)),c=l.targetId,f=i.sharedClientState.addLocalQueryTarget(c,n);let g;return r&&(g=await oI(i,e,c,f==="current",l.resumeToken)),i.isPrimaryClient&&n&&_1(i.remoteStore,l),g}async function oI(i,e,n,r,l){i.pu=(S,C,P)=>(async function(J,B,se,ie){let G=B.view.ru(se);G.Cs&&(G=await Y_(J.localStore,B.query,!1).then((({documents:w})=>B.view.ru(w,G))));const Y=ie&&ie.targetChanges.get(B.targetId),ue=ie&&ie.targetMismatches.get(B.targetId)!=null,he=B.view.applyChanges(G,J.isPrimaryClient,Y,ue);return nx(J,B.targetId,he.au),he.snapshot})(i,S,C,P);const c=await Y_(i.localStore,e,!0),f=new nI(e,c.Qs),g=f.ru(c.documents),p=fc.createSynthesizedTargetChangeForCurrentChange(n,r&&i.onlineState!=="Offline",l),v=f.applyChanges(g,i.isPrimaryClient,p);nx(i,n,v.au);const b=new sI(e,n,f);return i.Tu.set(e,b),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),v.snapshot}async function cI(i,e,n){const r=Re(i),l=r.Tu.get(e),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((f=>!Wh(f,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await tp(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),n&&Up(r.remoteStore,l.targetId),ip(r,l.targetId)})).catch(Sl)):(ip(r,l.targetId),await tp(r.localStore,l.targetId,!0))}async function uI(i,e){const n=Re(i),r=n.Tu.get(e),l=n.Iu.get(r.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Up(n.remoteStore,r.targetId))}async function hI(i,e,n){const r=vI(i);try{const l=await(function(f,g){const p=Re(f),v=ot.now(),b=g.reduce(((P,Q)=>P.add(Q.key)),qe());let S,C;return p.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let Q=pi(),J=qe();return p.Ns.getEntries(P,b).next((B=>{Q=B,Q.forEach(((se,ie)=>{ie.isValidDocument()||(J=J.add(se))}))})).next((()=>p.localDocuments.getOverlayedDocuments(P,Q))).next((B=>{S=B;const se=[];for(const ie of g){const G=TR(ie,S.get(ie.key).overlayedDocument);G!=null&&se.push(new vr(ie.key,G,Vb(G.value.mapValue),ns.exists(!0)))}return p.mutationQueue.addMutationBatch(P,v,se,g)})).next((B=>{C=B;const se=B.applyToLocalDocumentSet(S,J);return p.documentOverlayCache.saveOverlays(P,B.batchId,se)}))})).then((()=>({batchId:C.batchId,changes:Kb(S)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(f,g,p){let v=f.Vu[f.currentUser.toKey()];v||(v=new ft(Be)),v=v.insert(g,p),f.Vu[f.currentUser.toKey()]=v})(r,l.batchId,n),await pc(r,l.changes),await ad(r.remoteStore)}catch(l){const c=Fp(l,"Failed to persist write");n.reject(c)}}async function R1(i,e){const n=Re(i);try{const r=await bC(n.localStore,e);e.targetChanges.forEach(((l,c)=>{const f=n.Au.get(c);f&&(Xe(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?f.hu=!0:l.modifiedDocuments.size>0?Xe(f.hu,14607):l.removedDocuments.size>0&&(Xe(f.hu,42227),f.hu=!1))})),await pc(n,r,e)}catch(r){await Sl(r)}}function tx(i,e,n){const r=Re(i);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const l=[];r.Tu.forEach(((c,f)=>{const g=f.view.va(e);g.snapshot&&l.push(g.snapshot)})),(function(f,g){const p=Re(f);p.onlineState=g;let v=!1;p.queries.forEach(((b,S)=>{for(const C of S.Sa)C.va(g)&&(v=!0)})),v&&Gp(p)})(r.eventManager,e),l.length&&r.Pu.H_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function dI(i,e,n){const r=Re(i);r.sharedClientState.updateQueryState(e,"rejected",n);const l=r.Au.get(e),c=l&&l.key;if(c){let f=new ft(be.comparator);f=f.insert(c,Wt.newNoDocument(c,Ae.min()));const g=qe().add(c),p=new sd(Ae.min(),new Map,new ft(Be),f,g);await R1(r,p),r.du=r.du.remove(c),r.Au.delete(e),Qp(r)}else await tp(r.localStore,e,!1).then((()=>ip(r,e,n))).catch(Sl)}async function fI(i,e){const n=Re(i),r=e.batch.batchId;try{const l=await xC(n.localStore,e);I1(n,r,null),C1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await pc(n,l)}catch(l){await Sl(l)}}async function mI(i,e,n){const r=Re(i);try{const l=await(function(f,g){const p=Re(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let b;return p.mutationQueue.lookupMutationBatch(v,g).next((S=>(Xe(S!==null,37113),b=S.keys(),p.mutationQueue.removeMutationBatch(v,S)))).next((()=>p.mutationQueue.performConsistencyCheck(v))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(v,b,g))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,b))).next((()=>p.localDocuments.getDocuments(v,b)))}))})(r.localStore,e);I1(r,e,n),C1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await pc(r,l)}catch(l){await Sl(l)}}function C1(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function I1(i,e,n){const r=Re(i);let l=r.Vu[r.currentUser.toKey()];if(l){const c=l.get(e);c&&(n?c.reject(n):c.resolve(),l=l.remove(e)),r.Vu[r.currentUser.toKey()]=l}}function ip(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const r of i.Iu.get(e))i.Tu.delete(r),n&&i.Pu.yu(r,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((r=>{i.Ru.containsKey(r)||j1(i,r)}))}function j1(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(Up(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),Qp(i))}function nx(i,e,n){for(const r of n)r instanceof w1?(i.Ru.addReference(r.key,e),pI(i,r)):r instanceof A1?(me(Yp,"Document no longer in limbo: "+r.key),i.Ru.removeReference(r.key,e),i.Ru.containsKey(r.key)||j1(i,r.key)):Se(19791,{wu:r})}function pI(i,e){const n=e.key,r=n.path.canonicalString();i.du.get(n)||i.Eu.has(r)||(me(Yp,"New document in limbo: "+n),i.Eu.add(r),Qp(i))}function Qp(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new be(rt.fromString(e)),r=i.fu.next();i.Au.set(r,new iI(n)),i.du=i.du.insert(n,r),_1(i.remoteStore,new ir(Cs(Hb(n.path)),r,"TargetPurposeLimboResolution",Xh.ce))}}async function pc(i,e,n){const r=Re(i),l=[],c=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,p)=>{f.push(r.pu(p,e,n).then((v=>{if((v||n)&&r.isPrimaryClient){const b=v?!v.fromCache:n?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(v){l.push(v);const b=Pp.As(p.targetId,v);c.push(b)}})))})),await Promise.all(f),r.Pu.H_(l),await(async function(p,v){const b=Re(p);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>re.forEach(v,(C=>re.forEach(C.Es,(P=>b.persistence.referenceDelegate.addReference(S,C.targetId,P))).next((()=>re.forEach(C.ds,(P=>b.persistence.referenceDelegate.removeReference(S,C.targetId,P)))))))))}catch(S){if(!wl(S))throw S;me(Lp,"Failed to update sequence numbers: "+S)}for(const S of v){const C=S.targetId;if(!S.fromCache){const P=b.Ms.get(C),Q=P.snapshotVersion,J=P.withLastLimboFreeSnapshotVersion(Q);b.Ms=b.Ms.insert(C,J)}}})(r.localStore,c))}async function gI(i,e){const n=Re(i);if(!n.currentUser.isEqual(e)){me(Yp,"User change. New user:",e.toKey());const r=await p1(n.localStore,e);n.currentUser=e,(function(c,f){c.mu.forEach((g=>{g.forEach((p=>{p.reject(new fe(ne.CANCELLED,f))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await pc(n,r.Ls)}}function yI(i,e){const n=Re(i),r=n.Au.get(e);if(r&&r.hu)return qe().add(r.key);{let l=qe();const c=n.Iu.get(e);if(!c)return l;for(const f of c){const g=n.Tu.get(f);l=l.unionWith(g.view.nu)}return l}}function D1(i){const e=Re(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=R1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dI.bind(null,e),e.Pu.H_=WC.bind(null,e.eventManager),e.Pu.yu=eI.bind(null,e.eventManager),e}function vI(i){const e=Re(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mI.bind(null,e),e}class Dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=id(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return _C(this.persistence,new gC,e.initialUser,this.serializer)}Cu(e){return new m1(Vp.mi,this.serializer)}Du(e){return new AC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dh.provider={build:()=>new Dh};class _I extends Dh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Xe(this.persistence.referenceDelegate instanceof Ih,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new tC(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new m1((r=>Ih.mi(r,n)),this.serializer)}}class rp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>tx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=gI.bind(null,this.syncEngine),await KC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new XC})()}createDatastore(e){const n=id(e.databaseInfo.databaseId),r=(function(c){return new jC(c)})(e.databaseInfo);return(function(c,f,g,p){return new MC(c,f,g,p)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,l,c,f,g){return new PC(r,l,c,f,g)})(this.localStore,this.datastore,e.asyncQueue,(n=>tx(this.syncEngine,n,0)),(function(){return $_.v()?new $_:new NC})())}createSyncEngine(e,n){return(function(l,c,f,g,p,v,b){const S=new rI(l,c,f,g,p,v);return b&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Re(n);me(sa,"RemoteStore shutting down."),r.Ea.add(5),await mc(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}rp.provider={build:()=>new rp};class xI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):mi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const gr="FirestoreClient";class bI{constructor(e,n,r,l,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=l,this.user=Zt.UNAUTHENTICATED,this.clientId=Sp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async f=>{me(gr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(me(gr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Fp(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function jm(i,e){i.asyncQueue.verifyOperationInProgress(),me(gr,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let r=n.initialUser;i.setCredentialChangeListener((async l=>{r.isEqual(l)||(await p1(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function sx(i,e){i.asyncQueue.verifyOperationInProgress();const n=await EI(i);me(gr,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((r=>J_(e.remoteStore,r))),i.setAppCheckTokenChangeListener(((r,l)=>J_(e.remoteStore,l))),i._onlineComponents=e}async function EI(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){me(gr,"Using user provided OfflineComponentProvider");try{await jm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===ne.FAILED_PRECONDITION||l.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;ml("Error using user provided cache. Falling back to memory cache: "+n),await jm(i,new Dh)}}else me(gr,"Using default OfflineComponentProvider"),await jm(i,new _I(void 0));return i._offlineComponents}async function O1(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(me(gr,"Using user provided OnlineComponentProvider"),await sx(i,i._uninitializedComponentsProvider._online)):(me(gr,"Using default OnlineComponentProvider"),await sx(i,new rp))),i._onlineComponents}function TI(i){return O1(i).then((e=>e.syncEngine))}async function SI(i){const e=await O1(i),n=e.eventManager;return n.onListen=aI.bind(null,e.syncEngine),n.onUnlisten=cI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=lI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=uI.bind(null,e.syncEngine),n}function wI(i,e,n={}){const r=new or;return i.asyncQueue.enqueueAndForget((async()=>(function(c,f,g,p,v){const b=new xI({next:C=>{b.Nu(),f.enqueueAndForget((()=>ZC(c,S))),C.fromCache&&p.source==="server"?v.reject(new fe(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(C)},error:C=>v.reject(C)}),S=new tI(g,b,{includeMetadataChanges:!0,qa:!0});return JC(c,S)})(await SI(i),i.asyncQueue,e,n,r))),r.promise}function k1(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const ix=new Map;const M1="firestore.googleapis.com",rx=!0;class ax{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=M1,this.ssl=rx}else this.host=e.host,this.ssl=e.ssl??rx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=f1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<WR)throw new fe(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}VN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=k1(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ld{constructor(e,n,r,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ax({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ax(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new AN;switch(r.type){case"firstParty":return new IN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=ix.get(n);r&&(me("ComponentProvider","Removing Datastore"),ix.delete(n),r.terminate())})(this),Promise.resolve()}}function AI(i,e,n,r={}){i=na(i,ld);const l=aa(e),c=i._getSettings(),f={...c,emulatorOptions:i._getEmulatorOptions()},g=`${e}:${n}`;l&&(vp(`https://${g}`),_p("Firestore",!0)),c.host!==M1&&c.host!==g&&ml("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...c,host:g,ssl:l,emulatorOptions:r};if(!Wr(p,f)&&(i._setSettings(p),r.mockUserToken)){let v,b;if(typeof r.mockUserToken=="string")v=r.mockUserToken,b=Zt.MOCK_USER;else{v=hb(r.mockUserToken,i._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new fe(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Zt(S)}i._authCredentials=new NN(new Sb(v,b))}}class ua{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ua(this.firestore,e,this._query)}}class Mt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mt(this.firestore,e,this._key)}toJSON(){return{type:Mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(hc(n,Mt._jsonSchema))return new Mt(e,r||null,new be(rt.fromString(n.referencePath)))}}Mt._jsonSchemaVersion="firestore/documentReference/1.0",Mt._jsonSchema={type:Dt("string",Mt._jsonSchemaVersion),referencePath:Dt("string")};class cr extends ua{constructor(e,n,r){super(e,n,Hb(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mt(this.firestore,null,new be(e))}withConverter(e){return new cr(this.firestore,e,this._path)}}function pn(i,e,...n){if(i=tn(i),wb("collection","path",e),i instanceof ld){const r=rt.fromString(e,...n);return __(r),new cr(i,null,r)}{if(!(i instanceof Mt||i instanceof cr))throw new fe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(rt.fromString(e,...n));return __(r),new cr(i.firestore,null,r)}}function Ps(i,e,...n){if(i=tn(i),arguments.length===1&&(e=Sp.newId()),wb("doc","path",e),i instanceof ld){const r=rt.fromString(e,...n);return v_(r),new Mt(i,null,new be(r))}{if(!(i instanceof Mt||i instanceof cr))throw new fe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(rt.fromString(e,...n));return v_(r),new Mt(i.firestore,i instanceof cr?i.converter:null,new be(r))}}const lx="AsyncQueue";class ox{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new y1(this,"async_queue_retry"),this._c=()=>{const r=Im();r&&me(lx,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Im();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Im();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new or;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!wl(e))throw e;me(lx,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,mi("INTERNAL UNHANDLED ERROR: ",cx(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=Hp.createAndSchedule(this,e,n,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Se(47125,{Pc:cx(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function cx(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class gc extends ld{constructor(e,n,r,l){super(e,n,r,l),this.type="firestore",this._queue=new ox,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ox(e),this._firestoreClient=void 0,await e}}}function NI(i,e){const n=typeof i=="object"?i:Ep(),r=typeof i=="string"?i:wh,l=Kh(n,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=ob("firestore");c&&AI(l,...c)}return l}function V1(i){if(i._terminated)throw new fe(ne.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||RI(i),i._firestoreClient}function RI(i){const e=i._freezeSettings(),n=(function(l,c,f,g){return new QN(l,c,f,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,k1(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new bI(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(i._componentsProvider))}class zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zn($t.fromBase64String(e))}catch(n){throw new fe(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zn($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(hc(e,zn._jsonSchema))return zn.fromBase64String(e.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:Dt("string",zn._jsonSchemaVersion),bytes:Dt("string")};class od{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class cd{constructor(e){this._methodName=e}}class js{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:js._jsonSchemaVersion}}static fromJSON(e){if(hc(e,js._jsonSchema))return new js(e.latitude,e.longitude)}}js._jsonSchemaVersion="firestore/geoPoint/1.0",js._jsonSchema={type:Dt("string",js._jsonSchemaVersion),latitude:Dt("number"),longitude:Dt("number")};class Ds{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ds._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(hc(e,Ds._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ds(e.vectorValues);throw new fe(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ds._jsonSchemaVersion="firestore/vectorValue/1.0",Ds._jsonSchema={type:Dt("string",Ds._jsonSchemaVersion),vectorValues:Dt("object")};const CI=/^__.*__$/;class II{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new vr(e,this.data,this.fieldMask,n,this.fieldTransforms):new dc(e,this.data,n,this.fieldTransforms)}}class P1{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new vr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function L1(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:i})}}class Kp{constructor(e,n,r,l,c,f){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Kp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Oh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(L1(this.Ac)&&CI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class jI{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||id(e)}Cc(e,n,r,l=!1){return new Kp({Ac:e,methodName:n,Dc:r,path:Kt.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $p(i){const e=i._freezeSettings(),n=id(i._databaseId);return new jI(i._databaseId,!!e.ignoreUndefinedProperties,n)}function DI(i,e,n,r,l,c={}){const f=i.Cc(c.merge||c.mergeFields?2:0,e,n,l);Jp("Data must be an object, but it was:",f,r);const g=U1(r,f);let p,v;if(c.merge)p=new wn(f.fieldMask),v=f.fieldTransforms;else if(c.mergeFields){const b=[];for(const S of c.mergeFields){const C=ap(e,S,n);if(!f.contains(C))throw new fe(ne.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);B1(b,C)||b.push(C)}p=new wn(b),v=f.fieldTransforms.filter((S=>p.covers(S.field)))}else p=null,v=f.fieldTransforms;return new II(new mn(g),p,v)}class ud extends cd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ud}}class Xp extends cd{_toFieldTransform(e){return new _R(e.path,new tc)}isEqual(e){return e instanceof Xp}}function OI(i,e,n,r){const l=i.Cc(1,e,n);Jp("Data must be an object, but it was:",l,r);const c=[],f=mn.empty();yr(r,((p,v)=>{const b=Zp(e,p,n);v=tn(v);const S=l.yc(b);if(v instanceof ud)c.push(b);else{const C=yc(v,S);C!=null&&(c.push(b),f.set(b,C))}}));const g=new wn(c);return new P1(f,g,l.fieldTransforms)}function kI(i,e,n,r,l,c){const f=i.Cc(1,e,n),g=[ap(e,r,n)],p=[l];if(c.length%2!=0)throw new fe(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<c.length;C+=2)g.push(ap(e,c[C])),p.push(c[C+1]);const v=[],b=mn.empty();for(let C=g.length-1;C>=0;--C)if(!B1(v,g[C])){const P=g[C];let Q=p[C];Q=tn(Q);const J=f.yc(P);if(Q instanceof ud)v.push(P);else{const B=yc(Q,J);B!=null&&(v.push(P),b.set(P,B))}}const S=new wn(v);return new P1(b,S,f.fieldTransforms)}function MI(i,e,n,r=!1){return yc(n,i.Cc(r?4:3,e))}function yc(i,e){if(z1(i=tn(i)))return Jp("Unsupported field value:",e,i),U1(i,e);if(i instanceof cd)return(function(r,l){if(!L1(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,l){const c=[];let f=0;for(const g of r){let p=yc(g,l.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),f++}return{arrayValue:{values:c}}})(i,e)}return(function(r,l){if((r=tn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return gR(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=ot.fromDate(r);return{timestampValue:Ch(l.serializer,c)}}if(r instanceof ot){const c=new ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ch(l.serializer,c)}}if(r instanceof js)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof zn)return{bytesValue:a1(l.serializer,r._byteString)};if(r instanceof Mt){const c=l.databaseId,f=r.firestore._databaseId;if(!f.isEqual(c))throw l.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:kp(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Ds)return(function(f,g){return{mapValue:{fields:{[kb]:{stringValue:Mb},[Ah]:{arrayValue:{values:f.toArray().map((v=>{if(typeof v!="number")throw g.Sc("VectorValues must only contain numeric values.");return Ip(g.serializer,v)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${$h(r)}`)})(i,e)}function U1(i,e){const n={};return Rb(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yr(i,((r,l)=>{const c=yc(l,e.mc(r));c!=null&&(n[r]=c)})),{mapValue:{fields:n}}}function z1(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof ot||i instanceof js||i instanceof zn||i instanceof Mt||i instanceof cd||i instanceof Ds)}function Jp(i,e,n){if(!z1(n)||!Ab(n)){const r=$h(n);throw r==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+r)}}function ap(i,e,n){if((e=tn(e))instanceof od)return e._internalPath;if(typeof e=="string")return Zp(i,e);throw Oh("Field path arguments must be of type string or ",i,!1,void 0,n)}const VI=new RegExp("[~\\*/\\[\\]]");function Zp(i,e,n){if(e.search(VI)>=0)throw Oh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new od(...e.split("."))._internalPath}catch{throw Oh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Oh(i,e,n,r,l){const c=r&&!r.isEmpty(),f=l!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||f)&&(p+=" (found",c&&(p+=` in field ${r}`),f&&(p+=` in document ${l}`),p+=")"),new fe(ne.INVALID_ARGUMENT,g+i+p)}function B1(i,e){return i.some((n=>n.isEqual(e)))}class q1{constructor(e,n,r,l,c){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new PI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Wp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class PI extends q1{data(){return super.data()}}function Wp(i,e){return typeof e=="string"?Zp(i,e):e instanceof od?e._internalPath:e._delegate._internalPath}function LI(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new fe(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class eg{}class H1 extends eg{}function tg(i,e,...n){let r=[];e instanceof eg&&r.push(e),r=r.concat(n),(function(c){const f=c.filter((p=>p instanceof sg)).length,g=c.filter((p=>p instanceof ng)).length;if(f>1||f>0&&g>0)throw new fe(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)i=l._apply(i);return i}class ng extends H1{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ng(e,n,r)}_apply(e){const n=this._parse(e);return F1(e._query,n),new ua(e.firestore,e.converter,$m(e._query,n))}_parse(e){const n=$p(e.firestore);return(function(c,f,g,p,v,b,S){let C;if(v.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new fe(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){hx(S,b);const Q=[];for(const J of S)Q.push(ux(p,c,J));C={arrayValue:{values:Q}}}else C=ux(p,c,S)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||hx(S,b),C=MI(g,f,S,b==="in"||b==="not-in");return jt.create(v,b,C)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class sg extends eg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new sg(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ss.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(l,c){let f=l;const g=c.getFlattenedFilters();for(const p of g)F1(f,p),f=$m(f,p)})(e._query,n),new ua(e.firestore,e.converter,$m(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ig extends H1{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ig(e,n)}_apply(e){const n=(function(l,c,f){if(l.startAt!==null)throw new fe(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new fe(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ec(c,f)})(e._query,this._field,this._direction);return new ua(e.firestore,e.converter,(function(l,c){const f=l.explicitOrderBy.concat([c]);return new Al(l.path,l.collectionGroup,f,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,n))}}function rg(i,e="asc"){const n=e,r=Wp("orderBy",i);return ig._create(r,n)}function ux(i,e,n){if(typeof(n=tn(n))=="string"){if(n==="")throw new fe(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Fb(e)&&n.indexOf("/")!==-1)throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(rt.fromString(n));if(!be.isDocumentKey(r))throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return N_(i,new be(r))}if(n instanceof Mt)return N_(i,n._key);throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$h(n)}.`)}function hx(i,e){if(!Array.isArray(i)||i.length===0)throw new fe(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function F1(i,e){const n=(function(l,c){for(const f of l)for(const g of f.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(i.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new fe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class UI{convertValue(e,n="none"){switch(mr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(fr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return yr(e,((l,c)=>{r[l]=this.convertValue(c,n)})),r}convertVectorValue(e){const n=e.fields?.[Ah].arrayValue?.values?.map((r=>xt(r.doubleValue)));return new Ds(n)}convertGeoPoint(e){return new js(xt(e.latitude),xt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Zh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Jo(e));default:return null}}convertTimestamp(e){const n=dr(e);return new ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=rt.fromString(e);Xe(d1(r),9688,{name:e});const l=new Zo(r.get(1),r.get(3)),c=new be(r.popFirst(5));return l.isEqual(n)||mi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}function zI(i,e,n){let r;return r=i?i.toFirestore(e):e,r}class nh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cl extends q1{constructor(e,n,r,l,c,f){super(e,n,r,l,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new fh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Wp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=cl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}cl._jsonSchemaVersion="firestore/documentSnapshot/1.0",cl._jsonSchema={type:Dt("string",cl._jsonSchemaVersion),bundleSource:Dt("string","DocumentSnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class fh extends cl{data(e={}){return super.data(e)}}class ul{constructor(e,n,r,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new nh(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new fh(this._firestore,this._userDataWriter,r.key,r,new nh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map((g=>{const p=new fh(l._firestore,l._userDataWriter,g.doc.key,g.doc,new nh(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const p=new fh(l._firestore,l._userDataWriter,g.doc.key,g.doc,new nh(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let v=-1,b=-1;return g.type!==0&&(v=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),b=f.indexOf(g.doc.key)),{type:BI(g.type),doc:p,oldIndex:v,newIndex:b}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ul._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Sp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function BI(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:i})}}ul._jsonSchemaVersion="firestore/querySnapshot/1.0",ul._jsonSchema={type:Dt("string",ul._jsonSchemaVersion),bundleSource:Dt("string","QuerySnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class qI extends UI{constructor(e){super(),this.firestore=e}convertBytes(e){return new zn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,n)}}function An(i){i=na(i,ua);const e=na(i.firestore,gc),n=V1(e),r=new qI(e);return LI(i._query),wI(n,i._query).then((l=>new ul(e,r,i,l)))}function ia(i,e,n,...r){i=na(i,Mt);const l=na(i.firestore,gc),c=$p(l);let f;return f=typeof(e=tn(e))=="string"||e instanceof od?kI(c,"updateDoc",i._key,e,n,r):OI(c,"updateDoc",i._key,e),ag(l,[f.toMutation(i._key,ns.exists(!0))])}function G1(i){return ag(na(i.firestore,gc),[new jp(i._key,ns.none())])}function HI(i,e){const n=na(i.firestore,gc),r=Ps(i),l=zI(i.converter,e);return ag(n,[DI($p(i.firestore),"addDoc",r._key,l,i.converter!==null,{}).toMutation(r._key,ns.exists(!1))]).then((()=>r))}function ag(i,e){return(function(r,l){const c=new or;return r.asyncQueue.enqueueAndForget((async()=>hI(await TI(r),l,c))),c.promise})(V1(i),e)}function kh(){return new Xp("serverTimestamp")}(function(e,n=!0){(function(l){Tl=l})(la),ea(new ur("firestore",((r,{instanceIdentifier:l,options:c})=>{const f=r.getProvider("app").getImmediate(),g=new gc(new RN(r.getProvider("auth-internal")),new jN(f,r.getProvider("app-check-internal")),(function(v,b){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new fe(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zo(v.options.projectId,b)})(f,l),f);return c={useFetchStreams:n,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Rs(m_,p_,e),Rs(m_,p_,"esm2020")})();var FI="firebase",GI="12.5.0";Rs(FI,GI,"app");const Y1="firebasestorage.googleapis.com",YI="storageBucket",QI=120*1e3,KI=600*1e3;class Bs extends zs{constructor(e,n,r=0){super(Dm(e),`Firebase Storage: ${n} (${Dm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Bs.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Dm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ls;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ls||(Ls={}));function Dm(i){return"storage/"+i}function $I(){const i="An unknown error occurred, please check the error payload for server response.";return new Bs(Ls.UNKNOWN,i)}function XI(){return new Bs(Ls.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function JI(){return new Bs(Ls.CANCELED,"User canceled the upload/download.")}function ZI(i){return new Bs(Ls.INVALID_URL,"Invalid URL '"+i+"'.")}function WI(i){return new Bs(Ls.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function dx(i){return new Bs(Ls.INVALID_ARGUMENT,i)}function Q1(){return new Bs(Ls.APP_DELETED,"The Firebase app was deleted.")}function e4(i){return new Bs(Ls.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class es{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=es.makeFromUrl(e,n)}catch{return new es(e,"")}if(r.path==="")return r;throw WI(e)}static makeFromUrl(e,n){let r=null;const l="([A-Za-z0-9.\\-_]+)";function c(Y){Y.path.charAt(Y.path.length-1)==="/"&&(Y.path_=Y.path_.slice(0,-1))}const f="(/(.*))?$",g=new RegExp("^gs://"+l+f,"i"),p={bucket:1,path:3};function v(Y){Y.path_=decodeURIComponent(Y.path)}const b="v[A-Za-z0-9_]+",S=n.replace(/[.]/g,"\\."),C="(/([^?#]*).*)?$",P=new RegExp(`^https?://${S}/${b}/b/${l}/o${C}`,"i"),Q={bucket:1,path:3},J=n===Y1?"(?:storage.googleapis.com|storage.cloud.google.com)":n,B="([^?#]*)",se=new RegExp(`^https?://${J}/${l}/${B}`,"i"),G=[{regex:g,indices:p,postModify:c},{regex:P,indices:Q,postModify:v},{regex:se,indices:{bucket:1,path:2},postModify:v}];for(let Y=0;Y<G.length;Y++){const ue=G[Y],he=ue.regex.exec(e);if(he){const w=he[ue.indices.bucket];let E=he[ue.indices.path];E||(E=""),r=new es(w,E),ue.postModify(r);break}}if(r==null)throw ZI(e);return r}}class t4{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function n4(i,e,n){let r=1,l=null,c=null,f=!1,g=0;function p(){return g===2}let v=!1;function b(...B){v||(v=!0,e.apply(null,B))}function S(B){l=setTimeout(()=>{l=null,i(P,p())},B)}function C(){c&&clearTimeout(c)}function P(B,...se){if(v){C();return}if(B){C(),b.call(null,B,...se);return}if(p()||f){C(),b.call(null,B,...se);return}r<64&&(r*=2);let G;g===1?(g=2,G=0):G=(r+Math.random())*1e3,S(G)}let Q=!1;function J(B){Q||(Q=!0,C(),!v&&(l!==null?(B||(g=2),clearTimeout(l),S(0)):B||(g=1)))}return S(0),c=setTimeout(()=>{f=!0,J(!0)},n),J}function s4(i){i(!1)}function i4(i){return i!==void 0}function fx(i,e,n,r){if(r<e)throw dx(`Invalid value for '${i}'. Expected ${e} or greater.`);if(r>n)throw dx(`Invalid value for '${i}'. Expected ${n} or less.`)}function r4(i){const e=encodeURIComponent;let n="?";for(const r in i)if(i.hasOwnProperty(r)){const l=e(r)+"="+e(i[r]);n=n+l+"&"}return n=n.slice(0,-1),n}var Mh;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(Mh||(Mh={}));function a4(i,e){const n=i>=500&&i<600,l=[408,429].indexOf(i)!==-1,c=e.indexOf(i)!==-1;return n||l||c}class l4{constructor(e,n,r,l,c,f,g,p,v,b,S,C=!0,P=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=l,this.successCodes_=c,this.additionalRetryCodes_=f,this.callback_=g,this.errorCallback_=p,this.timeout_=v,this.progressCallback_=b,this.connectionFactory_=S,this.retry=C,this.isUsingEmulator=P,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Q,J)=>{this.resolve_=Q,this.reject_=J,this.start_()})}start_(){const e=(r,l)=>{if(l){r(!1,new sh(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const f=g=>{const p=g.loaded,v=g.lengthComputable?g.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,v)};this.progressCallback_!==null&&c.addUploadProgressListener(f),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(f),this.pendingConnection_=null;const g=c.getErrorCode()===Mh.NO_ERROR,p=c.getStatus();if(!g||a4(p,this.additionalRetryCodes_)&&this.retry){const b=c.getErrorCode()===Mh.ABORT;r(!1,new sh(!1,null,b));return}const v=this.successCodes_.indexOf(p)!==-1;r(!0,new sh(v,c))})},n=(r,l)=>{const c=this.resolve_,f=this.reject_,g=l.connection;if(l.wasSuccessCode)try{const p=this.callback_(g,g.getResponse());i4(p)?c(p):c()}catch(p){f(p)}else if(g!==null){const p=$I();p.serverResponse=g.getErrorText(),this.errorCallback_?f(this.errorCallback_(g,p)):f(p)}else if(l.canceled){const p=this.appDelete_?Q1():JI();f(p)}else{const p=XI();f(p)}};this.canceled_?n(!1,new sh(!1,null,!0)):this.backoffId_=n4(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&s4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class sh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function o4(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function c4(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function u4(i,e){e&&(i["X-Firebase-GMPID"]=e)}function h4(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function d4(i,e,n,r,l,c,f=!0,g=!1){const p=r4(i.urlParams),v=i.url+p,b=Object.assign({},i.headers);return u4(b,e),o4(b,n),c4(b,c),h4(b,r),new l4(v,i.method,b,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,l,f,g)}function f4(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function m4(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}class Vh{constructor(e,n){this._service=e,n instanceof es?this._location=n:this._location=es.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Vh(e,n)}get root(){const e=new es(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return m4(this._location.path)}get storage(){return this._service}get parent(){const e=f4(this._location.path);if(e===null)return null;const n=new es(this._location.bucket,e);return new Vh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw e4(e)}}function mx(i,e){const n=e?.[YI];return n==null?null:es.makeFromBucketSpec(n,i)}function p4(i,e,n,r={}){i.host=`${e}:${n}`;const l=aa(e);l&&(vp(`https://${i.host}/b`),_p("Storage",!0)),i._isUsingEmulator=!0,i._protocol=l?"https":"http";const{mockUserToken:c}=r;c&&(i._overrideAuthToken=typeof c=="string"?c:hb(c,i.app.options.projectId))}class g4{constructor(e,n,r,l,c,f=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=l,this._firebaseVersion=c,this._isUsingEmulator=f,this._bucket=null,this._host=Y1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=QI,this._maxUploadRetryTime=KI,this._requests=new Set,l!=null?this._bucket=es.makeFromBucketSpec(l,this._host):this._bucket=mx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=es.makeFromBucketSpec(this._url,e):this._bucket=mx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){fx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){fx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Vh(this,e)}_makeRequest(e,n,r,l,c=!0){if(this._deleted)return new t4(Q1());{const f=d4(e,this._appId,r,l,n,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,n){const[r,l]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,l).getPromise()}}const px="@firebase/storage",gx="0.14.0";const K1="storage";function y4(i=Ep(),e){i=tn(i);const r=Kh(i,K1).getImmediate({identifier:e}),l=ob("storage");return l&&v4(r,...l),r}function v4(i,e,n,r={}){p4(i,e,n,r)}function _4(i,{instanceIdentifier:e}){const n=i.getProvider("app").getImmediate(),r=i.getProvider("auth-internal"),l=i.getProvider("app-check-internal");return new g4(n,r,l,e,la)}function x4(){ea(new ur(K1,_4,"PUBLIC").setMultipleInstances(!0)),Rs(px,gx,""),Rs(px,gx,"esm2020")}x4();function $1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const b4=$1,X1=new cc("auth","Firebase",$1());const Ph=new xp("@firebase/auth");function E4(i,...e){Ph.logLevel<=ze.WARN&&Ph.warn(`Auth (${la}): ${i}`,...e)}function mh(i,...e){Ph.logLevel<=ze.ERROR&&Ph.error(`Auth (${la}): ${i}`,...e)}function gi(i,...e){throw lg(i,...e)}function Os(i,...e){return lg(i,...e)}function J1(i,e,n){const r={...b4(),[e]:n};return new cc("auth","Firebase",r).create(e,{appName:i.name})}function Zr(i){return J1(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lg(i,...e){if(typeof i!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(n,...r)}return X1.create(i,...e)}function we(i,e,...n){if(!i)throw lg(e,...n)}function ci(i){const e="INTERNAL ASSERTION FAILED: "+i;throw mh(e),new Error(e)}function yi(i,e){i||ci(e)}function lp(){return typeof self<"u"&&self.location?.href||""}function T4(){return yx()==="http:"||yx()==="https:"}function yx(){return typeof self<"u"&&self.location?.protocol||null}function S4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(T4()||r2()||"connection"in navigator)?navigator.onLine:!0}function w4(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class vc{constructor(e,n){this.shortDelay=e,this.longDelay=n,yi(n>e,"Short delay should be less than long delay!"),this.isMobile=n2()||a2()}get(){return S4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function og(i,e){yi(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Z1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ci("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ci("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ci("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const A4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const N4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],R4=new vc(3e4,6e4);function cg(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Rl(i,e,n,r,l={}){return W1(i,l,async()=>{let c={},f={};r&&(e==="GET"?f=r:c={body:JSON.stringify(r)});const g=uc({key:i.config.apiKey,...f}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const v={method:e,headers:p,...c};return i2()||(v.referrerPolicy="no-referrer"),i.emulatorConfig&&aa(i.emulatorConfig.host)&&(v.credentials="include"),Z1.fetch()(await eE(i,i.config.apiHost,n,g),v)})}async function W1(i,e,n){i._canInitEmulator=!1;const r={...A4,...e};try{const l=new I4(i),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw ih(i,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const g=c.ok?f.errorMessage:f.error.message,[p,v]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ih(i,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw ih(i,"email-already-in-use",f);if(p==="USER_DISABLED")throw ih(i,"user-disabled",f);const b=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw J1(i,b,v);gi(i,b)}}catch(l){if(l instanceof zs)throw l;gi(i,"network-request-failed",{message:String(l)})}}async function C4(i,e,n,r,l={}){const c=await Rl(i,e,n,r,l);return"mfaPendingCredential"in c&&gi(i,"multi-factor-auth-required",{_serverResponse:c}),c}async function eE(i,e,n,r){const l=`${e}${n}?${r}`,c=i,f=c.config.emulator?og(i.config,l):`${i.config.apiScheme}://${l}`;return N4.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(f).toString():f}class I4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Os(this.auth,"network-request-failed")),R4.get())})}}function ih(i,e,n){const r={appName:i.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const l=Os(i,e,r);return l.customData._tokenResponse=n,l}async function j4(i,e){return Rl(i,"POST","/v1/accounts:delete",e)}async function Lh(i,e){return Rl(i,"POST","/v1/accounts:lookup",e)}function Qo(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function D4(i,e=!1){const n=tn(i),r=await n.getIdToken(e),l=ug(r);we(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,f=c?.sign_in_provider;return{claims:l,token:r,authTime:Qo(Om(l.auth_time)),issuedAtTime:Qo(Om(l.iat)),expirationTime:Qo(Om(l.exp)),signInProvider:f||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Om(i){return Number(i)*1e3}function ug(i){const[e,n,r]=i.split(".");if(e===void 0||n===void 0||r===void 0)return mh("JWT malformed, contained fewer than 3 sections"),null;try{const l=ab(n);return l?JSON.parse(l):(mh("Failed to decode base64 JWT payload"),null)}catch(l){return mh("Caught error parsing JWT payload as JSON",l?.toString()),null}}function vx(i){const e=ug(i);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ic(i,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof zs&&O4(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function O4({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class k4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class op{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qo(this.lastLoginAt),this.creationTime=Qo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Uh(i){const e=i.auth,n=await i.getIdToken(),r=await ic(i,Lh(e,{idToken:n}));we(r?.users.length,e,"internal-error");const l=r.users[0];i._notifyReloadListener(l);const c=l.providerUserInfo?.length?tE(l.providerUserInfo):[],f=V4(i.providerData,c),g=i.isAnonymous,p=!(i.email&&l.passwordHash)&&!f?.length,v=g?p:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new op(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(i,b)}async function M4(i){const e=tn(i);await Uh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function V4(i,e){return[...i.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function tE(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function P4(i,e){const n=await W1(i,{},async()=>{const r=uc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=i.config,f=await eE(i,l,"/v1/token",`key=${c}`),g=await i._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:g,body:r};return i.emulatorConfig&&aa(i.emulatorConfig.host)&&(p.credentials="include"),Z1.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function L4(i,e){return Rl(i,"POST","/v2/accounts:revokeToken",cg(i,e))}class hl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):vx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){we(e.length!==0,"internal-error");const n=vx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:l,expiresIn:c}=await P4(e,n);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:l,expirationTime:c}=n,f=new hl;return r&&(we(typeof r=="string","internal-error",{appName:e}),f.refreshToken=r),l&&(we(typeof l=="string","internal-error",{appName:e}),f.accessToken=l),c&&(we(typeof c=="number","internal-error",{appName:e}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hl,this.toJSON())}_performRefresh(){return ci("not implemented")}}function Wi(i,e){we(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ts{constructor({uid:e,auth:n,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new k4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new op(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await ic(this,this.stsTokenManager.getToken(this.auth,e));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return D4(this,e)}reload(){return M4(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ts({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Uh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wn(this.auth.app))return Promise.reject(Zr(this.auth));const e=await this.getIdToken();return await ic(this,j4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,l=n.email??void 0,c=n.phoneNumber??void 0,f=n.photoURL??void 0,g=n.tenantId??void 0,p=n._redirectEventId??void 0,v=n.createdAt??void 0,b=n.lastLoginAt??void 0,{uid:S,emailVerified:C,isAnonymous:P,providerData:Q,stsTokenManager:J}=n;we(S&&J,e,"internal-error");const B=hl.fromJSON(this.name,J);we(typeof S=="string",e,"internal-error"),Wi(r,e.name),Wi(l,e.name),we(typeof C=="boolean",e,"internal-error"),we(typeof P=="boolean",e,"internal-error"),Wi(c,e.name),Wi(f,e.name),Wi(g,e.name),Wi(p,e.name),Wi(v,e.name),Wi(b,e.name);const se=new ts({uid:S,auth:e,email:l,emailVerified:C,displayName:r,isAnonymous:P,photoURL:f,phoneNumber:c,tenantId:g,stsTokenManager:B,createdAt:v,lastLoginAt:b});return Q&&Array.isArray(Q)&&(se.providerData=Q.map(ie=>({...ie}))),p&&(se._redirectEventId=p),se}static async _fromIdTokenResponse(e,n,r=!1){const l=new hl;l.updateFromServerResponse(n);const c=new ts({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await Uh(c),c}static async _fromGetAccountInfoResponse(e,n,r){const l=n.users[0];we(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?tE(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!c?.length,g=new hl;g.updateFromIdToken(r);const p=new ts({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:f}),v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new op(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(p,v),p}}const _x=new Map;function ui(i){yi(i instanceof Function,"Expected a class definition");let e=_x.get(i);return e?(yi(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,_x.set(i,e),e)}class nE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}nE.type="NONE";const xx=nE;function ph(i,e,n){return`firebase:${i}:${e}:${n}`}class dl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=ph(this.userKey,l.apiKey,c),this.fullPersistenceKey=ph("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Lh(this.auth,{idToken:e}).catch(()=>{});return n?ts._fromGetAccountInfoResponse(this.auth,n,e):null}return ts._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new dl(ui(xx),e,r);const l=(await Promise.all(n.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=l[0]||ui(xx);const f=ph(r,e.config.apiKey,e.name);let g=null;for(const v of n)try{const b=await v._get(f);if(b){let S;if(typeof b=="string"){const C=await Lh(e,{idToken:b}).catch(()=>{});if(!C)break;S=await ts._fromGetAccountInfoResponse(e,C,b)}else S=ts._fromJSON(e,b);v!==c&&(g=S),c=v;break}}catch{}const p=l.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new dl(c,e,r):(c=p[0],g&&await c._set(f,g.toJSON()),await Promise.all(n.map(async v=>{if(v!==c)try{await v._remove(f)}catch{}})),new dl(c,e,r))}}function bx(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(aE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(oE(e))return"Blackberry";if(cE(e))return"Webos";if(iE(e))return"Safari";if((e.includes("chrome/")||rE(e))&&!e.includes("edge/"))return"Chrome";if(lE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(n);if(r?.length===2)return r[1]}return"Other"}function sE(i=en()){return/firefox\//i.test(i)}function iE(i=en()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rE(i=en()){return/crios\//i.test(i)}function aE(i=en()){return/iemobile/i.test(i)}function lE(i=en()){return/android/i.test(i)}function oE(i=en()){return/blackberry/i.test(i)}function cE(i=en()){return/webos/i.test(i)}function hg(i=en()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function U4(i=en()){return hg(i)&&!!window.navigator?.standalone}function z4(){return l2()&&document.documentMode===10}function uE(i=en()){return hg(i)||lE(i)||cE(i)||oE(i)||/windows phone/i.test(i)||aE(i)}function hE(i,e=[]){let n;switch(i){case"Browser":n=bx(en());break;case"Worker":n=`${bx(en())}-${i}`;break;default:n=i}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${la}/${r}`}class B4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=c=>new Promise((f,g)=>{try{const p=e(c);f(p)}catch(p){g(p)}});r.onAbort=n,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function q4(i,e={}){return Rl(i,"GET","/v2/passwordPolicy",cg(i,e))}const H4=6;class F4{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??H4,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class G4{constructor(e,n,r,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ex(this),this.idTokenSubscription=new Ex(this),this.beforeStateQueue=new B4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=X1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ui(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await dl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Lh(this,{idToken:e}),r=await ts._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Wn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,f=r?._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===f)&&g?.user&&(r=g.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Uh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=w4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wn(this.app))return Promise.reject(Zr(this));const n=e?tn(e):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wn(this.app)?Promise.reject(Zr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wn(this.app)?Promise.reject(Zr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ui(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await q4(this),n=new F4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new cc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await L4(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ui(e)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=await dl.create(this,[ui(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(g,this,"internal-error"),g.then(()=>{f||c(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,r,l);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&E4(`Error while retrieving App Check token: ${e.error}`),e?.token}}function dg(i){return tn(i)}class Ex{constructor(e){this.auth=e,this.observer=null,this.addObserver=p2(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let fg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Y4(i){fg=i}function Q4(i){return fg.loadJS(i)}function K4(){return fg.gapiScript}function $4(i){return`__${i}${Math.floor(Math.random()*1e6)}`}function X4(i,e){const n=Kh(i,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(Wr(c,e??{}))return l;gi(l,"already-initialized")}return n.initialize({options:e})}function J4(i,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ui);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(r,e?.popupRedirectResolver)}function Z4(i,e,n){const r=dg(i);we(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,c=dE(e),{host:f,port:g}=W4(e),p=g===null?"":`:${g}`,v={url:`${c}//${f}${p}/`},b=Object.freeze({host:f,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){we(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),we(Wr(v,r.config.emulator)&&Wr(b,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=v,r.emulatorConfig=b,r.settings.appVerificationDisabledForTesting=!0,aa(f)?(vp(`${c}//${f}${p}`),_p("Auth",!0)):e3()}function dE(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function W4(i){const e=dE(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:Tx(r.substr(c.length+1))}}else{const[c,f]=r.split(":");return{host:c,port:Tx(f)}}}function Tx(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function e3(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class fE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ci("not implemented")}_getIdTokenResponse(e){return ci("not implemented")}_linkToIdToken(e,n){return ci("not implemented")}_getReauthenticationResolver(e){return ci("not implemented")}}async function fl(i,e){return C4(i,"POST","/v1/accounts:signInWithIdp",cg(i,e))}const t3="http://localhost";class ra extends fE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ra(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):gi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...c}=n;if(!r||!l)return null;const f=new ra(r,l);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return fl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,fl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,fl(e,n)}buildRequest(){const e={requestUri:t3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=uc(n)}return e}}class mE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class _c extends mE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class er extends _c{constructor(){super("facebook.com")}static credential(e){return ra._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return er.credentialFromTaggedObject(e)}static credentialFromError(e){return er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return er.credential(e.oauthAccessToken)}catch{return null}}}er.FACEBOOK_SIGN_IN_METHOD="facebook.com";er.PROVIDER_ID="facebook.com";class tr extends _c{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ra._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return tr.credentialFromTaggedObject(e)}static credentialFromError(e){return tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return tr.credential(n,r)}catch{return null}}}tr.GOOGLE_SIGN_IN_METHOD="google.com";tr.PROVIDER_ID="google.com";class nr extends _c{constructor(){super("github.com")}static credential(e){return ra._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return nr.credentialFromTaggedObject(e)}static credentialFromError(e){return nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return nr.credential(e.oauthAccessToken)}catch{return null}}}nr.GITHUB_SIGN_IN_METHOD="github.com";nr.PROVIDER_ID="github.com";class sr extends _c{constructor(){super("twitter.com")}static credential(e,n){return ra._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return sr.credential(n,r)}catch{return null}}}sr.TWITTER_SIGN_IN_METHOD="twitter.com";sr.PROVIDER_ID="twitter.com";class xl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,l=!1){const c=await ts._fromIdTokenResponse(e,r,l),f=Sx(r);return new xl({user:c,providerId:f,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const l=Sx(r);return new xl({user:e,providerId:l,_tokenResponse:r,operationType:n})}}function Sx(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class zh extends zs{constructor(e,n,r,l){super(n.code,n.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,zh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,l){return new zh(e,n,r,l)}}function pE(i,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?zh._fromErrorAndOperation(i,c,e,r):c})}async function n3(i,e,n=!1){const r=await ic(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return xl._forOperation(i,"link",r)}async function s3(i,e,n=!1){const{auth:r}=i;if(Wn(r.app))return Promise.reject(Zr(r));const l="reauthenticate";try{const c=await ic(i,pE(r,l,e,i),n);we(c.idToken,r,"internal-error");const f=ug(c.idToken);we(f,r,"internal-error");const{sub:g}=f;return we(i.uid===g,r,"user-mismatch"),xl._forOperation(i,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&gi(r,"user-mismatch"),c}}async function i3(i,e,n=!1){if(Wn(i.app))return Promise.reject(Zr(i));const r="signIn",l=await pE(i,r,e),c=await xl._fromIdTokenResponse(i,r,l);return n||await i._updateCurrentUser(c.user),c}function r3(i,e,n,r){return tn(i).onIdTokenChanged(e,n,r)}function a3(i,e,n){return tn(i).beforeAuthStateChanged(e,n)}const Bh="__sak";class gE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Bh,"1"),this.storage.removeItem(Bh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const l3=1e3,o3=10;class yE extends gE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=uE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),l=this.localCache[n];r!==l&&e(n,l,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,g,p)=>{this.notifyListeners(f,p)});return}const r=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(r);!n&&this.localCache[r]===f||this.notifyListeners(r,f)},c=this.storage.getItem(r);z4()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,o3):l()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},l3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}yE.type="LOCAL";const c3=yE;class vE extends gE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}vE.type="SESSION";const _E=vE;function u3(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class hd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const r=new hd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:l,data:c}=n.data,f=this.handlersMap[l];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const g=Array.from(f).map(async v=>v(n.origin,c)),p=await u3(g);n.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hd.receivers=[];function mg(i="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return i+n}class h3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,f;return new Promise((g,p)=>{const v=mg("",20);l.port1.start();const b=setTimeout(()=>{p(new Error("unsupported_event"))},r);f={messageChannel:l,onMessage(S){const C=S;if(C.data.eventId===v)switch(C.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(C.data.response);break;default:clearTimeout(b),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:v,data:n},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function ks(){return window}function d3(i){ks().location.href=i}function xE(){return typeof ks().WorkerGlobalScope<"u"&&typeof ks().importScripts=="function"}async function f3(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function m3(){return navigator?.serviceWorker?.controller||null}function p3(){return xE()?self:null}const bE="firebaseLocalStorageDb",g3=1,qh="firebaseLocalStorage",EE="fbase_key";class xc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function dd(i,e){return i.transaction([qh],e?"readwrite":"readonly").objectStore(qh)}function y3(){const i=indexedDB.deleteDatabase(bE);return new xc(i).toPromise()}function cp(){const i=indexedDB.open(bE,g3);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(qh,{keyPath:EE})}catch(l){n(l)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(qh)?e(r):(r.close(),await y3(),e(await cp()))})})}async function wx(i,e,n){const r=dd(i,!0).put({[EE]:e,value:n});return new xc(r).toPromise()}async function v3(i,e){const n=dd(i,!1).get(e),r=await new xc(n).toPromise();return r===void 0?null:r.value}function Ax(i,e){const n=dd(i,!0).delete(e);return new xc(n).toPromise()}const _3=800,x3=3;class TE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>x3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hd._getInstance(p3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await f3(),!this.activeServiceWorker)return;this.sender=new h3(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||m3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cp();return await wx(e,Bh,"1"),await Ax(e,Bh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>wx(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>v3(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ax(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=dd(l,!1).getAll();return new xc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}TE.type="LOCAL";const b3=TE;new vc(3e4,6e4);function E3(i,e){return e?ui(e):(we(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class pg extends fE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return fl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return fl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function T3(i){return i3(i.auth,new pg(i),i.bypassAuthState)}function S3(i){const{auth:e,user:n}=i;return we(n,e,"internal-error"),s3(n,new pg(i),i.bypassAuthState)}async function w3(i){const{auth:e,user:n}=i;return we(n,e,"internal-error"),n3(n,new pg(i),i.bypassAuthState)}class SE{constructor(e,n,r,l,c=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:l,tenantId:c,error:f,type:g}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return T3;case"linkViaPopup":case"linkViaRedirect":return w3;case"reauthViaPopup":case"reauthViaRedirect":return S3;default:gi(this.auth,"internal-error")}}resolve(e){yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const A3=new vc(2e3,1e4);class rl extends SE{constructor(e,n,r,l,c){super(e,n,l,c),this.provider=r,this.authWindow=null,this.pollId=null,rl.currentPopupAction&&rl.currentPopupAction.cancel(),rl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){yi(this.filter.length===1,"Popup operations only handle one event");const e=mg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Os(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Os(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,rl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Os(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,A3.get())};e()}}rl.currentPopupAction=null;const N3="pendingRedirect",gh=new Map;class R3 extends SE{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=gh.get(this.auth._key());if(!e){try{const r=await C3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}gh.set(this.auth._key(),e)}return this.bypassAuthState||gh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function C3(i,e){const n=D3(e),r=j3(i);if(!await r._isAvailable())return!1;const l=await r._get(n)==="true";return await r._remove(n),l}function I3(i,e){gh.set(i._key(),e)}function j3(i){return ui(i._redirectPersistence)}function D3(i){return ph(N3,i.config.apiKey,i.name)}async function O3(i,e,n=!1){if(Wn(i.app))return Promise.reject(Zr(i));const r=dg(i),l=E3(r,e),f=await new R3(r,l,n).execute();return f&&!n&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,e)),f}const k3=600*1e3;class M3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!V3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!wE(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Os(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=k3&&this.cachedEventUids.clear(),this.cachedEventUids.has(Nx(e))}saveEventToCache(e){this.cachedEventUids.add(Nx(e)),this.lastProcessedEventTime=Date.now()}}function Nx(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function wE({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function V3(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wE(i);default:return!1}}async function P3(i,e={}){return Rl(i,"GET","/v1/projects",e)}const L3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,U3=/^https?/;async function z3(i){if(i.config.emulator)return;const{authorizedDomains:e}=await P3(i);for(const n of e)try{if(B3(n))return}catch{}gi(i,"unauthorized-domain")}function B3(i){const e=lp(),{protocol:n,hostname:r}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&r===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===r}if(!U3.test(n))return!1;if(L3.test(i))return r===i;const l=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const q3=new vc(3e4,6e4);function Rx(){const i=ks().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function H3(i){return new Promise((e,n)=>{function r(){Rx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Rx(),n(Os(i,"network-request-failed"))},timeout:q3.get()})}if(ks().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ks().gapi?.load)r();else{const l=$4("iframefcb");return ks()[l]=()=>{gapi.load?r():n(Os(i,"network-request-failed"))},Q4(`${K4()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw yh=null,e})}let yh=null;function F3(i){return yh=yh||H3(i),yh}const G3=new vc(5e3,15e3),Y3="__/auth/iframe",Q3="emulator/auth/iframe",K3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function X3(i){const e=i.config;we(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?og(e,Q3):`https://${i.config.authDomain}/${Y3}`,r={apiKey:e.apiKey,appName:i.name,v:la},l=$3.get(i.config.apiHost);l&&(r.eid=l);const c=i._getFrameworks();return c.length&&(r.fw=c.join(",")),`${n}?${uc(r).slice(1)}`}async function J3(i){const e=await F3(i),n=ks().gapi;return we(n,i,"internal-error"),e.open({where:document.body,url:X3(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:K3,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const f=Os(i,"network-request-failed"),g=ks().setTimeout(()=>{c(f)},G3.get());function p(){ks().clearTimeout(g),l(r)}r.ping(p).then(p,()=>{c(f)})}))}const Z3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},W3=500,ej=600,tj="_blank",nj="http://localhost";class Cx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sj(i,e,n,r=W3,l=ej){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const p={...Z3,width:r.toString(),height:l.toString(),top:c,left:f},v=en().toLowerCase();n&&(g=rE(v)?tj:n),sE(v)&&(e=e||nj,p.scrollbars="yes");const b=Object.entries(p).reduce((C,[P,Q])=>`${C}${P}=${Q},`,"");if(U4(v)&&g!=="_self")return ij(e||"",g),new Cx(null);const S=window.open(e||"",g,b);we(S,i,"popup-blocked");try{S.focus()}catch{}return new Cx(S)}function ij(i,e){const n=document.createElement("a");n.href=i,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const rj="__/auth/handler",aj="emulator/auth/handler",lj=encodeURIComponent("fac");async function Ix(i,e,n,r,l,c){we(i.config.authDomain,i,"auth-domain-config-required"),we(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:r,v:la,eventId:l};if(e instanceof mE){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",m2(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,S]of Object.entries({}))f[b]=S}if(e instanceof _c){const b=e.getScopes().filter(S=>S!=="");b.length>0&&(f.scopes=b.join(","))}i.tenantId&&(f.tid=i.tenantId);const g=f;for(const b of Object.keys(g))g[b]===void 0&&delete g[b];const p=await i._getAppCheckToken(),v=p?`#${lj}=${encodeURIComponent(p)}`:"";return`${oj(i)}?${uc(g).slice(1)}${v}`}function oj({config:i}){return i.emulator?og(i,aj):`https://${i.authDomain}/${rj}`}const km="webStorageSupport";class cj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_E,this._completeRedirectFn=O3,this._overrideRedirectResult=I3}async _openPopup(e,n,r,l){yi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Ix(e,n,r,lp(),l);return sj(e,c,mg())}async _openRedirect(e,n,r,l){await this._originValidation(e);const c=await Ix(e,n,r,lp(),l);return d3(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(yi(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await J3(e),r=new M3(e);return n.register("authEvent",l=>(we(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(km,{type:km},l=>{const c=l?.[0]?.[km];c!==void 0&&n(!!c),gi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=z3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return uE()||iE()||hg()}}const uj=cj;var jx="@firebase/auth",Dx="1.11.1";class hj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function dj(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fj(i){ea(new ur("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=r.options;we(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:f,authDomain:g,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hE(i)},v=new G4(r,l,c,p);return J4(v,n),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ea(new ur("auth-internal",e=>{const n=dg(e.getProvider("auth").getImmediate());return(r=>new hj(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Rs(jx,Dx,dj(i)),Rs(jx,Dx,"esm2020")}const mj=300,pj=ub("authIdTokenMaxAge")||mj;let Ox=null;const gj=i=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>pj)return;const l=n?.token;Ox!==l&&(Ox=l,await fetch(i,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function yj(i=Ep()){const e=Kh(i,"auth");if(e.isInitialized())return e.getImmediate();const n=X4(i,{popupRedirectResolver:uj,persistence:[b3,c3,_E]}),r=ub("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const f=gj(c.toString());a3(n,f,()=>f(n.currentUser)),r3(n,g=>f(g))}}const l=lb("auth");return l&&Z4(n,`http://${l}`),n}function vj(){return document.getElementsByTagName("head")?.[0]??document}Y4({loadJS(i){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=e,r.onerror=l=>{const c=Os("internal-error");c.customData=l,n(c)},r.type="text/javascript",r.charset="UTF-8",vj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fj("Browser");const _j={apiKey:"AIzaSyAHRbvGZOUwkAKFScGSK2aPwaTzMmK6lYk",authDomain:"lovestorybyanna-80609.firebaseapp.com",projectId:"lovestorybyanna-80609",storageBucket:"lovestorybyanna-80609.firebasestorage.app",messagingSenderId:"515650433201",appId:"1:515650433201:web:82b32f9022d6de695af290",measurementId:"G-7LCC5TP80G"},gg=mb(_j),ht=NI(gg);y4(gg);yj(gg);const xj=()=>{const i=Fh(),[e,n]=U.useState(!0),[r,l]=U.useState({totalRevenue:0,totalOrders:0,totalCustomers:0,totalProducts:0,pendingOrders:0,processingOrders:0,shippedOrders:0,deliveredOrders:0,lowStockProducts:0,revenueChange:0,ordersChange:0,customersChange:0}),[c,f]=U.useState([]),[g,p]=U.useState([]),[v,b]=U.useState([]);U.useEffect(()=>{S()},[]);const S=async()=>{try{n(!0);const[G,Y,ue]=await Promise.all([C(),P(),Q()]);J(G,Y,ue),f(G.slice(0,5)),B(G),se(G)}catch(G){console.error("Error fetching dashboard data:",G)}finally{n(!1)}},C=async()=>{const G=[],Y=await An(pn(ht,"users"));for(const ue of Y.docs){const he=pn(ht,"users",ue.id,"orders"),w=tg(he,rg("createdAt","desc"));(await An(w)).forEach(R=>{const j=R.data();G.push({id:R.id,userId:ue.id,...j,createdAt:j.createdAt?.toDate?j.createdAt.toDate():new Date(j.createdAt||Date.now())})})}return G},P=async()=>{const G=pn(ht,"users");return(await An(G)).docs.map(ue=>({id:ue.id,...ue.data()}))},Q=async()=>{const G=pn(ht,"products");return(await An(G)).docs.map(ue=>({id:ue.id,...ue.data()}))},J=(G,Y,ue)=>{const he=new Date,w=new Date(he.getTime()-720*60*60*1e3),E=new Date(he.getTime()-1440*60*60*1e3),R=G.filter(V=>V.createdAt>=w),j=G.filter(V=>V.createdAt>=E&&V.createdAt<w),N=R.filter(V=>V.paymentStatus==="paid").reduce((V,ce)=>V+(ce.total||0),0),D=j.filter(V=>V.paymentStatus==="paid").reduce((V,ce)=>V+(ce.total||0),0),I=D>0?(N-D)/D*100:0,pe=j.length>0?(R.length-j.length)/j.length*100:0,Oe=Y.filter(V=>(V.createdAt?.toDate?V.createdAt.toDate():new Date(V.createdAt||0))>=w).length,X=Y.filter(V=>{const ce=V.createdAt?.toDate?V.createdAt.toDate():new Date(V.createdAt||0);return ce>=E&&ce<w}).length,le=X>0?(Oe-X)/X*100:0;l({totalRevenue:G.filter(V=>V.paymentStatus==="paid").reduce((V,ce)=>V+(ce.total||0),0),totalOrders:G.length,totalCustomers:Y.length,totalProducts:ue.length,pendingOrders:G.filter(V=>V.status==="pending").length,processingOrders:G.filter(V=>V.status==="processing").length,shippedOrders:G.filter(V=>V.status==="shipped").length,deliveredOrders:G.filter(V=>V.status==="delivered").length,lowStockProducts:ue.filter(V=>V.stock<=5&&V.stock>0).length,revenueChange:I,ordersChange:pe,customersChange:le})},B=G=>{const Y={};G.forEach(he=>{he.items?.forEach(w=>{Y[w.name]||(Y[w.name]={name:w.name,image:w.image,quantity:0,revenue:0}),Y[w.name].quantity+=w.quantity,Y[w.name].revenue+=w.price*w.quantity})});const ue=Object.values(Y).sort((he,w)=>w.revenue-he.revenue).slice(0,5);p(ue)},se=G=>{const Y=[],ue=new Date;for(let he=6;he>=0;he--){const w=new Date(ue.getTime()-he*24*60*60*1e3),E=new Date(w.setHours(0,0,0,0)),R=new Date(w.setHours(23,59,59,999)),j=G.filter(D=>D.paymentStatus==="paid"&&D.createdAt>=E&&D.createdAt<=R),N=j.reduce((D,I)=>D+(I.total||0),0);Y.push({day:E.toLocaleDateString("en-US",{weekday:"short"}),revenue:N,orders:j.length})}b(Y)},ie=G=>({pending:"bg-yellow-100 text-yellow-800 border-yellow-300",processing:"bg-blue-100 text-blue-800 border-blue-300",shipped:"bg-purple-100 text-purple-800 border-purple-300",delivered:"bg-green-100 text-green-800 border-green-300",cancelled:"bg-red-100 text-red-800 border-red-300"})[G]||"bg-gray-100 text-gray-800 border-gray-300";return e?h.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-pink-300 mx-auto mb-4"}),h.jsx("p",{className:"text-white",children:"Loading dashboard..."})]})}):h.jsx("div",{className:"min-h-screen bg-slate-900 p-6",children:h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs("div",{className:"mb-8",children:[h.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Dashboard Overview"}),h.jsx("p",{className:"text-gray-400",children:"Welcome back! Here's what's happening with your store today."})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[h.jsxs("div",{className:"bg-gradient-to-br from-pink-500 to-pink-600 p-6 shadow-lg",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("div",{className:"bg-white/20 p-3 rounded-lg",children:h.jsx(eb,{className:"text-white",size:24})}),h.jsxs("div",{className:`flex items-center gap-1 text-sm font-semibold ${r.revenueChange>=0?"text-green-100":"text-red-100"}`,children:[r.revenueChange>=0?h.jsx(Bo,{size:16}):h.jsx(bm,{size:16}),Math.abs(r.revenueChange).toFixed(1),"%"]})]}),h.jsx("p",{className:"text-pink-100 text-sm mb-1",children:"Total Revenue"}),h.jsxs("p",{className:"text-3xl font-bold text-white mb-2",children:["",(r.totalRevenue/1e3).toFixed(1),"k"]}),h.jsx("p",{className:"text-pink-100 text-xs",children:"vs last 30 days"})]}),h.jsxs("div",{className:"bg-slate-800 border border-pink-500 p-6 shadow-lg",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("div",{className:"bg-pink-500/20 p-3 rounded-lg",children:h.jsx(al,{className:"text-pink-300",size:24})}),h.jsxs("div",{className:`flex items-center gap-1 text-sm font-semibold ${r.ordersChange>=0?"text-green-400":"text-red-400"}`,children:[r.ordersChange>=0?h.jsx(Bo,{size:16}):h.jsx(bm,{size:16}),Math.abs(r.ordersChange).toFixed(1),"%"]})]}),h.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Total Orders"}),h.jsx("p",{className:"text-3xl font-bold text-white mb-2",children:r.totalOrders}),h.jsx("p",{className:"text-gray-400 text-xs",children:"vs last 30 days"})]}),h.jsxs("div",{className:"bg-slate-800 border border-pink-500 p-6 shadow-lg",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("div",{className:"bg-blue-500/20 p-3 rounded-lg",children:h.jsx(Xr,{className:"text-blue-400",size:24})}),h.jsxs("div",{className:`flex items-center gap-1 text-sm font-semibold ${r.customersChange>=0?"text-green-400":"text-red-400"}`,children:[r.customersChange>=0?h.jsx(Bo,{size:16}):h.jsx(bm,{size:16}),Math.abs(r.customersChange).toFixed(1),"%"]})]}),h.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Total Customers"}),h.jsx("p",{className:"text-3xl font-bold text-white mb-2",children:r.totalCustomers}),h.jsx("p",{className:"text-gray-400 text-xs",children:"vs last 30 days"})]}),h.jsxs("div",{className:"bg-slate-800 border border-pink-500 p-6 shadow-lg",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("div",{className:"bg-purple-500/20 p-3 rounded-lg",children:h.jsx(oi,{className:"text-purple-400",size:24})}),r.lowStockProducts>0&&h.jsxs("div",{className:"flex items-center gap-1 text-sm font-semibold text-yellow-400",children:[h.jsx(yp,{size:16}),r.lowStockProducts," low"]})]}),h.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Total Products"}),h.jsx("p",{className:"text-3xl font-bold text-white mb-2",children:r.totalProducts}),h.jsx("p",{className:"text-gray-400 text-xs",children:"Active inventory"})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[h.jsx("div",{className:"bg-slate-800 border border-yellow-500/50 p-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Pending"}),h.jsx("p",{className:"text-2xl font-bold text-yellow-400",children:r.pendingOrders})]}),h.jsx(_h,{className:"text-yellow-500",size:32})]})}),h.jsx("div",{className:"bg-slate-800 border border-blue-500/50 p-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Processing"}),h.jsx("p",{className:"text-2xl font-bold text-blue-400",children:r.processingOrders})]}),h.jsx(oi,{className:"text-blue-500",size:32})]})}),h.jsx("div",{className:"bg-slate-800 border border-purple-500/50 p-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Shipped"}),h.jsx("p",{className:"text-2xl font-bold text-purple-400",children:r.shippedOrders})]}),h.jsx(ll,{className:"text-purple-500",size:32})]})}),h.jsx("div",{className:"bg-slate-800 border border-green-500/50 p-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Delivered"}),h.jsx("p",{className:"text-2xl font-bold text-green-400",children:r.deliveredOrders})]}),h.jsx(Wx,{className:"text-green-500",size:32})]})})]}),h.jsxs("div",{className:"grid lg:grid-cols-3 gap-6 mb-6",children:[h.jsxs("div",{className:"lg:col-span-2 bg-slate-800 border border-pink-500 p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-white",children:"Revenue Trend (Last 7 Days)"}),h.jsxs("button",{onClick:()=>i("/orders"),className:"text-pink-300 hover:text-pink-400 text-sm flex items-center gap-1",children:["View All ",h.jsx(xm,{size:16})]})]}),h.jsx("div",{className:"space-y-4",children:v.map((G,Y)=>h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("span",{className:"text-gray-400 text-sm w-12",children:G.day}),h.jsx("div",{className:"flex-1",children:h.jsx("div",{className:"bg-slate-700 h-8 rounded-lg overflow-hidden",children:h.jsx("div",{className:"bg-gradient-to-r from-pink-500 to-pink-400 h-full flex items-center justify-end px-3",style:{width:`${Math.min(G.revenue/Math.max(...v.map(ue=>ue.revenue))*100,100)}%`},children:h.jsxs("span",{className:"text-white text-xs font-semibold",children:["",(G.revenue/1e3).toFixed(1),"k"]})})})}),h.jsxs("span",{className:"text-gray-400 text-sm w-20 text-right",children:[G.orders," orders"]})]},Y))})]}),h.jsxs("div",{className:"bg-slate-800 border border-pink-500 p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-white",children:"Top Products"}),h.jsxs("button",{onClick:()=>i("/products"),className:"text-pink-300 hover:text-pink-400 text-sm flex items-center gap-1",children:["View All ",h.jsx(xm,{size:16})]})]}),h.jsxs("div",{className:"space-y-4",children:[g.map((G,Y)=>h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-12 h-12 bg-slate-700 rounded-lg overflow-hidden flex-shrink-0",children:G.image?h.jsx("img",{src:G.image,alt:G.name,className:"w-full h-full object-cover"}):h.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-500",children:h.jsx(oi,{size:20})})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:"text-white text-sm font-medium truncate",children:G.name}),h.jsxs("p",{className:"text-gray-400 text-xs",children:[G.quantity," sold"]})]}),h.jsxs("p",{className:"text-pink-300 font-semibold text-sm",children:["",(G.revenue/1e3).toFixed(1),"k"]})]},Y)),g.length===0&&h.jsx("p",{className:"text-gray-500 text-center py-8",children:"No sales data yet"})]})]})]}),h.jsxs("div",{className:"bg-slate-800 border border-pink-500 overflow-hidden",children:[h.jsxs("div",{className:"px-6 py-4 border-b border-pink-500 flex items-center justify-between",children:[h.jsx("h3",{className:"text-lg font-semibold text-white",children:"Recent Orders"}),h.jsxs("button",{onClick:()=>i("/orders"),className:"text-pink-300 hover:text-pink-400 text-sm flex items-center gap-1",children:["View All Orders ",h.jsx(xm,{size:16})]})]}),c.length===0?h.jsxs("div",{className:"text-center py-12",children:[h.jsx(al,{className:"mx-auto text-gray-600 mb-4",size:48}),h.jsx("p",{className:"text-gray-400",children:"No orders yet"})]}):h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{className:"bg-slate-700 border-b border-pink-500",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-300 uppercase",children:"Order #"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-300 uppercase",children:"Customer"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-300 uppercase",children:"Date"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-300 uppercase",children:"Total"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-300 uppercase",children:"Status"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-300 uppercase",children:"Action"})]})}),h.jsx("tbody",{className:"divide-y divide-pink-500",children:c.map(G=>h.jsxs("tr",{className:"hover:bg-slate-700",children:[h.jsx("td",{className:"px-6 py-4 text-sm font-medium text-white",children:G.orderNumber}),h.jsxs("td",{className:"px-6 py-4 text-sm text-white",children:[G.shippingAddress?.firstName," ",G.shippingAddress?.lastName]}),h.jsx("td",{className:"px-6 py-4 text-sm text-gray-400",children:G.createdAt.toLocaleDateString()}),h.jsxs("td",{className:"px-6 py-4 text-sm font-semibold text-white",children:["",(G.total||0).toLocaleString()]}),h.jsx("td",{className:"px-6 py-4",children:h.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded border ${ie(G.status)}`,children:G.status||"pending"})}),h.jsx("td",{className:"px-6 py-4",children:h.jsx("button",{onClick:()=>i("/orders"),className:"text-pink-300 hover:text-pink-400",children:h.jsx(oc,{size:18})})})]},G.id))})]})})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[h.jsxs("button",{onClick:()=>i("/add-product"),className:"bg-pink-500 hover:bg-pink-600 text-white p-6 transition-colors flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold mb-1",children:"Add New Product"}),h.jsx("p",{className:"text-sm text-pink-100",children:"Create a new product listing"})]}),h.jsx(oi,{size:32,className:"opacity-80"})]}),h.jsxs("button",{onClick:()=>i("/orders"),className:"bg-slate-800 hover:bg-slate-700 border border-pink-500 text-white p-6 transition-colors flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold mb-1",children:"Manage Orders"}),h.jsx("p",{className:"text-sm text-gray-400",children:"Process pending orders"})]}),h.jsx(al,{size:32,className:"text-pink-300"})]}),h.jsxs("button",{onClick:()=>i("/customers"),className:"bg-slate-800 hover:bg-slate-700 border border-pink-500 text-white p-6 transition-colors flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold mb-1",children:"View Customers"}),h.jsx("p",{className:"text-sm text-gray-400",children:"Manage customer accounts"})]}),h.jsx(Xr,{size:32,className:"text-pink-300"})]})]})]})})},kx=async i=>new Promise((e,n)=>{const r=new FileReader;r.onloadend=()=>e(r.result),r.onerror=n,r.readAsDataURL(i)}),bj=async i=>{const e=[];for(let n=0;n<i.length;n++){const r=i[n];let l;typeof r=="string"&&r.startsWith("data:")?l=r:r instanceof File?l=await kx(r):r.file?l=await kx(r.file):r.data&&(l=r.data),e.push({data:l,name:r.name||`image-${n+1}`,isPrimary:n===0,size:r.size||(r.file?r.file.size:0)})}return e},Ej=async i=>{try{const e={...i,createdAt:kh(),updatedAt:kh(),slug:i.name.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),isActive:!0};return{id:(await HI(pn(ht,"products"),e)).id,...e}}catch(e){throw console.error("Error adding product:",e),e}},Tj=async()=>{try{const i=await An(pn(ht,"products")),e=[];return i.forEach(n=>{e.push({id:n.id,...n.data()})}),e}catch(i){throw console.error("Error getting products:",i),i}},Sj=async(i,e,n=null)=>{try{let r=e.images;n&&n.length>0&&(r=await bj(n));const l={...e,images:r,updatedAt:kh()},c=Ps(ht,"products",i);return await ia(c,l),{id:i,...l}}catch(r){throw console.error("Error updating product:",r),r}},wj=async i=>{try{return await G1(Ps(ht,"products",i)),i}catch(e){throw console.error("Error deleting product:",e),e}},Aj=async(i,e)=>{try{const n=Ps(ht,"products",i);return await ia(n,{isActive:e,updatedAt:kh()}),{id:i,isActive:e}}catch(n){throw console.error("Error toggling product status:",n),n}},Nj=()=>{const i=Fh(),[e,n]=U.useState([]),[r,l]=U.useState([]),[c,f]=U.useState(!0),[g,p]=U.useState(""),[v,b]=U.useState(""),[S,C]=U.useState({show:!1,productId:null,productName:""}),P=["ALL","GIRLS","BOYS","BABY","NEW ARRIVALS","ACCESSORIES","FOOTWEAR"];U.useEffect(()=>{Q()},[]),U.useEffect(()=>{J()},[g,v,e]);const Q=async()=>{try{f(!0);const Y=await Tj();n(Y),l(Y)}catch(Y){console.error("Error fetching products:",Y),alert("Failed to load products")}finally{f(!1)}},J=()=>{let Y=[...e];g&&(Y=Y.filter(ue=>ue.name.toLowerCase().includes(g.toLowerCase())||ue.brand?.toLowerCase().includes(g.toLowerCase())||ue.sku?.toLowerCase().includes(g.toLowerCase()))),v&&v!=="ALL"&&(Y=Y.filter(ue=>ue.category===v)),l(Y)},B=async()=>{try{await wj(S.productId),n(e.filter(Y=>Y.id!==S.productId)),C({show:!1,productId:null,productName:""}),alert("Product deleted successfully!")}catch(Y){console.error("Error deleting product:",Y),alert("Failed to delete product")}},se=async(Y,ue)=>{try{await Aj(Y,!ue),n(e.map(he=>he.id===Y?{...he,isActive:!ue}:he))}catch(he){console.error("Error toggling product status:",he),alert("Failed to update product status")}},ie=Y=>{i("/add-product",{state:{product:Y,isEditing:!0}})},G=Y=>Y===0?{label:"Out of Stock",color:"bg-red-500",textColor:"text-red-500"}:Y<=5?{label:"Low Stock",color:"bg-yellow-500",textColor:"text-yellow-500"}:{label:"In Stock",color:"bg-green-500",textColor:"text-green-500"};return c?h.jsx("div",{className:"bg-gray-900 min-h-screen flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-pink-300 mx-auto mb-4"}),h.jsx("p",{className:"text-white",children:"Loading products..."})]})}):h.jsxs("div",{className:"bg-gray-900 min-h-screen",children:[S.show&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex items-center justify-center px-4",children:h.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg max-w-md w-full",children:[h.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Confirm Delete"}),h.jsxs("p",{className:"text-gray-300 mb-6",children:['Are you sure you want to delete "',h.jsx("span",{className:"font-semibold text-pink-300",children:S.productName}),'"? This action cannot be undone.']}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:B,className:"flex-1 py-2 bg-red-500 text-white font-semibold hover:bg-red-600 transition-colors",children:"Delete"}),h.jsx("button",{onClick:()=>C({show:!1,productId:null,productName:""}),className:"flex-1 py-2 border-2 border-gray-600 text-gray-300 font-semibold hover:border-gray-500 transition-colors",children:"Cancel"})]})]})}),h.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[h.jsxs("div",{className:"mb-6 flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl lg:text-3xl font-semibold text-white",children:"Products"}),h.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:[r.length," product",r.length!==1?"s":""," found"]})]}),h.jsxs("button",{onClick:()=>i("/add-product"),className:"flex items-center justify-center gap-2 px-6 py-3 bg-pink-300 text-white font-semibold hover:bg-pink-400 transition-colors",children:[h.jsx(tb,{size:20}),"Add New Product"]})]}),h.jsxs("div",{className:"mb-6 grid lg:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"relative",children:[h.jsx(Yh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",size:20}),h.jsx("input",{type:"text",placeholder:"Search by name, brand, or SKU...",value:g,onChange:Y=>p(Y.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-700 bg-gray-800 text-white text-sm focus:outline-none focus:border-pink-300"})]}),h.jsxs("div",{className:"relative",children:[h.jsx(nA,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",size:20}),h.jsx("select",{value:v,onChange:Y=>b(Y.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-700 bg-gray-800 text-white text-sm focus:outline-none focus:border-pink-300 appearance-none cursor-pointer",children:P.map(Y=>h.jsx("option",{value:Y==="ALL"?"":Y,children:Y},Y))})]})]}),r.length===0?h.jsxs("div",{className:"text-center py-16",children:[h.jsx("p",{className:"text-gray-400 text-lg",children:"No products found"}),h.jsx("button",{onClick:()=>i("/add-product"),className:"mt-4 px-6 py-3 bg-pink-300 text-white font-semibold hover:bg-pink-400 transition-colors",children:"Add Your First Product"})]}):h.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r.map(Y=>h.jsxs("div",{className:"bg-gray-800 border border-gray-700 overflow-hidden group",children:[h.jsxs("div",{className:"relative bg-gray-700 h-64 overflow-hidden",children:[Y.images&&Y.images.length>0?h.jsx("img",{src:Y.images[0],alt:Y.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):h.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-500",children:"No Image"}),h.jsx("div",{className:"absolute top-2 left-2",children:h.jsx("button",{onClick:()=>se(Y.id,Y.isActive),className:`px-2 py-1 text-xs font-semibold ${Y.isActive?"bg-green-500 text-white":"bg-gray-500 text-white"}`,children:Y.isActive?"Active":"Inactive"})}),Y.discount>0&&h.jsxs("div",{className:"absolute top-2 right-2 bg-red-500 text-white px-2 py-1 text-xs font-bold",children:["-",Y.discount,"%"]})]}),h.jsxs("div",{className:"p-4",children:[h.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-400 mb-2",children:[h.jsx("span",{className:"bg-gray-700 px-2 py-1",children:Y.category}),Y.brand&&h.jsx("span",{children:Y.brand})]}),h.jsx("h3",{className:"text-sm font-semibold text-white mb-2 line-clamp-2 min-h-[2.5rem]",children:Y.name}),h.jsxs("div",{className:"flex items-baseline gap-2 mb-3",children:[h.jsxs("span",{className:"text-lg font-bold text-pink-300",children:["",Y.price?.toLocaleString()]}),Y.originalPrice&&Y.originalPrice>Y.price&&h.jsxs("span",{className:"text-sm text-gray-500 line-through",children:["",Y.originalPrice?.toLocaleString()]})]}),h.jsxs("div",{className:"mb-3",children:[h.jsxs("div",{className:`inline-flex items-center gap-1 px-2 py-1 text-xs font-semibold ${G(Y.stock).color} text-white`,children:[h.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-white"}),G(Y.stock).label]}),h.jsxs("span",{className:"ml-2 text-xs text-gray-400",children:["(",Y.stock||0," units)"]})]}),h.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400 mb-4",children:[h.jsxs("span",{children:[Y.sizes?.length||0," sizes"]}),h.jsx("span",{children:""}),h.jsxs("span",{children:[Y.colors?.length||0," colors"]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[h.jsxs("button",{onClick:()=>ie(Y),className:"flex items-center justify-center gap-1 py-2 border border-gray-600 text-gray-300 text-sm font-medium hover:border-pink-300 hover:text-pink-300 transition-colors",children:[h.jsx(IA,{size:16}),"Edit"]}),h.jsxs("button",{onClick:()=>C({show:!0,productId:Y.id,productName:Y.name}),className:"flex items-center justify-center gap-1 py-2 border border-gray-600 text-gray-300 text-sm font-medium hover:border-red-500 hover:text-red-500 transition-colors",children:[h.jsx(sb,{size:16}),"Delete"]})]})]})]},Y.id))})]})]})},Rj=()=>{const[i,e]=U.useState([]),[n,r]=U.useState(!0),[l,c]=U.useState(""),[f,g]=U.useState(null),[p,v]=U.useState(!1),[b,S]=U.useState("all"),[C,P]=U.useState("all"),[Q,J]=U.useState([]);U.useEffect(()=>{B()},[]);const B=async()=>{try{r(!0);const E=pn(ht,"users"),R=await An(E),j=await Promise.all(R.docs.map(async N=>{const D=N.data(),I=pn(ht,"users",N.id,"orders"),Oe=(await An(I)).docs.map(ye=>({id:ye.id,...ye.data()})),X=pn(ht,"users",N.id,"addresses"),V=(await An(X)).docs.map(ye=>({id:ye.id,...ye.data()})),ce=Oe.filter(ye=>ye.paymentStatus==="paid").reduce((ye,k)=>ye+(k.total||0),0);return{id:N.id,...D,orderCount:Oe.length,totalSpent:ce,addresses:V,lastOrderDate:Oe.length>0?Oe.sort((ye,k)=>k.createdAt?.toDate()-ye.createdAt?.toDate())[0].createdAt?.toDate():null,createdAt:D.createdAt?.toDate()||new Date}}));e(j)}catch(E){console.error("Error fetching customers:",E),alert("Failed to load customers")}finally{r(!1)}},se=async E=>{try{const R=pn(ht,"users",E,"orders"),j=tg(R,rg("createdAt","desc")),D=(await An(j)).docs.map(I=>({id:I.id,...I.data(),createdAt:I.data().createdAt?.toDate()||new Date}));J(D)}catch(R){console.error("Error fetching customer orders:",R)}},ie=async(E,R)=>{try{const j=Ps(ht,"users",E),N=R==="active"?"blocked":"active";await ia(j,{status:N,updatedAt:new Date}),e(i.map(D=>D.id===E?{...D,status:N}:D)),f?.id===E&&g({...f,status:N}),alert(`Customer ${N==="blocked"?"blocked":"activated"} successfully`)}catch(j){console.error("Error updating customer status:",j),alert("Failed to update customer status")}},G=async E=>{if(window.confirm("Are you sure you want to delete this customer? This action cannot be undone."))try{await G1(Ps(ht,"users",E)),e(i.filter(R=>R.id!==E)),v(!1),alert("Customer deleted successfully")}catch(R){console.error("Error deleting customer:",R),alert("Failed to delete customer")}},Y=E=>E.photoURL&&!E.email?.includes("gmail.com")?"facebook":E.photoURL&&E.email?.includes("gmail.com")?"google":(E.email&&!E.photoURL,"email"),he=(()=>{let E=i;return l&&(E=E.filter(R=>R.displayName?.toLowerCase().includes(l.toLowerCase())||R.email?.toLowerCase().includes(l.toLowerCase())||R.phoneNumber?.includes(l))),b!=="all"&&(E=E.filter(R=>(R.status||"active")===b)),C!=="all"&&(E=E.filter(R=>Y(R)===C)),E})(),w={total:i.length,active:i.filter(E=>(E.status||"active")==="active").length,blocked:i.filter(E=>E.status==="blocked").length,withOrders:i.filter(E=>E.orderCount>0).length,totalRevenue:i.reduce((E,R)=>E+(R.totalSpent||0),0),avgOrderValue:i.filter(E=>E.orderCount>0).length>0?i.reduce((E,R)=>E+(R.totalSpent||0),0)/i.filter(E=>E.orderCount>0).reduce((E,R)=>E+R.orderCount,0):0,emailSignups:i.filter(E=>E.email&&!E.photoURL).length,googleSignups:i.filter(E=>E.photoURL&&E.email?.includes("gmail.com")).length,facebookSignups:i.filter(E=>E.photoURL&&!E.email?.includes("gmail.com")).length};return n?h.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-pink-300 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600",children:"Loading customers..."})]})}):h.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs("div",{className:"mb-8",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Customer Management"}),h.jsx("p",{className:"text-gray-600",children:"View and manage all registered customers"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[h.jsxs("div",{className:"bg-white p-6 border border-gray-200 shadow-sm",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("span",{className:"text-sm text-gray-600",children:"Total Customers"}),h.jsx(Xr,{className:"text-gray-400",size:24})]}),h.jsx("p",{className:"text-3xl font-bold text-gray-900",children:w.total}),h.jsxs("p",{className:"text-xs text-green-600 mt-1",children:[h.jsx(Bo,{size:12,className:"inline mr-1"}),w.active," active"]})]}),h.jsxs("div",{className:"bg-white p-6 border border-gray-200 shadow-sm",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("span",{className:"text-sm text-gray-600",children:"Customers with Orders"}),h.jsx(al,{className:"text-purple-500",size:24})]}),h.jsx("p",{className:"text-3xl font-bold text-purple-600",children:w.withOrders}),h.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[(w.withOrders/w.total*100).toFixed(1),"% conversion"]})]}),h.jsxs("div",{className:"bg-white p-6 border border-gray-200 shadow-sm",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("span",{className:"text-sm text-gray-600",children:"Total Revenue"}),h.jsx(Pm,{className:"text-green-500",size:24})]}),h.jsxs("p",{className:"text-3xl font-bold text-green-600",children:["",(w.totalRevenue/1e3).toFixed(1),"k"]}),h.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"From all customers"})]}),h.jsxs("div",{className:"bg-white p-6 border border-gray-200 shadow-sm",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("span",{className:"text-sm text-gray-600",children:"Avg Order Value"}),h.jsx(Bo,{className:"text-blue-500",size:24})]}),h.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:["",(w.avgOrderValue/1e3).toFixed(1),"k"]}),h.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Per order average"})]})]}),h.jsxs("div",{className:"bg-white border border-gray-200 p-6 mb-6 shadow-sm",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Sign-up Methods"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 border border-blue-200",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Email Sign-ups"}),h.jsx("p",{className:"text-2xl font-bold text-blue-600",children:w.emailSignups})]}),h.jsx(zo,{className:"text-blue-500",size:32})]}),h.jsxs("div",{className:"flex items-center justify-between p-4 bg-red-50 border border-red-200",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Google Sign-ups"}),h.jsx("p",{className:"text-2xl font-bold text-red-600",children:w.googleSignups})]}),h.jsxs("svg",{className:"w-8 h-8",viewBox:"0 0 24 24",children:[h.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),h.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),h.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),h.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]})]}),h.jsxs("div",{className:"flex items-center justify-between p-4 bg-indigo-50 border border-indigo-200",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Facebook Sign-ups"}),h.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:w.facebookSignups})]}),h.jsx("svg",{className:"w-8 h-8",viewBox:"0 0 24 24",fill:"#1877F2",children:h.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})]})]})]}),h.jsx("div",{className:"bg-white border border-gray-200 p-4 mb-6",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs("div",{className:"relative",children:[h.jsx(Yh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),h.jsx("input",{type:"text",placeholder:"Search customers...",value:l,onChange:E=>c(E.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 focus:outline-none focus:border-pink-300"})]}),h.jsxs("select",{value:b,onChange:E=>S(E.target.value),className:"px-3 py-2 border border-gray-300 focus:outline-none focus:border-pink-300",children:[h.jsx("option",{value:"all",children:"All Status"}),h.jsx("option",{value:"active",children:"Active"}),h.jsx("option",{value:"blocked",children:"Blocked"})]}),h.jsxs("select",{value:C,onChange:E=>P(E.target.value),className:"px-3 py-2 border border-gray-300 focus:outline-none focus:border-pink-300",children:[h.jsx("option",{value:"all",children:"All Auth Methods"}),h.jsx("option",{value:"email",children:"Email"}),h.jsx("option",{value:"google",children:"Google"}),h.jsx("option",{value:"facebook",children:"Facebook"})]})]})}),h.jsx("div",{className:"bg-white border border-gray-200 overflow-hidden",children:he.length===0?h.jsxs("div",{className:"text-center py-12",children:[h.jsx(Xr,{className:"mx-auto text-gray-400 mb-4",size:48}),h.jsx("p",{className:"text-gray-600",children:"No customers found"})]}):h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Customer"}),h.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Contact"}),h.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Joined"}),h.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Orders"}),h.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Total Spent"}),h.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Status"}),h.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Actions"})]})}),h.jsx("tbody",{className:"divide-y divide-gray-200",children:he.map(E=>h.jsxs("tr",{className:"hover:bg-gray-50",children:[h.jsx("td",{className:"px-4 py-3",children:h.jsxs("div",{className:"flex items-center gap-3",children:[E.photoURL?h.jsx("img",{src:E.photoURL,alt:E.displayName,className:"w-10 h-10 rounded-full border-2 border-gray-200"}):h.jsx("div",{className:"w-10 h-10 rounded-full bg-pink-100 flex items-center justify-center",children:h.jsx(Xr,{className:"text-pink-300",size:20})}),h.jsx("div",{children:h.jsx("p",{className:"font-medium text-gray-900",children:E.displayName||"No Name"})})]})}),h.jsx("td",{className:"px-4 py-3 text-sm",children:h.jsxs("div",{children:[E.email&&h.jsxs("p",{className:"text-gray-900 flex items-center gap-1",children:[h.jsx(zo,{size:14,className:"text-gray-400"}),E.email]}),E.phoneNumber&&h.jsxs("p",{className:"text-gray-600 flex items-center gap-1 text-xs",children:[h.jsx(bh,{size:12,className:"text-gray-400"}),E.phoneNumber]})]})}),h.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:E.createdAt.toLocaleDateString()}),h.jsx("td",{className:"px-4 py-3 text-sm font-semibold text-gray-900",children:E.orderCount||0}),h.jsxs("td",{className:"px-4 py-3 text-sm font-semibold text-gray-900",children:["",(E.totalSpent||0).toLocaleString()]}),h.jsx("td",{className:"px-4 py-3",children:h.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded ${(E.status||"active")==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:(E.status||"active")==="active"?"Active":"Blocked"})}),h.jsx("td",{className:"px-4 py-3",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:()=>{g(E),se(E.id),v(!0)},className:"text-pink-300 hover:text-pink-400",title:"View Details",children:h.jsx(oc,{size:18})}),h.jsx("button",{onClick:()=>ie(E.id,E.status||"active"),className:`${(E.status||"active")==="active"?"text-red-500 hover:text-red-600":"text-green-500 hover:text-green-600"}`,title:(E.status||"active")==="active"?"Block Customer":"Activate Customer",children:(E.status||"active")==="active"?h.jsx(e_,{size:18}):h.jsx(Wv,{size:18})})]})})]},E.id))})]})})})]}),p&&f&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:h.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[h.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[h.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Customer Details"}),h.jsx("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-gray-600",children:""})]}),h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex items-start gap-6 mb-6 pb-6 border-b border-gray-200",children:[f.photoURL?h.jsx("img",{src:f.photoURL,alt:f.displayName,className:"w-24 h-24 rounded-full border-4 border-gray-200"}):h.jsx("div",{className:"w-24 h-24 rounded-full bg-pink-100 flex items-center justify-center border-4 border-gray-200",children:h.jsx(Xr,{className:"text-pink-300",size:40})}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h4",{className:"text-2xl font-bold text-gray-900 mb-2",children:f.displayName||"No Name"}),h.jsxs("div",{className:"space-y-2 mb-4",children:[f.email&&h.jsxs("p",{className:"text-gray-700 flex items-center gap-2",children:[h.jsx(zo,{size:16,className:"text-gray-400"}),f.email]}),f.phoneNumber&&h.jsxs("p",{className:"text-gray-700 flex items-center gap-2",children:[h.jsx(bh,{size:16,className:"text-gray-400"}),f.phoneNumber]}),h.jsxs("p",{className:"text-gray-700 flex items-center gap-2",children:[h.jsx(Zx,{size:16,className:"text-gray-400"}),"Joined: ",f.createdAt.toLocaleDateString()]})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded ${(f.status||"active")==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:(f.status||"active")==="active"?"Active":"Blocked"}),h.jsx("span",{className:"px-3 py-1 text-sm font-medium rounded bg-blue-100 text-blue-800",children:f.photoURL?"Google Auth":f.phoneNumber?"Phone Auth":"Email Auth"})]})]})]}),h.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[h.jsxs("div",{className:"bg-purple-50 border border-purple-200 p-4 text-center",children:[h.jsx(al,{className:"mx-auto text-purple-500 mb-2",size:24}),h.jsx("p",{className:"text-2xl font-bold text-purple-600",children:f.orderCount||0}),h.jsx("p",{className:"text-xs text-gray-600",children:"Total Orders"})]}),h.jsxs("div",{className:"bg-green-50 border border-green-200 p-4 text-center",children:[h.jsx(Pm,{className:"mx-auto text-green-500 mb-2",size:24}),h.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",(f.totalSpent||0).toLocaleString()]}),h.jsx("p",{className:"text-xs text-gray-600",children:"Total Spent"})]}),h.jsxs("div",{className:"bg-blue-50 border border-blue-200 p-4 text-center",children:[h.jsx(xh,{className:"mx-auto text-blue-500 mb-2",size:24}),h.jsx("p",{className:"text-2xl font-bold text-blue-600",children:f.addresses?.length||0}),h.jsx("p",{className:"text-xs text-gray-600",children:"Saved Addresses"})]})]}),f.addresses&&f.addresses.length>0&&h.jsxs("div",{className:"mb-6",children:[h.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[h.jsx(xh,{size:18,className:"text-pink-300"}),"Saved Addresses"]}),h.jsx("div",{className:"space-y-3",children:f.addresses.map(E=>h.jsxs("div",{className:"border border-gray-200 p-4 bg-gray-50",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx("span",{className:"font-semibold text-gray-900",children:E.label}),E.isDefault&&h.jsx("span",{className:"px-2 py-0.5 bg-pink-300 text-white text-xs font-medium rounded",children:"Default"})]}),h.jsx("p",{className:"text-sm text-gray-900 font-medium",children:E.name}),h.jsx("p",{className:"text-sm text-gray-600",children:E.address}),h.jsxs("p",{className:"text-sm text-gray-600",children:[E.city,", ",E.state]}),h.jsx("p",{className:"text-sm text-gray-600",children:E.phone})]},E.id))})]}),h.jsxs("div",{className:"mb-6",children:[h.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[h.jsx(al,{size:18,className:"text-pink-300"}),"Recent Orders"]}),Q.length===0?h.jsx("p",{className:"text-gray-600 text-sm",children:"No orders yet"}):h.jsx("div",{className:"space-y-3",children:Q.slice(0,5).map(E=>h.jsxs("div",{className:"border border-gray-200 p-4 bg-gray-50",children:[h.jsxs("div",{className:"flex justify-between items-start mb-2",children:[h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold text-gray-900",children:E.orderNumber}),h.jsx("p",{className:"text-xs text-gray-600",children:E.createdAt.toLocaleDateString()})]}),h.jsxs("div",{className:"text-right",children:[h.jsxs("p",{className:"font-bold text-gray-900",children:["",(E.total||0).toLocaleString()]}),h.jsx("span",{className:`text-xs px-2 py-1 rounded ${E.status==="delivered"?"bg-green-100 text-green-800":E.status==="shipped"?"bg-purple-100 text-purple-800":E.status==="processing"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:E.status||"pending"})]})]}),h.jsxs("p",{className:"text-sm text-gray-600",children:[E.items?.length||0," items"]})]},E.id))})]}),h.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[h.jsx("button",{onClick:()=>ie(f.id,f.status||"active"),className:`flex-1 px-4 py-2 font-medium rounded flex items-center justify-center gap-2 ${(f.status||"active")==="active"?"bg-red-500 hover:bg-red-600 text-white":"bg-green-500 hover:bg-green-600 text-white"}`,children:(f.status||"active")==="active"?h.jsxs(h.Fragment,{children:[h.jsx(e_,{size:18}),"Block Customer"]}):h.jsxs(h.Fragment,{children:[h.jsx(Wv,{size:18}),"Activate Customer"]})}),h.jsxs("button",{onClick:()=>G(f.id),className:"px-4 py-2 bg-gray-900 hover:bg-black text-white font-medium rounded flex items-center justify-center gap-2",children:[h.jsx(sb,{size:18}),"Delete Customer"]})]})]})]})})]})},Cj=()=>h.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:h.jsxs("div",{className:"text-center space-y-6",children:[h.jsx("div",{className:"inline-block",children:h.jsx("div",{className:"w-20 h-20 border-4 border-pink-500 border-t-transparent rounded-full animate-spin mx-auto mb-6"})}),h.jsx("h1",{className:"text-5xl md:text-7xl font-bold text-pink-500",children:"Coming Soon"}),h.jsx("p",{className:"text-gray-400 text-lg md:text-xl max-w-md mx-auto",children:"Analytics dashboard is under construction. Stay tuned for powerful insights!"}),h.jsxs("div",{className:"flex gap-2 justify-center mt-8",children:[h.jsx("div",{className:"w-3 h-3 bg-pink-500 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),h.jsx("div",{className:"w-3 h-3 bg-pink-500 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),h.jsx("div",{className:"w-3 h-3 bg-pink-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})}),Ij=()=>h.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:h.jsxs("div",{className:"text-center space-y-6",children:[h.jsx("div",{className:"inline-block",children:h.jsx("div",{className:"w-20 h-20 border-4 border-pink-500 border-t-transparent rounded-full animate-spin mx-auto mb-6"})}),h.jsx("h1",{className:"text-5xl md:text-7xl font-bold text-pink-500",children:"Coming Soon"}),h.jsx("p",{className:"text-gray-400 text-lg md:text-xl max-w-md mx-auto",children:"Promotions dashboard is under construction. Stay tuned for amazing deals!"}),h.jsxs("div",{className:"flex gap-2 justify-center mt-8",children:[h.jsx("div",{className:"w-3 h-3 bg-pink-500 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),h.jsx("div",{className:"w-3 h-3 bg-pink-500 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),h.jsx("div",{className:"w-3 h-3 bg-pink-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})}),jj=()=>{const[i,e]=U.useState([]),[n,r]=U.useState(!0),[l,c]=U.useState(""),[f,g]=U.useState("all"),[p,v]=U.useState("all"),[b,S]=U.useState(null),[C,P]=U.useState(!1),[Q,J]=U.useState("");U.useEffect(()=>{B()},[]);const B=async()=>{try{r(!0);const w=[],E=await An(pn(ht,"users"));for(const R of E.docs){const j=pn(ht,"users",R.id,"orders"),N=tg(j,rg("createdAt","desc"));(await An(N)).forEach(I=>{const pe=I.data();["processing","shipped","delivered"].includes(pe.status)&&w.push({id:I.id,userId:R.id,...pe,createdAt:pe.createdAt?.toDate?pe.createdAt.toDate():new Date(pe.createdAt||Date.now()),updatedAt:pe.updatedAt?.toDate?pe.updatedAt.toDate():pe.updatedAt?new Date(pe.updatedAt):null,shippedAt:pe.shippedAt?.toDate?pe.shippedAt.toDate():pe.shippedAt?new Date(pe.shippedAt):null,deliveredAt:pe.deliveredAt?.toDate?pe.deliveredAt.toDate():pe.deliveredAt?new Date(pe.deliveredAt):null})})}e(w)}catch(w){console.error("Error fetching shipments:",w),alert("Failed to load shipments")}finally{r(!1)}},se=async(w,E,R)=>{try{const j=Ps(ht,"users",w,"orders",E),N={status:R,updatedAt:new Date};R==="shipped"&&!b.shippedAt&&(N.shippedAt=new Date),R==="delivered"&&!b.deliveredAt&&(N.deliveredAt=new Date),await ia(j,N),e(i.map(D=>D.id===E?{...D,...N}:D)),b?.id===E&&S({...b,...N}),alert("Shipment status updated successfully")}catch(j){console.error("Error updating shipment:",j),alert("Failed to update shipment status")}},ie=async(w,E,R)=>{try{const j=Ps(ht,"users",w,"orders",E);await ia(j,{trackingNumber:R,updatedAt:new Date}),e(i.map(N=>N.id===E?{...N,trackingNumber:R}:N)),b?.id===E&&S({...b,trackingNumber:R}),J(""),alert("Tracking number added successfully")}catch(j){console.error("Error adding tracking number:",j),alert("Failed to add tracking number")}},G=w=>({processing:"bg-blue-100 text-blue-800 border-blue-300",shipped:"bg-purple-100 text-purple-800 border-purple-300",delivered:"bg-green-100 text-green-800 border-green-300"})[w]||"bg-gray-100 text-gray-800 border-gray-300",ue=(()=>{let w=i;return l&&(w=w.filter(E=>E.orderNumber?.toLowerCase().includes(l.toLowerCase())||E.trackingNumber?.toLowerCase().includes(l.toLowerCase())||E.shippingAddress?.email?.toLowerCase().includes(l.toLowerCase())||`${E.shippingAddress?.firstName} ${E.shippingAddress?.lastName}`.toLowerCase().includes(l.toLowerCase()))),f!=="all"&&(w=w.filter(E=>E.status===f)),p!=="all"&&(w=w.filter(E=>E.shippingMethod===p)),w})(),he={total:i.length,processing:i.filter(w=>w.status==="processing").length,shipped:i.filter(w=>w.status==="shipped").length,delivered:i.filter(w=>w.status==="delivered").length,needsTracking:i.filter(w=>!w.trackingNumber&&w.status==="shipped").length};return n?h.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-pink-300 mx-auto mb-4"}),h.jsx("p",{className:"text-white",children:"Loading shipments..."})]})}):h.jsxs("div",{className:"min-h-screen bg-slate-900 p-6",children:[h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs("div",{className:"mb-8",children:[h.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Shipping Management"}),h.jsx("p",{className:"text-gray-400",children:"Track and manage all shipments"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-6",children:[h.jsxs("div",{className:"bg-slate-800 p-4 border border-pink-500 shadow-sm",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("span",{className:"text-sm text-white",children:"Total Shipments"}),h.jsx(oi,{className:"text-white",size:20})]}),h.jsx("p",{className:"text-2xl font-bold text-white",children:he.total})]}),h.jsxs("div",{className:"bg-slate-800 p-4 border border-pink-500 shadow-sm",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("span",{className:"text-sm text-white",children:"Processing"}),h.jsx(_h,{className:"text-blue-500",size:20})]}),h.jsx("p",{className:"text-2xl font-bold text-blue-400",children:he.processing})]}),h.jsxs("div",{className:"bg-slate-800 p-4 border border-pink-500 shadow-sm",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("span",{className:"text-sm text-white",children:"In Transit"}),h.jsx(ll,{className:"text-purple-500",size:20})]}),h.jsx("p",{className:"text-2xl font-bold text-purple-400",children:he.shipped})]}),h.jsxs("div",{className:"bg-slate-800 p-4 border border-pink-500 shadow-sm",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("span",{className:"text-sm text-white",children:"Delivered"}),h.jsx(Wx,{className:"text-green-500",size:20})]}),h.jsx("p",{className:"text-2xl font-bold text-green-400",children:he.delivered})]}),h.jsxs("div",{className:"bg-slate-800 p-4 border border-pink-500 shadow-sm",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("span",{className:"text-sm text-white",children:"Needs Tracking"}),h.jsx(yp,{className:"text-yellow-500",size:20})]}),h.jsx("p",{className:"text-2xl font-bold text-yellow-400",children:he.needsTracking})]})]}),h.jsx("div",{className:"bg-slate-800 border border-pink-500 p-4 mb-6",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs("div",{className:"relative",children:[h.jsx(Yh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),h.jsx("input",{type:"text",placeholder:"Search by order, tracking, customer...",value:l,onChange:w=>c(w.target.value),className:"w-full pl-10 pr-3 py-2 bg-slate-900 border border-pink-500 text-white placeholder-gray-500 focus:outline-none focus:border-pink-300"})]}),h.jsxs("select",{value:f,onChange:w=>g(w.target.value),className:"px-3 py-2 bg-slate-900 border border-pink-500 text-white focus:outline-none focus:border-pink-300",children:[h.jsx("option",{value:"all",children:"All Status"}),h.jsx("option",{value:"processing",children:"Processing"}),h.jsx("option",{value:"shipped",children:"In Transit"}),h.jsx("option",{value:"delivered",children:"Delivered"})]}),h.jsxs("select",{value:p,onChange:w=>v(w.target.value),className:"px-3 py-2 bg-slate-900 border border-pink-500 text-white focus:outline-none focus:border-pink-300",children:[h.jsx("option",{value:"all",children:"All Methods"}),h.jsx("option",{value:"express",children:"Express Delivery"}),h.jsx("option",{value:"standard",children:"Standard Delivery"})]})]})}),h.jsx("div",{className:"bg-slate-800 border border-pink-500 overflow-hidden",children:ue.length===0?h.jsxs("div",{className:"text-center py-12",children:[h.jsx(ll,{className:"mx-auto text-gray-500 mb-4",size:48}),h.jsx("p",{className:"text-gray-400",children:"No shipments found"})]}):h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{className:"bg-slate-700 border-b border-pink-500",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-300 uppercase",children:"Order #"}),h.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-300 uppercase",children:"Customer"}),h.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-300 uppercase",children:"Destination"}),h.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-300 uppercase",children:"Method"}),h.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-300 uppercase",children:"Tracking"}),h.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-300 uppercase",children:"Status"}),h.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-300 uppercase",children:"Actions"})]})}),h.jsx("tbody",{className:"divide-y divide-pink-500",children:ue.map(w=>h.jsxs("tr",{className:"hover:bg-slate-700",children:[h.jsx("td",{className:"px-4 py-3 text-sm font-medium text-white",children:w.orderNumber}),h.jsx("td",{className:"px-4 py-3 text-sm text-white",children:h.jsxs("div",{children:[h.jsxs("p",{className:"font-medium",children:[w.shippingAddress?.firstName," ",w.shippingAddress?.lastName]}),h.jsx("p",{className:"text-xs text-gray-400",children:w.shippingAddress?.phone})]})}),h.jsx("td",{className:"px-4 py-3 text-sm text-white",children:h.jsxs("div",{children:[h.jsx("p",{children:w.shippingAddress?.city}),h.jsx("p",{className:"text-xs text-gray-400",children:w.shippingAddress?.state})]})}),h.jsx("td",{className:"px-4 py-3 text-sm text-white",children:w.shippingMethod==="express"?"Express":"Standard"}),h.jsx("td",{className:"px-4 py-3 text-sm text-white",children:w.trackingNumber?h.jsx("span",{className:"font-mono text-xs bg-slate-700 px-2 py-1 rounded border border-pink-500",children:w.trackingNumber}):h.jsx("span",{className:"text-yellow-400 text-xs",children:"Not assigned"})}),h.jsx("td",{className:"px-4 py-3",children:h.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded border ${G(w.status)}`,children:w.status==="processing"?"Processing":w.status==="shipped"?"In Transit":"Delivered"})}),h.jsx("td",{className:"px-4 py-3",children:h.jsx("button",{onClick:()=>{S(w),P(!0)},className:"text-pink-300 hover:text-pink-400 font-medium text-sm",children:h.jsx(oc,{size:18})})})]},w.id))})]})})})]}),C&&b&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:h.jsxs("div",{className:"bg-slate-800 rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto border border-pink-500",children:[h.jsxs("div",{className:"sticky top-0 bg-slate-700 border-b border-pink-500 px-6 py-4 flex items-center justify-between",children:[h.jsx("h3",{className:"text-xl font-bold text-white",children:"Shipment Details"}),h.jsx("button",{onClick:()=>P(!1),className:"text-gray-400 hover:text-white",children:""})]}),h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"bg-slate-900 p-4 border border-pink-500",children:[h.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Order Number"}),h.jsx("p",{className:"text-lg font-bold text-white",children:b.orderNumber})]}),h.jsxs("div",{className:"border border-pink-500 p-4",children:[h.jsxs("h4",{className:"font-semibold text-white mb-3 flex items-center gap-2",children:[h.jsx(oi,{size:18,className:"text-pink-300"}),"Customer Information"]}),h.jsxs("div",{className:"space-y-2 text-sm",children:[h.jsxs("p",{className:"text-white",children:[h.jsx("span",{className:"font-medium",children:"Name:"})," ",b.shippingAddress?.firstName," ",b.shippingAddress?.lastName]}),h.jsxs("p",{className:"text-white flex items-center gap-2",children:[h.jsx(zo,{size:14,className:"text-gray-400"}),b.shippingAddress?.email]}),h.jsxs("p",{className:"text-white flex items-center gap-2",children:[h.jsx(bh,{size:14,className:"text-gray-400"}),b.shippingAddress?.phone]})]})]}),h.jsxs("div",{className:"border border-pink-500 p-4",children:[h.jsxs("h4",{className:"font-semibold text-white mb-3 flex items-center gap-2",children:[h.jsx(xh,{size:18,className:"text-pink-300"}),"Delivery Address"]}),h.jsxs("div",{className:"text-sm text-white",children:[h.jsx("p",{children:b.shippingAddress?.address}),h.jsxs("p",{children:[b.shippingAddress?.city,", ",b.shippingAddress?.state]}),h.jsx("p",{children:b.shippingAddress?.country}),b.shippingAddress?.zipCode&&h.jsxs("p",{children:["Zip: ",b.shippingAddress.zipCode]})]})]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"border border-pink-500 p-4",children:[h.jsx("h4",{className:"font-semibold text-white mb-3",children:"Update Status"}),h.jsxs("select",{value:b.status,onChange:w=>se(b.userId,b.id,w.target.value),className:"w-full px-3 py-2 bg-slate-900 border border-pink-500 text-white focus:outline-none focus:border-pink-300",children:[h.jsx("option",{value:"processing",children:"Processing"}),h.jsx("option",{value:"shipped",children:"In Transit"}),h.jsx("option",{value:"delivered",children:"Delivered"})]})]}),h.jsxs("div",{className:"border border-pink-500 p-4",children:[h.jsx("h4",{className:"font-semibold text-white mb-3",children:"Tracking Number"}),b.trackingNumber?h.jsx("div",{className:"bg-slate-900 p-3 border border-pink-500",children:h.jsx("p",{className:"font-mono text-white text-lg",children:b.trackingNumber})}):h.jsxs("div",{className:"space-y-2",children:[h.jsx("input",{type:"text",placeholder:"Enter tracking number",value:Q,onChange:w=>J(w.target.value),className:"w-full px-3 py-2 bg-slate-900 border border-pink-500 text-white focus:outline-none focus:border-pink-300"}),h.jsx("button",{onClick:()=>ie(b.userId,b.id,Q),disabled:!Q,className:"w-full bg-pink-300 text-white px-4 py-2 hover:bg-pink-400 disabled:bg-gray-600 disabled:cursor-not-allowed",children:"Add Tracking Number"})]})]}),h.jsxs("div",{className:"border border-pink-500 p-4",children:[h.jsxs("h4",{className:"font-semibold text-white mb-3 flex items-center gap-2",children:[h.jsx(ll,{size:18,className:"text-pink-300"}),"Shipping Method"]}),h.jsx("p",{className:"text-sm text-white",children:b.shippingMethod==="express"?"Express Delivery (2-3 days)":"Standard Delivery (5-7 days)"})]}),h.jsxs("div",{className:"border border-pink-500 p-4",children:[h.jsxs("h4",{className:"font-semibold text-white mb-3 flex items-center gap-2",children:[h.jsx(Zx,{size:18,className:"text-pink-300"}),"Timeline"]}),h.jsxs("div",{className:"space-y-2 text-sm",children:[h.jsxs("p",{className:"text-white",children:[h.jsx("span",{className:"font-medium",children:"Ordered:"})," ",b.createdAt.toLocaleString()]}),b.shippedAt&&h.jsxs("p",{className:"text-white",children:[h.jsx("span",{className:"font-medium",children:"Shipped:"})," ",b.shippedAt.toLocaleString()]}),b.deliveredAt&&h.jsxs("p",{className:"text-white",children:[h.jsx("span",{className:"font-medium",children:"Delivered:"})," ",b.deliveredAt.toLocaleString()]})]})]})]})]}),h.jsxs("div",{className:"border border-pink-500 p-4",children:[h.jsx("h4",{className:"font-semibold text-white mb-4",children:"Package Contents"}),h.jsx("div",{className:"space-y-3",children:b.items?.map((w,E)=>h.jsxs("div",{className:"flex gap-4 p-3 bg-slate-900 border border-pink-500",children:[h.jsx("img",{src:w.image,alt:w.name,className:"w-16 h-20 object-cover border border-pink-500"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h5",{className:"font-medium text-white",children:w.name}),h.jsxs("p",{className:"text-sm text-gray-400",children:["Size: ",w.size]}),h.jsxs("p",{className:"text-sm text-gray-400",children:["Quantity: ",w.quantity]})]})]},E))})]})]})]})})]})},Dj=()=>h.jsx("div",{children:"Reviews"}),Oj=()=>{const[i,e]=U.useState([]),[n,r]=U.useState([]),[l,c]=U.useState(!0),[f,g]=U.useState(null),[p,v]=U.useState(null),[b,S]=U.useState(!1),[C,P]=U.useState(""),[Q,J]=U.useState("all"),[B,se]=U.useState("all"),[ie,G]=U.useState("all"),Y=async()=>{try{c(!0),g(null);const N=[];console.log("Starting to fetch orders...");const D=pn(ht,"users"),I=await An(D);console.log(`Found ${I.docs.length} users`);for(const pe of I.docs)try{const Oe=pn(ht,"users",pe.id,"orders"),X=await An(Oe);console.log(`User ${pe.id} has ${X.docs.length} orders`),X.docs.forEach(le=>{const V=le.data();N.push({id:le.id,userId:pe.id,...V,createdAt:V.createdAt?.toDate?V.createdAt.toDate():new Date(V.createdAt||Date.now())})})}catch(Oe){console.error(`Error fetching orders for user ${pe.id}:`,Oe)}console.log(`Total orders fetched: ${N.length}`),N.sort((pe,Oe)=>Oe.createdAt-pe.createdAt),e(N),r(N)}catch(N){console.error("Error fetching orders:",N),g(N.message)}finally{c(!1)}};U.useEffect(()=>{Y()},[]),U.useEffect(()=>{let N=[...i];if(C&&(N=N.filter(D=>D.orderNumber?.toLowerCase().includes(C.toLowerCase())||D.shippingAddress?.email?.toLowerCase().includes(C.toLowerCase())||D.shippingAddress?.phone?.includes(C)||`${D.shippingAddress?.firstName} ${D.shippingAddress?.lastName}`.toLowerCase().includes(C.toLowerCase()))),Q!=="all"&&(N=N.filter(D=>D.status===Q)),B!=="all"&&(N=N.filter(D=>D.paymentStatus===B)),ie!=="all"){const D=new Date;N=N.filter(I=>{const pe=I.createdAt,Oe=Math.floor((D-pe)/(1e3*60*60*24));switch(ie){case"today":return Oe===0;case"week":return Oe<=7;case"month":return Oe<=30;default:return!0}})}r(N)},[C,Q,B,ie,i]);const ue=async(N,D,I)=>{try{const pe=Ps(ht,"users",N,"orders",D);await ia(pe,{status:I,updatedAt:new Date}),alert("Order status updated successfully!"),await Y(),p?.id===D&&v({...p,status:I})}catch(pe){console.error("Error updating order status:",pe),alert("Failed to update order status: "+pe.message)}},he=async(N,D,I)=>{try{const pe=Ps(ht,"users",N,"orders",D);await ia(pe,{paymentStatus:I,updatedAt:new Date}),alert("Payment status updated successfully!"),await Y(),p?.id===D&&v({...p,paymentStatus:I})}catch(pe){console.error("Error updating payment status:",pe),alert("Failed to update payment status: "+pe.message)}},w=N=>{const D={pending:"bg-yellow-100 text-yellow-800",processing:"bg-blue-100 text-blue-800",shipped:"bg-purple-100 text-purple-800",delivered:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"};return D[N]||D.pending},E=N=>{const D={pending:"bg-yellow-100 text-yellow-800",paid:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800",refunded:"bg-gray-100 text-gray-800"};return D[N]||D.pending},R=N=>{if(!N)return"N/A";try{return new Date(N).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Invalid Date"}},j={total:i.length,pending:i.filter(N=>N.status==="pending").length,processing:i.filter(N=>N.status==="processing").length,shipped:i.filter(N=>N.status==="shipped").length,delivered:i.filter(N=>N.status==="delivered").length,totalRevenue:i.reduce((N,D)=>N+(D.total||0),0),paidOrders:i.filter(N=>N.paymentStatus==="paid").length};return l?h.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-pink-300 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600",children:"Loading orders..."})]})}):f?h.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:h.jsxs("div",{className:"bg-white border border-red-200 p-8 max-w-md w-full",children:[h.jsxs("div",{className:"flex items-center gap-3 text-red-600 mb-4",children:[h.jsx(yp,{size:24}),h.jsx("h2",{className:"text-xl font-bold",children:"Error Loading Orders"})]}),h.jsx("p",{className:"text-gray-700 mb-4",children:f}),h.jsx("button",{onClick:Y,className:"w-full py-2 bg-pink-300 text-white font-medium hover:bg-pink-400",children:"Retry"})]})}):h.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs("div",{className:"mb-8 flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Order Management"}),h.jsx("p",{className:"text-gray-600",children:"Manage and track all customer orders"})]}),h.jsxs("button",{onClick:Y,className:"px-4 py-2 bg-pink-300 text-white font-medium hover:bg-pink-400 flex items-center gap-2",children:[h.jsx(_h,{size:18}),"Refresh"]})]}),h.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 text-sm",children:[h.jsx("p",{className:"font-semibold text-blue-900",children:"Debug Info:"}),h.jsxs("p",{className:"text-blue-800",children:["Total orders loaded: ",i.length]}),h.jsxs("p",{className:"text-blue-800",children:["Filtered orders: ",n.length]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[h.jsx("div",{className:"bg-white p-6 border border-gray-200",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Orders"}),h.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j.total})]}),h.jsx(oi,{className:"text-pink-300",size:32})]})}),h.jsx("div",{className:"bg-white p-6 border border-gray-200",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Pending"}),h.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:j.pending})]}),h.jsx(_h,{className:"text-yellow-600",size:32})]})}),h.jsx("div",{className:"bg-white p-6 border border-gray-200",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Delivered"}),h.jsx("p",{className:"text-2xl font-bold text-green-600",children:j.delivered})]}),h.jsx(Fw,{className:"text-green-600",size:32})]})}),h.jsx("div",{className:"bg-white p-6 border border-gray-200",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Revenue"}),h.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["",j.totalRevenue.toLocaleString()]})]}),h.jsx(eb,{className:"text-pink-300",size:32})]})})]}),h.jsxs("div",{className:"bg-white border border-gray-200 p-6 mb-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[h.jsxs("div",{className:"md:col-span-2",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Orders"}),h.jsxs("div",{className:"relative",children:[h.jsx(Yh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),h.jsx("input",{type:"text",placeholder:"Search by order number, email, phone...",value:C,onChange:N=>P(N.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 focus:outline-none focus:border-pink-300"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Status"}),h.jsxs("select",{value:Q,onChange:N=>J(N.target.value),className:"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-pink-300",children:[h.jsx("option",{value:"all",children:"All Status"}),h.jsx("option",{value:"pending",children:"Pending"}),h.jsx("option",{value:"processing",children:"Processing"}),h.jsx("option",{value:"shipped",children:"Shipped"}),h.jsx("option",{value:"delivered",children:"Delivered"}),h.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Status"}),h.jsxs("select",{value:B,onChange:N=>se(N.target.value),className:"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-pink-300",children:[h.jsx("option",{value:"all",children:"All Payments"}),h.jsx("option",{value:"pending",children:"Pending"}),h.jsx("option",{value:"paid",children:"Paid"}),h.jsx("option",{value:"failed",children:"Failed"}),h.jsx("option",{value:"refunded",children:"Refunded"})]})]})]}),h.jsxs("div",{className:"mt-4 flex gap-2",children:[h.jsx("button",{onClick:()=>G("all"),className:`px-4 py-2 text-sm font-medium ${ie==="all"?"bg-pink-300 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"All Time"}),h.jsx("button",{onClick:()=>G("today"),className:`px-4 py-2 text-sm font-medium ${ie==="today"?"bg-pink-300 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Today"}),h.jsx("button",{onClick:()=>G("week"),className:`px-4 py-2 text-sm font-medium ${ie==="week"?"bg-pink-300 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"This Week"}),h.jsx("button",{onClick:()=>G("month"),className:`px-4 py-2 text-sm font-medium ${ie==="month"?"bg-pink-300 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"This Month"})]})]}),h.jsx("div",{className:"bg-white border border-gray-200 overflow-hidden",children:h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.length===0?h.jsx("tr",{children:h.jsxs("td",{colSpan:"7",className:"px-6 py-12 text-center",children:[h.jsx(oi,{className:"mx-auto text-gray-400 mb-3",size:48}),h.jsx("p",{className:"text-gray-500 font-medium",children:"No orders found"}),h.jsx("p",{className:"text-sm text-gray-400 mt-1",children:i.length===0?"There are no orders in the system yet.":"Try adjusting your filters to see more results."})]})}):n.map(N=>h.jsxs("tr",{className:"hover:bg-gray-50",children:[h.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[h.jsx("div",{className:"text-sm font-medium text-gray-900",children:N.orderNumber}),h.jsxs("div",{className:"text-xs text-gray-500",children:[N.items?.length||0," items"]})]}),h.jsxs("td",{className:"px-6 py-4",children:[h.jsxs("div",{className:"text-sm text-gray-900",children:[N.shippingAddress?.firstName," ",N.shippingAddress?.lastName]}),h.jsx("div",{className:"text-xs text-gray-500",children:N.shippingAddress?.email})]}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:R(N.createdAt)}),h.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:["",N.total?.toLocaleString()]}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded ${E(N.paymentStatus)}`,children:N.paymentStatus||"pending"})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:h.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded ${w(N.status)}`,children:N.status||"pending"})}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:h.jsxs("button",{onClick:()=>{v(N),S(!0)},className:"text-pink-300 hover:text-pink-400 font-medium flex items-center gap-1",children:[h.jsx(oc,{size:16}),"View"]})})]},N.id))})]})})}),b&&p&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:h.jsxs("div",{className:"bg-white max-w-4xl w-full my-8",children:[h.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Order Details"}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:p.orderNumber})]}),h.jsx("button",{onClick:()=>S(!1),className:"text-gray-400 hover:text-gray-600",children:h.jsx(lh,{size:24})})]}),h.jsxs("div",{className:"p-6 max-h-[calc(100vh-200px)] overflow-y-auto",children:[h.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Status"}),h.jsxs("select",{value:p.status,onChange:N=>ue(p.userId,p.id,N.target.value),className:"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-pink-300",children:[h.jsx("option",{value:"pending",children:"Pending"}),h.jsx("option",{value:"processing",children:"Processing"}),h.jsx("option",{value:"shipped",children:"Shipped"}),h.jsx("option",{value:"delivered",children:"Delivered"}),h.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Status"}),h.jsxs("select",{value:p.paymentStatus,onChange:N=>he(p.userId,p.id,N.target.value),className:"w-full px-3 py-2 border border-gray-300 focus:outline-none focus:border-pink-300",children:[h.jsx("option",{value:"pending",children:"Pending"}),h.jsx("option",{value:"paid",children:"Paid"}),h.jsx("option",{value:"failed",children:"Failed"}),h.jsx("option",{value:"refunded",children:"Refunded"})]})]})]}),h.jsxs("div",{className:"bg-gray-50 border border-gray-200 p-4 mb-6",children:[h.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[h.jsx(BA,{size:20,className:"text-pink-300"}),"Customer Information"]}),h.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600",children:"Name"}),h.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[p.shippingAddress?.firstName," ",p.shippingAddress?.lastName]})]}),h.jsxs("div",{children:[h.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-1",children:[h.jsx(zo,{size:14})," Email"]}),h.jsx("p",{className:"text-sm font-medium text-gray-900",children:p.shippingAddress?.email})]}),h.jsxs("div",{children:[h.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-1",children:[h.jsx(bh,{size:14})," Phone"]}),h.jsx("p",{className:"text-sm font-medium text-gray-900",children:p.shippingAddress?.phone})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600",children:"Order Date"}),h.jsx("p",{className:"text-sm font-medium text-gray-900",children:R(p.createdAt)})]})]})]}),h.jsxs("div",{className:"bg-gray-50 border border-gray-200 p-4 mb-6",children:[h.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[h.jsx(xh,{size:20,className:"text-pink-300"}),"Shipping Address"]}),h.jsxs("p",{className:"text-sm text-gray-900",children:[p.shippingAddress?.address,h.jsx("br",{}),p.shippingAddress?.city,", ",p.shippingAddress?.state,h.jsx("br",{}),p.shippingAddress?.zipCode&&`${p.shippingAddress.zipCode}, `,p.shippingAddress?.country]}),h.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-300",children:[h.jsx("p",{className:"text-sm text-gray-600",children:"Shipping Method"}),h.jsxs("p",{className:"text-sm font-medium text-gray-900 capitalize",children:[p.shippingMethod," - ",p.shippingCost?.toLocaleString()]})]})]}),h.jsxs("div",{className:"bg-gray-50 border border-gray-200 p-4 mb-6",children:[h.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[h.jsx(Pm,{size:20,className:"text-pink-300"}),"Payment Information"]}),h.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600",children:"Payment Method"}),h.jsx("p",{className:"text-sm font-medium text-gray-900 capitalize",children:p.paymentMethod})]}),p.paymentReference&&h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600",children:"Payment Reference"}),h.jsx("p",{className:"text-sm font-medium text-gray-900",children:p.paymentReference})]}),p.orderOtp&&h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600",children:"Order OTP"}),h.jsx("p",{className:"text-sm font-bold text-pink-300",children:p.orderOtp})]})]})]}),h.jsxs("div",{className:"mb-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Order Items"}),h.jsx("div",{className:"space-y-3",children:p.items?.map((N,D)=>h.jsxs("div",{className:"flex gap-4 p-3 border border-gray-200",children:[h.jsx("img",{src:N.image,alt:N.name,className:"w-20 h-24 object-cover"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h4",{className:"text-sm font-medium text-gray-900",children:N.name}),h.jsxs("p",{className:"text-xs text-gray-600",children:["Size: ",N.size]}),h.jsxs("p",{className:"text-xs text-gray-600",children:["Quantity: ",N.quantity]}),h.jsxs("p",{className:"text-sm font-semibold text-gray-900 mt-1",children:["",N.price?.toLocaleString(),"  ",N.quantity," = ",(N.price*N.quantity).toLocaleString()]})]})]},D))})]}),h.jsxs("div",{className:"bg-gray-50 border border-gray-200 p-4",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Order Summary"}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-gray-600",children:"Subtotal"}),h.jsxs("span",{className:"font-medium text-gray-900",children:["",p.subtotal?.toLocaleString()]})]}),h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-gray-600",children:"Shipping"}),h.jsxs("span",{className:"font-medium text-gray-900",children:["",p.shippingCost?.toLocaleString()]})]}),h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-gray-600",children:"Tax"}),h.jsxs("span",{className:"font-medium text-gray-900",children:["",p.tax?.toLocaleString()]})]}),h.jsxs("div",{className:"flex justify-between text-lg font-bold pt-2 border-t border-gray-300",children:[h.jsx("span",{className:"text-gray-900",children:"Total"}),h.jsxs("span",{className:"text-pink-300",children:["",p.total?.toLocaleString()]})]})]})]})]}),h.jsxs("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200 bg-gray-50",children:[h.jsx("button",{onClick:()=>S(!1),className:"px-6 py-2 border border-gray-300 text-gray-700 font-medium hover:bg-gray-100",children:"Close"}),h.jsx("button",{onClick:()=>window.print(),className:"px-6 py-2 bg-pink-300 text-white font-medium hover:bg-pink-400",children:"Print Order"})]})]})})]})})},kj=()=>{const[i,e]=U.useState({name:"",brand:"",model:"",sku:"",price:"",originalPrice:"",category:"",collection:"",subcategory:"",variants:"",reviews:0,rating:5,stock:0,description:"",material:"",pattern:"",care:"",fit:"",sizes:[],colors:[],image1:"",image2:"",image3:"",image4:"",image5:""}),n=_i(),r=Fh(),[l,c]=U.useState(!1),[f,g]=U.useState(null),[p,v]=U.useState([]),[b,S]=U.useState([]),[C,P]=U.useState([null,null,null,null,null]),[Q,J]=U.useState(!1),[B,se]=U.useState(!1),[ie,G]=U.useState(""),Y=["GIRLS","BOYS","BABY","NEW ARRIVALS","ACCESSORIES","FOOTWEAR"],ue={GIRLS:["TWO-PIECE SETS","DRESSES","TOPS","BOTTOMS","FOOTWEAR","OTHERS"],BOYS:["TWO-PIECE SETS","TOPS","BOTTOMS","FOOTWEAR","OTHERS"],BABY:["BABY GIRL","BABY BOY","FOOTWEAR"],"NEW ARRIVALS":["LATEST COLLECTION","BEST SELLERS"],ACCESSORIES:["HAIR ACCESSORIES","FASHION ACCESSORIES"],FOOTWEAR:["BABY SHOES","KIDS SHOES"]},he={"TWO-PIECE SETS":["CORD SETS","MATCHING TOP & BOTTOM"],DRESSES:["CASUAL DRESSES","SPECIAL OCCASION DRESSES"],TOPS:["T-SHIRTS","BLOUSES","JACKETS","SHIRTS"],BOTTOMS:["SHORTS","JEANS","TROUSERS"],"BABY GIRL":["TWO-PIECE SETS","DRESSES"],"BABY BOY":["TWO-PIECE SETS"]},w=["0-6 MTH","6-12 MTH","1-2 YEARS","2-4 YEARS","4-6 YEARS","6-8 YEARS","8-10 YEARS","10-12 YEARS"],E=["Pink","Purple","Blue","Red","Yellow","Green","White","Black","Multi-Color"],R=V=>{const{name:ce,value:ye}=V.target;e(k=>({...k,[ce]:ye,...ce==="category"&&{collection:"",subcategory:""}}))},j=V=>{v(ce=>ce.includes(V)?ce.filter(ye=>ye!==V):[...ce,V])},N=V=>{S(ce=>ce.includes(V)?ce.filter(ye=>ye!==V):[...ce,V])},D=(V,ce=800,ye=.7)=>new Promise((k,W)=>{const ae=new FileReader;ae.onload=de=>{const _e=new Image;_e.onload=()=>{const Ee=document.createElement("canvas");let Ce=_e.width,Me=_e.height;Ce>ce&&(Me=Me*ce/Ce,Ce=ce),Ee.width=Ce,Ee.height=Me,Ee.getContext("2d").drawImage(_e,0,0,Ce,Me);const qs=Ee.toDataURL("image/jpeg",ye);k(qs)},_e.onerror=W,_e.src=de.target.result},ae.onerror=W,ae.readAsDataURL(V)}),I=async(V,ce)=>{const ye=V.target.files[0];if(ye)try{const k=await D(ye,800,.7),W=[...C];W[ce-1]=k,P(W),e(ae=>({...ae,[`image${ce}`]:k}))}catch(k){console.error("Error compressing image:",k),alert("Failed to compress image. Please try again.")}},pe=V=>{const ce=[...C];ce[V-1]=null,P(ce),e(ye=>({...ye,[`image${V}`]:""}))},Oe=()=>{if(i.price&&i.originalPrice){const V=parseFloat(i.price),ce=parseFloat(i.originalPrice);if(ce>V)return Math.round((ce-V)/ce*100)}return 0},X=async()=>{if(!i.name||!i.price||!i.category||!i.collection||p.length===0||b.length===0){alert("Please fill in all required fields");return}se(!0),G("Preparing product data...");try{const V=[];for(let k=1;k<=5;k++)i[`image${k}`]?V.push(i[`image${k}`]):C[k-1]&&V.push(C[k-1]);if(V.length===0){alert("Please upload at least one image"),se(!1),G("");return}const ce={name:i.name,brand:i.brand,model:i.model,sku:i.sku,price:parseInt(i.price),originalPrice:parseInt(i.originalPrice)||parseInt(i.price),discount:Oe(),category:i.category,collection:i.collection,subcategory:i.subcategory,variants:`${b.length} colors`,reviews:i.reviews,rating:i.rating,stock:parseInt(i.stock)||0,description:i.description,material:i.material,pattern:i.pattern,care:i.care,fit:i.fit,sizes:p,colors:b,images:V};G(l?"Updating product...":"Saving product...");let ye;l?(ye=await Sj(f,ce),alert("Product updated successfully!")):(ye=await Ej(ce),alert("Product added successfully!")),console.log("Product saved successfully:",ye),r("/products")}catch(V){console.error("Error saving product:",V),alert(`Failed to ${l?"update":"add"} product. Please try again.`)}finally{se(!1),G("")}},le=()=>{const[V,ce]=U.useState(0),[ye,k]=U.useState(""),[W,ae]=U.useState(1),[de,_e]=U.useState(!1),Ee=C.filter(Me=>Me!==null),Ce=Oe();return h.jsx("div",{className:"fixed inset-0 bg-black/[0.8] bg-opacity-75 z-50 overflow-y-auto",children:h.jsx("div",{className:"min-h-screen px-4 py-6",children:h.jsxs("div",{className:"max-w-7xl mx-auto bg-white",children:[h.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between z-10",children:[h.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Product Preview"}),h.jsx("button",{onClick:()=>J(!1),className:"p-2 hover:bg-gray-100 transition-colors",children:h.jsx(lh,{size:24,className:"text-gray-600"})})]}),h.jsx("div",{className:"px-6 py-6",children:h.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[h.jsxs("div",{children:[h.jsx("div",{className:"bg-gray-50 border border-gray-200 mb-4",children:Ee.length>0?h.jsx("img",{src:Ee[V]||Ee[0],alt:i.name,className:"w-full h-auto object-contain"}):h.jsx("div",{className:"w-full h-96 flex items-center justify-center text-gray-400",children:"No images uploaded"})}),Ee.length>1&&h.jsx("div",{className:"grid grid-cols-4 gap-3",children:Ee.map((Me,Ge)=>h.jsx("button",{onClick:()=>ce(Ge),className:`border-2 transition-all ${V===Ge?"border-pink-300":"border-gray-200 hover:border-gray-300"}`,children:h.jsx("img",{src:Me,alt:`View ${Ge+1}`,className:"w-full h-auto object-cover"})},Ge))}),h.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:h.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:i.description||"No description provided"})}),(i.material||i.pattern||i.care||i.fit)&&h.jsxs("div",{className:"mt-6",children:[h.jsx("div",{className:"bg-pink-300 text-white px-4 py-2 font-semibold text-sm",children:"Key Features"}),h.jsx("table",{className:"w-full text-sm border-x border-b border-gray-200",children:h.jsxs("tbody",{children:[i.material&&h.jsxs("tr",{className:"border-b border-gray-200",children:[h.jsx("td",{className:"px-4 py-3 text-gray-600 bg-gray-50 w-1/3",children:"Material"}),h.jsx("td",{className:"px-4 py-3 text-gray-900",children:i.material})]}),i.pattern&&h.jsxs("tr",{className:"border-b border-gray-200",children:[h.jsx("td",{className:"px-4 py-3 text-gray-600 bg-gray-50 w-1/3",children:"Pattern"}),h.jsx("td",{className:"px-4 py-3 text-gray-900",children:i.pattern})]}),i.care&&h.jsxs("tr",{className:"border-b border-gray-200",children:[h.jsx("td",{className:"px-4 py-3 text-gray-600 bg-gray-50 w-1/3",children:"Care"}),h.jsx("td",{className:"px-4 py-3 text-gray-900",children:i.care})]}),i.fit&&h.jsxs("tr",{children:[h.jsx("td",{className:"px-4 py-3 text-gray-600 bg-gray-50 w-1/3",children:"Fit"}),h.jsx("td",{className:"px-4 py-3 text-gray-900",children:i.fit})]})]})})]})]}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl lg:text-3xl font-semibold text-gray-900 mb-2",children:i.name||"Product Name"}),h.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mb-3",children:[h.jsxs("span",{children:["Brand: ",h.jsx("span",{className:"text-pink-300 font-medium",children:i.brand||"N/A"})]}),h.jsx("span",{className:"text-gray-300",children:"|"}),h.jsxs("span",{children:["Model: ",h.jsx("span",{className:"font-medium text-gray-900",children:i.model||"N/A"})]})]}),h.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"flex",children:[...Array(5)].map((Me,Ge)=>h.jsx(DA,{size:16,className:Ge<(i.rating||5)?"text-yellow-400 fill-yellow-400":"text-gray-300"},Ge))}),h.jsxs("span",{className:"text-sm text-gray-600",children:["(Reviews: ",i.reviews||0,")"]})]}),h.jsx("span",{className:"bg-green-100 text-green-700 text-xs px-2 py-1 font-medium",children:"In Stock"})]})]}),h.jsx("div",{className:"bg-gray-50 p-4 border border-gray-200",children:h.jsxs("div",{className:"flex items-baseline gap-3",children:[h.jsxs("span",{className:"text-3xl font-bold text-gray-900",children:["",parseInt(i.price||0).toLocaleString()]}),i.originalPrice&&h.jsxs(h.Fragment,{children:[h.jsxs("span",{className:"text-lg text-gray-400 line-through",children:["",parseInt(i.originalPrice).toLocaleString()]}),Ce>0&&h.jsxs("span",{className:"bg-green-500 text-white text-sm px-2 py-1 font-medium",children:["Save ",Ce,"%"]})]})]})}),b.length>0&&h.jsxs("div",{children:[h.jsx("div",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Available Colors:"}),h.jsx("div",{className:"flex gap-3 flex-wrap",children:b.map(Me=>h.jsx("button",{className:"px-4 py-2 border-2 border-gray-300 text-sm text-gray-700 hover:border-pink-300 transition-all",children:Me},Me))})]}),p.length>0&&h.jsxs("div",{children:[h.jsx("div",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Sizes:"}),h.jsx("div",{className:"grid grid-cols-4 gap-3",children:p.map(Me=>h.jsx("button",{onClick:()=>k(Me),className:`py-2.5 text-sm font-medium border-2 transition-all ${ye===Me?"border-pink-300 bg-pink-50 text-pink-400":"border-gray-300 text-gray-700 hover:border-pink-300"}`,children:Me},Me))})]}),h.jsxs("div",{className:"text-sm",children:[h.jsx("span",{className:"text-gray-600",children:"Available: "}),h.jsxs("span",{className:"font-semibold text-gray-900",children:[i.stock||0," units"]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("div",{className:"flex items-center border border-gray-300",children:[h.jsx("button",{onClick:()=>ae(Math.max(1,W-1)),className:"px-4 py-3 hover:bg-gray-50 transition-colors",children:h.jsx(mA,{size:16,className:"text-gray-700"})}),h.jsx("input",{type:"text",value:W,readOnly:!0,className:"w-16 text-center border-x border-gray-300 py-3 text-sm font-semibold"}),h.jsx("button",{onClick:()=>ae(W+1),className:"px-4 py-3 hover:bg-gray-50 transition-colors",children:h.jsx(tb,{size:16,className:"text-gray-700"})})]}),h.jsxs("button",{className:"flex-1 py-3 bg-pink-300 text-white hover:bg-pink-400 font-semibold text-sm transition-all flex items-center justify-center gap-2",children:[h.jsx(nb,{size:18}),"Add to Cart"]})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:()=>_e(!de),className:`flex-1 py-3 border-2 font-medium text-sm transition-all flex items-center justify-center gap-2 ${de?"border-pink-300 bg-pink-50 text-pink-400":"border-gray-300 text-gray-700 hover:border-pink-300"}`,children:h.jsx(iA,{size:18,className:de?"fill-pink-400":""})}),h.jsx("button",{className:"flex-1 py-3 border-2 border-gray-300 font-medium text-sm text-gray-700 hover:border-pink-300 transition-all flex items-center justify-center gap-2",children:h.jsx(AA,{size:18})})]})]}),h.jsx("div",{className:"bg-green-50 border border-green-200 px-4 py-3",children:h.jsx("p",{className:"text-sm text-green-700",children:" Warranty: No warranty"})}),h.jsxs("div",{className:"space-y-3 border-t border-gray-200 pt-6",children:[h.jsxs("div",{className:"flex gap-4",children:[h.jsx(ll,{className:"text-gray-600 flex-shrink-0 mt-1",size:20}),h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold text-sm text-gray-900",children:"Free Delivery"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Enter your postal code for delivery availability"})]})]}),h.jsxs("div",{className:"flex gap-4",children:[h.jsx(_A,{className:"text-gray-600 flex-shrink-0 mt-1",size:20}),h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold text-sm text-gray-900",children:"Return Delivery"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Free 30 days delivery returns. Details"})]})]})]})]})]})})]})})})};return U.useEffect(()=>{if(n.state?.product&&n.state?.isEditing){const V=n.state.product;if(c(!0),g(V.id),e({name:V.name||"",brand:V.brand||"",model:V.model||"",sku:V.sku||"",price:V.price||"",originalPrice:V.originalPrice||"",category:V.category||"",collection:V.collection||"",subcategory:V.subcategory||"",variants:V.variants||"",reviews:V.reviews||0,rating:V.rating||5,stock:V.stock||0,description:V.description||"",material:V.material||"",pattern:V.pattern||"",care:V.care||"",fit:V.fit||"",sizes:V.sizes||[],colors:V.colors||[],image1:"",image2:"",image3:"",image4:"",image5:""}),v(V.sizes||[]),S(V.colors||[]),V.images&&Array.isArray(V.images)){const ce=[null,null,null,null,null];V.images.forEach((ye,k)=>{k<5&&(ce[k]=ye)}),P(ce)}}},[n.state]),h.jsxs("div",{className:"bg-gray-900 min-h-screen",children:[Q&&h.jsx(le,{}),B&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex items-center justify-center",children:h.jsxs("div",{className:"bg-white p-8 rounded-lg text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-pink-300 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-900 font-semibold",children:ie})]})}),h.jsxs("div",{className:"max-w-8xl mx-auto px-4 py-6",children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("h1",{className:"text-2xl lg:text-3xl font-semibold text-white",children:l?"Edit Product":"Add New Product"}),h.jsx("p",{className:"text-sm text-gray-400 mt-2",children:l?"Update product details":"Create a new product for your kids clothing store"})]}),h.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsx("h2",{className:"text-lg font-semibold text-white",children:"Product Images *"}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Primary Image"}),C[0]?h.jsxs("div",{className:"relative bg-gray-800 border border-gray-700 w-full h-[400px]",children:[h.jsx("img",{src:C[0],alt:"Preview 1",className:"w-full h-full object-cover"}),h.jsx("button",{onClick:()=>pe(1),className:"absolute top-2 right-2 bg-red-500 text-white p-2 hover:bg-red-600 transition-colors",children:h.jsx(lh,{size:16})})]}):h.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-96 border-2 border-dashed border-gray-700 bg-gray-800 cursor-pointer hover:border-pink-300 hover:bg-gray-750 transition-all",children:[h.jsx(t_,{size:40,className:"text-gray-500 mb-2"}),h.jsx("span",{className:"text-sm text-gray-400",children:"Click to upload primary image"}),h.jsx("input",{type:"file",accept:"image/*",onChange:V=>I(V,1),className:"hidden"})]})]}),h.jsx("div",{className:"grid grid-cols-4 gap-3",children:[2,3,4,5].map(V=>h.jsx("div",{children:C[V-1]?h.jsxs("div",{className:"relative border-2 border-gray-700 h-[200px]",children:[h.jsx("img",{src:C[V-1],alt:`Preview ${V}`,className:"w-full h-full  object-cover"}),h.jsx("button",{onClick:()=>pe(V),className:"absolute top-1 right-1 bg-red-500 text-white p-1 hover:bg-red-600 transition-colors",children:h.jsx(lh,{size:12})})]}):h.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-gray-700 bg-gray-800 cursor-pointer hover:border-pink-300 hover:bg-gray-750 transition-all",children:[h.jsx(t_,{size:20,className:"text-gray-500 mb-1"}),h.jsxs("span",{className:"text-xs text-gray-400",children:["Image ",V]}),h.jsx("input",{type:"file",accept:"image/*",onChange:ce=>I(ce,V),className:"hidden"})]})},V))}),h.jsxs("div",{className:"pt-4",children:[h.jsx("h2",{className:"text-lg font-semibold text-white mb-3",children:"Available Colors *"}),h.jsx("div",{className:"flex flex-wrap gap-3",children:E.map(V=>h.jsx("button",{onClick:()=>N(V),className:`px-4 py-2 border-2 text-sm font-medium transition-all ${b.includes(V)?"border-pink-300 bg-pink-900 text-pink-300":"border-gray-600 text-gray-300 bg-gray-800 hover:border-pink-300"}`,children:V},V))})]}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-lg font-semibold text-white mb-3",children:"Age Range *"}),h.jsx("div",{className:"grid grid-cols-4 gap-3",children:w.map(V=>h.jsx("button",{onClick:()=>j(V),className:`py-2.5 text-sm font-medium border-2 transition-all ${p.includes(V)?"border-pink-300 bg-pink-900 text-pink-300":"border-gray-600 text-gray-300 bg-gray-800 hover:border-pink-300"}`,children:V},V))})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Stock Quantity *"}),h.jsx("input",{type:"number",name:"stock",value:i.stock,onChange:R,className:"w-full px-4 py-3 border border-gray-700 bg-gray-800 text-white text-sm focus:outline-none focus:border-pink-300",placeholder:"6"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Product Description"}),h.jsx("textarea",{name:"description",value:i.description,onChange:R,rows:"4",className:"w-full px-4 py-3 border border-gray-700 bg-gray-800 text-white text-sm focus:outline-none focus:border-pink-300",placeholder:"The Boys Blue Ankara Short Sleeve Shirt features premium quality fabric..."})]}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-lg font-semibold text-white mb-3",children:"Key Features"}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Material"}),h.jsx("input",{type:"text",name:"material",value:i.material,onChange:R,className:"w-full px-4 py-3 border border-gray-700 bg-gray-800 text-white text-sm focus:outline-none focus:border-pink-300",placeholder:"Premium Cotton Blend"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Pattern"}),h.jsx("input",{type:"text",name:"pattern",value:i.pattern,onChange:R,className:"w-full px-4 py-3 border border-gray-700 bg-gray-800 text-white text-sm focus:outline-none focus:border-pink-300",placeholder:"Authentic Ankara Print"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Care"}),h.jsx("input",{type:"text",name:"care",value:i.care,onChange:R,className:"w-full px-4 py-3 border border-gray-700 bg-gray-800 text-white text-sm focus:outline-none focus:border-pink-300",placeholder:"Machine Washable"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Fit"}),h.jsx("input",{type:"text",name:"fit",value:i.fit,onChange:R,className:"w-full px-4 py-3 border border-gray-700 bg-gray-800 text-white text-sm focus:outline-none focus:border-pink-300",placeholder:"Comfortable Regular Fit"})]})]})]})]}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Basic Information"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Product Name *"}),h.jsx("input",{type:"text",name:"name",value:i.name,onChange:R,className:"w-full px-4 py-3 border border-gray-700 bg-gray-800 text-white text-sm focus:outline-none focus:border-pink-300",placeholder:"BOYS BLUE ANKARA SHORT SLEEVE SHIRT"})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Brand"}),h.jsx("input",{type:"text",name:"brand",value:i.brand,onChange:R,className:"w-full px-4 py-3 border border-gray-700 bg-gray-800 text-white text-sm focus:outline-none focus:border-pink-300",placeholder:"ANKARA KIDS"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Model"}),h.jsx("input",{type:"text",name:"model",value:i.model,onChange:R,className:"w-full px-4 py-3 border border-gray-700 bg-gray-800 text-white text-sm focus:outline-none focus:border-pink-300",placeholder:"Latest AKS"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"SKU"}),h.jsx("input",{type:"text",name:"sku",value:i.sku,onChange:R,className:"w-full px-4 py-3 border border-gray-700 bg-gray-800 text-white text-sm focus:outline-none focus:border-pink-300",placeholder:"LSSCBDLNCR_18 MTH"})]})]})]}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Pricing"}),h.jsxs("div",{className:"bg-gray-800 p-4 border border-gray-700",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Price () *"}),h.jsx("input",{type:"number",name:"price",value:i.price,onChange:R,className:"w-full px-4 py-3 border border-gray-700 bg-gray-900 text-white text-sm focus:outline-none focus:border-pink-300",placeholder:"37950"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Original Price ()"}),h.jsx("input",{type:"number",name:"originalPrice",value:i.originalPrice,onChange:R,className:"w-full px-4 py-3 border border-gray-700 bg-gray-900 text-white text-sm focus:outline-none focus:border-pink-300",placeholder:"45000"})]})]}),Oe()>0&&h.jsxs("div",{className:"bg-green-500 text-white text-sm px-2 py-1 font-medium inline-block",children:["Save ",Oe(),"%"]})]})]}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Category & Collection"}),h.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Category *"}),h.jsxs("select",{name:"category",value:i.category,onChange:R,className:"w-full px-4 py-3 border border-gray-700 bg-gray-800 text-white text-sm focus:outline-none focus:border-pink-300",children:[h.jsx("option",{value:"",children:"Select category"}),Y.map(V=>h.jsx("option",{value:V,children:V},V))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Collection *"}),h.jsxs("select",{name:"collection",value:i.collection,onChange:R,disabled:!i.category,className:"w-full px-4 py-3 border border-gray-700 bg-gray-800 text-white text-sm focus:outline-none focus:border-pink-300 disabled:bg-gray-900 disabled:text-gray-600",children:[h.jsx("option",{value:"",children:"Select collection"}),i.category&&ue[i.category]?.map(V=>h.jsx("option",{value:V,children:V},V))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Subcategory"}),h.jsxs("select",{name:"subcategory",value:i.subcategory,onChange:R,disabled:!i.collection,className:"w-full px-4 py-3 border border-gray-700 bg-gray-800 text-white text-sm focus:outline-none focus:border-pink-300 disabled:bg-gray-900 disabled:text-gray-600",children:[h.jsx("option",{value:"",children:"Select subcategory"}),i.collection&&he[i.collection]?.map(V=>h.jsx("option",{value:V,children:V},V))]})]})]})]}),h.jsxs("div",{className:"space-y-3 pt-4",children:[h.jsxs("button",{onClick:()=>J(!0),className:"w-full py-3 bg-gray-700 text-white font-semibold text-sm transition-all hover:bg-gray-600 flex items-center justify-center gap-2",children:[h.jsx(oc,{size:18}),"Preview Product"]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsxs("button",{onClick:X,className:"flex-1 py-3 bg-pink-300 text-white font-semibold text-sm transition-all hover:bg-pink-400 flex items-center justify-center gap-2",children:[h.jsx(bA,{size:18}),l?"Update Product":"Add Product"]}),h.jsx("button",{onClick:()=>r("/products"),className:"flex-1 py-3 border-2 border-gray-600 font-semibold text-sm text-gray-300 hover:border-pink-300 transition-all",children:"Cancel"})]})]})]})]})]})]})},Mj=()=>{const[i,e]=U.useState(!1);return h.jsx(Sw,{children:h.jsxs("div",{className:"flex",children:[h.jsx(FA,{collapsed:i,setCollapsed:e}),h.jsx("div",{className:`${i?"ml-20":"ml-64"} flex-1 min-h-screen  bg-gray-100 transition-all duration-300`,children:h.jsxs(tw,{children:[h.jsx(As,{index:!0,element:h.jsx(xj,{})}),h.jsx(As,{path:"/orders",element:h.jsx(Oj,{})}),h.jsx(As,{path:"/customers",element:h.jsx(Rj,{})}),h.jsx(As,{path:"/Analytics",element:h.jsx(Cj,{})}),h.jsx(As,{path:"/Promotions",element:h.jsx(Ij,{})}),h.jsx(As,{path:"/Shipping",element:h.jsx(jj,{})}),h.jsx(As,{path:"/Reviews",element:h.jsx(Dj,{})}),h.jsx(As,{path:"/products",element:h.jsx(Nj,{})}),h.jsx(As,{path:"/add-product",element:h.jsx(kj,{})})]})})]})})};hS.createRoot(document.getElementById("root")).render(h.jsx(U.StrictMode,{children:h.jsx(Mj,{})}));
